<div *ngIf="currentTag!=''; else categoryHeading"> 
  <h3> {{currentTag}} </h3>
</div>
<ng-template #categoryHeading>
  <h3> {{currentCategory}} </h3>
</ng-template>
<!-- If viewing docos by tag -->
<div *ngIf="currentTag!=''; else showAllFromCategory"> 
  <div *ngFor="let doco of documentariesList | async"  role="listitem">
    <!-- If user selected to only show docos for a specific tag -->
    <div *ngFor="let tag of doco.tags"  role="listitem">
      <div *ngIf="tag===currentTagId"> 
        <!-- Display their details -->
        <a routerLink="{{doco.link}}"> {{doco.name}} </a>
        <p>{{doco.description}}</p>
        <p>{{doco.studio}}</p>
        <p>{{doco.tags}}</p>
        <!-- End of details -->
      </div>
    </div>
  </div>
</div>
<!-- If viewing docos by a specific category -->
<ng-template #showAllFromCategory>
  <!-- Show a list of tags under that category -->
  <div *ngFor="let tag of tagsList" role="listitem" class="d-inline">
    <a *ngIf="tag.category===currentCategoryId" routerLink="{{'/'+tag.link}}" >
      <span class="badge badge-secondary tag mb-3 mt-3" >{{'#'+tag.name}}</span>
    </a>
  </div>
  <!-- Show documentaries under that category -->
  <div *ngFor="let doco of documentariesList | async"  role="listitem">
    <div *ngIf="doco.category===currentCategoryId"> 
      <!-- Display their details -->
      <a routerLink="{{doco.link}}"> {{doco.name}} </a>
      <p>{{doco.description}}</p>
      <p>{{doco.studio}}</p>
      <p>{{doco.tags}}</p>
      <p>{{doco.category}}</p>
      <!-- End of details -->
    </div>
  </div>
</ng-template>
<!-- End of loop -->


