(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("uXP2"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},DlQD:function(t,e,n){t.exports=function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,n){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}var r=function(t,e){return function(t){function e(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:e,changeDefaults:function(e){t.exports.defaults=e}}}(e={exports:{}}),e.exports}(),i=/[&<>"']/,o=/[&<>"']/g,s=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=function(t){return u[t]},l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(t){return t.replace(l,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}var f=/(^|[^\[])\^/g,d=/[^\w:]/g,p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,g={},b=/^[^:]+:\/*[^/]*$/,y=/^([^:]+:)[\s\S]*$/,m=/^([^:]+:\/*[^/]*)[\s\S]*$/;function v(t,e,n){var r=t.length;if(0===r)return"";for(var i=0;i<r;){var o=t.charAt(r-i-1);if(o!==e||n){if(o===e||!n)break;i++}else i++}return t.substr(0,r-i)}var w=function(t,e){if(e){if(i.test(t))return t.replace(o,c)}else if(s.test(t))return t.replace(a,c);return t},_=h,O=function(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},E=r.defaults,x=v,S=function(t,e){var n=t.replace(/\|/g,function(t,e,n){for(var r=!1,i=e;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},T=w;function k(t,e,n){var r=e.href,i=e.title?T(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");return"!"!==t[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:o}:{type:"image",raw:n,href:r,title:i,text:T(o)}}var C=function(){function t(t){this.options=t||E}var e=t.prototype;return e.space=function(t){var e=this.rules.block.newline.exec(t);if(e)return e[0].length>1?{type:"space",raw:e[0]}:{raw:"\n"}},e.code=function(t,e){var n=this.rules.block.code.exec(t);if(n){var r=e[e.length-1];if(r&&"paragraph"===r.type)return{raw:n[0],text:n[0].trimRight()};var i=n[0].replace(/^ {4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:x(i,"\n")}}},e.fences=function(t){var e=this.rules.block.fences.exec(t);if(e){var n=e[0],r=function(t,e){var n=t.match(/^(\s+)(?:```)/);if(null===n)return e;var r=n[1];return e.split("\n").map(function(t){var e=t.match(/^\s+/);return null===e?t:e[0].length>=r.length?t.slice(r.length):t}).join("\n")}(n,e[3]||"");return{type:"code",raw:n,lang:e[2]?e[2].trim():e[2],text:r}}},e.heading=function(t){var e=this.rules.block.heading.exec(t);if(e){var n=e[2].trim();if(/#$/.test(n)){var r=x(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n}}},e.nptable=function(t){var e=this.rules.block.nptable.exec(t);if(e){var n={type:"table",header:S(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[],raw:e[0]};if(n.header.length===n.align.length){var r,i=n.align.length;for(r=0;r<i;r++)n.align[r]=/^ *-+: *$/.test(n.align[r])?"right":/^ *:-+: *$/.test(n.align[r])?"center":/^ *:-+ *$/.test(n.align[r])?"left":null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=S(n.cells[r],n.header.length);return n}}},e.hr=function(t){var e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}},e.blockquote=function(t){var e=this.rules.block.blockquote.exec(t);if(e){var n=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],text:n}}},e.list=function(t){var e=this.rules.block.list.exec(t);if(e){var n,r,i,o,s,a,u,c,l=e[0],h=e[2],f=h.length>1,d={type:"list",raw:l,ordered:f,start:f?+h.slice(0,-1):"",loose:!1,items:[]},p=e[0].match(this.rules.block.item),g=!1,b=p.length;i=this.rules.block.listItemStart.exec(p[0]);for(var y=0;y<b;y++){if(l=n=p[y],y!==b-1){if((o=this.rules.block.listItemStart.exec(p[y+1]))[1].length>i[0].length||o[1].length>3){p.splice(y,2,p[y]+"\n"+p[y+1]),y--,b--;continue}(!this.options.pedantic||this.options.smartLists?o[2][o[2].length-1]!==h[h.length-1]:f===(1===o[2].length))&&(s=p.slice(y+1).join("\n"),d.raw=d.raw.substring(0,d.raw.length-s.length),y=b-1),i=o}r=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(r-=n.length,n=n.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+r+"}","gm"),"")),a=g||/\n\n(?!\s*$)/.test(n),y!==b-1&&(g="\n"===n.charAt(n.length-1),a||(a=g)),a&&(d.loose=!0),this.options.gfm&&(c=void 0,(u=/^\[[ xX]\] /.test(n))&&(c=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),d.items.push({type:"list_item",raw:l,task:u,checked:c,loose:a,text:n})}return d}},e.html=function(t){var e=this.rules.block.html.exec(t);if(e)return{type:this.options.sanitize?"paragraph":"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):T(e[0]):e[0]}},e.def=function(t){var e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},e.table=function(t){var e=this.rules.block.table.exec(t);if(e){var n={type:"table",header:S(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=e[0];var r,i=n.align.length;for(r=0;r<i;r++)n.align[r]=/^ *-+: *$/.test(n.align[r])?"right":/^ *:-+: *$/.test(n.align[r])?"center":/^ *:-+ *$/.test(n.align[r])?"left":null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=S(n.cells[r].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},e.lheading=function(t){var e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1]}},e.paragraph=function(t){var e=this.rules.block.paragraph.exec(t);if(e)return{type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]}},e.text=function(t,e){var n=this.rules.block.text.exec(t);if(n){var r=e[e.length-1];return r&&"text"===r.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}},e.escape=function(t){var e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:T(e[1])}},e.tag=function(t,e,n){var r=this.rules.inline.tag.exec(t);if(r)return!e&&/^<a /i.test(r[0])?e=!0:e&&/^<\/a>/i.test(r[0])&&(e=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:e,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):T(r[0]):r[0]}},e.link=function(t){var e=this.rules.inline.link.exec(t);if(e){var n=e[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=x(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var i=function(t,e){if(-1===t.indexOf(e[1]))return-1;for(var n=t.length,r=0,i=0;i<n;i++)if("\\"===t[i])i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&--r<0)return i;return-1}(e[2],"()");if(i>-1){var o=(0===e[0].indexOf("!")?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,o).trim(),e[3]=""}}var s=e[2],a="";if(this.options.pedantic){var u=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);u&&(s=u[1],a=u[3])}else a=e[3]?e[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(n)?s.slice(1):s.slice(1,-1)),k(e,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:a?a.replace(this.rules.inline._escapes,"$1"):a},e[0])}},e.reflink=function(t,e){var n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=e[r.toLowerCase()])||!r.href){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return k(n,r,n[0])}},e.strong=function(t,e,n){void 0===n&&(n="");var r=this.rules.inline.strong.start.exec(t);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){e=e.slice(-1*t.length);var i,o="**"===r[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(o.lastIndex=0;null!=(r=o.exec(e));)if(i=this.rules.inline.strong.middle.exec(e.slice(0,r.index+3)))return{type:"strong",raw:t.slice(0,i[0].length),text:t.slice(2,i[0].length-2)}}},e.em=function(t,e,n){void 0===n&&(n="");var r=this.rules.inline.em.start.exec(t);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){e=e.slice(-1*t.length);var i,o="*"===r[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(o.lastIndex=0;null!=(r=o.exec(e));)if(i=this.rules.inline.em.middle.exec(e.slice(0,r.index+2)))return{type:"em",raw:t.slice(0,i[0].length),text:t.slice(1,i[0].length-1)}}},e.codespan=function(t){var e=this.rules.inline.code.exec(t);if(e){var n=e[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=T(n,!0),{type:"codespan",raw:e[0],text:n}}},e.br=function(t){var e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}},e.del=function(t){var e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2]}},e.autolink=function(t,e){var n,r,i=this.rules.inline.autolink.exec(t);if(i)return r="@"===i[2]?"mailto:"+(n=T(this.options.mangle?e(i[1]):i[1])):n=T(i[1]),{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},e.url=function(t,e){var n;if(n=this.rules.inline.url.exec(t)){var r,i;if("@"===n[2])i="mailto:"+(r=T(this.options.mangle?e(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=T(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},e.inlineText=function(t,e,n){var r,i=this.rules.inline.text.exec(t);if(i)return r=e?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):T(i[0]):i[0]:T(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:r}},t}(),I={exec:function(){}},j=function(t,e){t=t.source||t,e=e||"";var n={replace:function(e,r){return r=(r=r.source||r).replace(f,"$1"),t=t.replace(e,r),n},getRegex:function(){return new RegExp(t,e)}};return n},A=O,P={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:I,table:I,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};P.def=j(P.def).replace("label",P._label).replace("title",P._title).getRegex(),P.bullet=/(?:[*+-]|\d{1,9}[.)])/,P.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,P.item=j(P.item,"gm").replace(/bull/g,P.bullet).getRegex(),P.listItemStart=j(/^( *)(bull)/).replace("bull",P.bullet).getRegex(),P.list=j(P.list).replace(/bull/g,P.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+P.def.source+")").getRegex(),P._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",P._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,P.html=j(P.html,"i").replace("comment",P._comment).replace("tag",P._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),P.paragraph=j(P._paragraph).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",P._tag).getRegex(),P.blockquote=j(P.blockquote).replace("paragraph",P.paragraph).getRegex(),P.normal=A({},P),P.gfm=A({},P.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),P.gfm.nptable=j(P.gfm.nptable).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",P._tag).getRegex(),P.gfm.table=j(P.gfm.table).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",P._tag).getRegex(),P.pedantic=A({},P.normal,{html:j("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",P._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:I,paragraph:j(P.normal._paragraph).replace("hr",P.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",P.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var R={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:I,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:I,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};R.punctuation=j(R.punctuation).replace(/punctuation/g,R._punctuation).getRegex(),R._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",R._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",R._comment=j(P._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),R.em.start=j(R.em.start).replace(/punctuation/g,R._punctuation).getRegex(),R.em.middle=j(R.em.middle).replace(/punctuation/g,R._punctuation).replace(/overlapSkip/g,R._overlapSkip).getRegex(),R.em.endAst=j(R.em.endAst,"g").replace(/punctuation/g,R._punctuation).getRegex(),R.em.endUnd=j(R.em.endUnd,"g").replace(/punctuation/g,R._punctuation).getRegex(),R.strong.start=j(R.strong.start).replace(/punctuation/g,R._punctuation).getRegex(),R.strong.middle=j(R.strong.middle).replace(/punctuation/g,R._punctuation).replace(/overlapSkip/g,R._overlapSkip).getRegex(),R.strong.endAst=j(R.strong.endAst,"g").replace(/punctuation/g,R._punctuation).getRegex(),R.strong.endUnd=j(R.strong.endUnd,"g").replace(/punctuation/g,R._punctuation).getRegex(),R.blockSkip=j(R._blockSkip,"g").getRegex(),R.overlapSkip=j(R._overlapSkip,"g").getRegex(),R._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,R._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,R._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,R.autolink=j(R.autolink).replace("scheme",R._scheme).replace("email",R._email).getRegex(),R._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,R.tag=j(R.tag).replace("comment",R._comment).replace("attribute",R._attribute).getRegex(),R._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,R._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,R._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,R.link=j(R.link).replace("label",R._label).replace("href",R._href).replace("title",R._title).getRegex(),R.reflink=j(R.reflink).replace("label",R._label).getRegex(),R.reflinkSearch=j(R.reflinkSearch,"g").replace("reflink",R.reflink).replace("nolink",R.nolink).getRegex(),R.normal=A({},R),R.pedantic=A({},R.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:j(/^!?\[(label)\]\((.*?)\)/).replace("label",R._label).getRegex(),reflink:j(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",R._label).getRegex()}),R.gfm=A({},R.normal,{escape:j(R.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),R.gfm.url=j(R.gfm.url,"i").replace("email",R.gfm._extended_email).getRegex(),R.breaks=A({},R.gfm,{br:j(R.br).replace("{2,}","*").getRegex(),text:j(R.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var N={block:P,inline:R},D=r.defaults,L=N.block,U=N.inline,V=function(t,e){if(e<1)return"";for(var n="";e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t};function M(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function F(t){var e,n,r="",i=t.length;for(e=0;e<i;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var H=function(){function e(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||D,this.options.tokenizer=this.options.tokenizer||new C,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var e={block:L.normal,inline:U.normal};this.options.pedantic?(e.block=L.pedantic,e.inline=U.pedantic):this.options.gfm&&(e.block=L.gfm,e.inline=this.options.breaks?U.breaks:U.gfm),this.tokenizer.rules=e}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n,r,i=e.prototype;return i.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(t,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function(t,e,n){var r,i,o,s;for(void 0===e&&(e=[]),void 0===n&&(n=!0),t=t.replace(/^ +$/gm,"");t;)if(r=this.tokenizer.space(t))t=t.substring(r.raw.length),r.type&&e.push(r);else if(r=this.tokenizer.code(t,e))t=t.substring(r.raw.length),r.type?e.push(r):((s=e[e.length-1]).raw+="\n"+r.raw,s.text+="\n"+r.text);else if(r=this.tokenizer.fences(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.heading(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.nptable(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.hr(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.blockquote(t))t=t.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),e.push(r);else if(r=this.tokenizer.list(t)){for(t=t.substring(r.raw.length),o=r.items.length,i=0;i<o;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);e.push(r)}else if(r=this.tokenizer.html(t))t=t.substring(r.raw.length),e.push(r);else if(n&&(r=this.tokenizer.def(t)))t=t.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.lheading(t))t=t.substring(r.raw.length),e.push(r);else if(n&&(r=this.tokenizer.paragraph(t)))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.text(t,e))t=t.substring(r.raw.length),r.type?e.push(r):((s=e[e.length-1]).raw+="\n"+r.raw,s.text+="\n"+r.text);else if(t){var a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return e},i.inline=function(t){var e,n,r,i,o,s,a=t.length;for(e=0;e<a;e++)switch((s=t[e]).type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},i=s.header.length,n=0;n<i;n++)s.tokens.header[n]=[],this.inlineTokens(s.header[n],s.tokens.header[n]);for(i=s.cells.length,n=0;n<i;n++)for(o=s.cells[n],s.tokens.cells[n]=[],r=0;r<o.length;r++)s.tokens.cells[n][r]=[],this.inlineTokens(o[r],s.tokens.cells[n][r]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(i=s.items.length,n=0;n<i;n++)this.inline(s.items[n].tokens)}return t},i.inlineTokens=function(t,e,n,r){var i;void 0===e&&(e=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var o,s,a,u=t;if(this.tokens.links){var c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(u));)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,o.index)+"["+V("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(u));)u=u.slice(0,o.index)+"["+V("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;t;)if(s||(a=""),s=!1,i=this.tokenizer.escape(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.tag(t,n,r))t=t.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,e.push(i);else if(i=this.tokenizer.link(t))t=t.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),e.push(i);else if(i=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),e.push(i);else if(i=this.tokenizer.strong(t,u,a))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.em(t,u,a))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.codespan(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.br(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.del(t))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.autolink(t,F))t=t.substring(i.raw.length),e.push(i);else if(n||!(i=this.tokenizer.url(t,F))){if(i=this.tokenizer.inlineText(t,r,M))t=t.substring(i.raw.length),a=i.raw.slice(-1),s=!0,e.push(i);else if(t){var l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}throw new Error(l)}}else t=t.substring(i.raw.length),e.push(i);return e},n=e,r=[{key:"rules",get:function(){return{block:L,inline:U}}}],null&&t(n.prototype,null),r&&t(n,r),e}(),z=r.defaults,q=function(t,e,n){if(t){var r;try{r=decodeURIComponent(h(n)).replace(d,"").toLowerCase()}catch(i){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!p.test(n)&&(n=function(t,e){g[" "+t]||(g[" "+t]=b.test(t)?t+"/":v(t,"/",!0));var n=-1===(t=g[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(y,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(m,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(i){return null}return n},B=w,K=function(){function t(t){this.options=t||z}var e=t.prototype;return e.code=function(t,e,n){var r=(e||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(t,r);null!=i&&i!==t&&(n=!0,t=i)}return r?'<pre><code class="'+this.options.langPrefix+B(r,!0)+'">'+(n?t:B(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:B(t,!0))+"</code></pre>\n"},e.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},e.html=function(t){return t},e.heading=function(t,e,n,r){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+r.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},e.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.list=function(t,e,n){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"},e.listitem=function(t){return"<li>"+t+"</li>\n"},e.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.paragraph=function(t){return"<p>"+t+"</p>\n"},e.table=function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},e.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},e.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},e.strong=function(t){return"<strong>"+t+"</strong>"},e.em=function(t){return"<em>"+t+"</em>"},e.codespan=function(t){return"<code>"+t+"</code>"},e.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.del=function(t){return"<del>"+t+"</del>"},e.link=function(t,e,n){if(null===(t=q(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<a href="'+B(t)+'"';return e&&(r+=' title="'+e+'"'),r+">"+n+"</a>"},e.image=function(t,e,n){if(null===(t=q(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+(this.options.xhtml?"/>":">")},e.text=function(t){return t},t}(),$=function(){function t(){}var e=t.prototype;return e.strong=function(t){return t},e.em=function(t){return t},e.codespan=function(t){return t},e.del=function(t){return t},e.html=function(t){return t},e.text=function(t){return t},e.link=function(t,e,n){return""+n},e.image=function(t,e,n){return""+n},e.br=function(){return""},t}(),G=function(){function t(){this.seen={}}var e=t.prototype;return e.serialize=function(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},e.getNextSafeSlug=function(t,e){var n=t,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[t];do{n=t+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return e||(this.seen[t]=r,this.seen[n]=0),n},e.slug=function(t,e){void 0===e&&(e={});var n=this.serialize(t);return this.getNextSafeSlug(n,e.dryrun)},t}(),W=r.defaults,J=_,Z=function(){function t(t){this.options=t||W,this.options.renderer=this.options.renderer||new K,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new $,this.slugger=new G}t.parse=function(e,n){return new t(n).parse(e)},t.parseInline=function(e,n){return new t(n).parseInline(e)};var e=t.prototype;return e.parse=function(t,e){void 0===e&&(e=!0);var n,r,i,o,s,a,u,c,l,h,f,d,p,g,b,y,m,v,w="",_=t.length;for(n=0;n<_;n++)switch((h=t[n]).type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(h.tokens),h.depth,J(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",u="",o=h.header.length,r=0;r<o;r++)u+=this.renderer.tablecell(this.parseInline(h.tokens.header[r]),{header:!0,align:h.align[r]});for(c+=this.renderer.tablerow(u),l="",o=h.cells.length,r=0;r<o;r++){for(u="",s=(a=h.tokens.cells[r]).length,i=0;i<s;i++)u+=this.renderer.tablecell(this.parseInline(a[i]),{header:!1,align:h.align[i]});l+=this.renderer.tablerow(u)}w+=this.renderer.table(c,l);continue;case"blockquote":l=this.parse(h.tokens),w+=this.renderer.blockquote(l);continue;case"list":for(f=h.ordered,d=h.start,p=h.loose,o=h.items.length,l="",r=0;r<o;r++)y=(b=h.items[r]).checked,m=b.task,g="",b.task&&(v=this.renderer.checkbox(y),p?b.tokens.length>0&&"text"===b.tokens[0].type?(b.tokens[0].text=v+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&"text"===b.tokens[0].tokens[0].type&&(b.tokens[0].tokens[0].text=v+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",text:v}):g+=v),g+=this.parse(b.tokens,p),l+=this.renderer.listitem(g,m,y);w+=this.renderer.list(l,f,d);continue;case"html":w+=this.renderer.html(h.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(l=h.tokens?this.parseInline(h.tokens):h.text;n+1<_&&"text"===t[n+1].type;)l+="\n"+((h=t[++n]).tokens?this.parseInline(h.tokens):h.text);w+=e?this.renderer.paragraph(l):l;continue;default:var O='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(O);throw new Error(O)}return w},e.parseInline=function(t,e){e=e||this.renderer;var n,r,i="",o=t.length;for(n=0;n<o;n++)switch((r=t[n]).type){case"escape":i+=e.text(r.text);break;case"html":i+=e.html(r.text);break;case"link":i+=e.link(r.href,r.title,this.parseInline(r.tokens,e));break;case"image":i+=e.image(r.href,r.title,r.text);break;case"strong":i+=e.strong(this.parseInline(r.tokens,e));break;case"em":i+=e.em(this.parseInline(r.tokens,e));break;case"codespan":i+=e.codespan(r.text);break;case"br":i+=e.br();break;case"del":i+=e.del(this.parseInline(r.tokens,e));break;case"text":i+=e.text(r.text);break;default:var s='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(s);throw new Error(s)}return i},t}(),X=O,Y=function(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},Q=w,tt=r.getDefaults,et=r.changeDefaults,nt=r.defaults;function rt(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(n=e,e=null),e=X({},rt.defaults,e||{}),Y(e),n){var r,i=e.highlight;try{r=H.lex(t,e)}catch(u){return n(u)}var o=function(t){var o;if(!t)try{o=Z.parse(r,e)}catch(u){t=u}return e.highlight=i,t?n(t):n(null,o)};if(!i||i.length<3)return o();if(delete e.highlight,!r.length)return o();var s=0;return rt.walkTokens(r,function(t){"code"===t.type&&(s++,setTimeout(function(){i(t.text,t.lang,function(e,n){if(e)return o(e);null!=n&&n!==t.text&&(t.text=n,t.escaped=!0),0==--s&&o()})},0))}),void(0===s&&o())}try{var a=H.lex(t,e);return e.walkTokens&&rt.walkTokens(a,e.walkTokens),Z.parse(a,e)}catch(u){if(u.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Q(u.message+"",!0)+"</pre>";throw u}}return rt.options=rt.setOptions=function(t){return X(rt.defaults,t),et(rt.defaults),rt},rt.getDefaults=tt,rt.defaults=nt,rt.use=function(t){var e=X({},t);if(t.renderer&&function(){var n=rt.defaults.renderer||new K,r=function(e){var r=n[e];n[e]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=t.renderer[e].apply(n,o);return!1===a&&(a=r.apply(n,o)),a}};for(var i in t.renderer)r(i);e.renderer=n}(),t.tokenizer&&function(){var n=rt.defaults.tokenizer||new C,r=function(e){var r=n[e];n[e]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=t.tokenizer[e].apply(n,o);return!1===a&&(a=r.apply(n,o)),a}};for(var i in t.tokenizer)r(i);e.tokenizer=n}(),t.walkTokens){var n=rt.defaults.walkTokens;e.walkTokens=function(e){t.walkTokens(e),n&&n(e)}}rt.setOptions(e)},rt.walkTokens=function(t,e){for(var r,i=n(t);!(r=i()).done;){var o=r.value;switch(e(o),o.type){case"table":for(var s,a=n(o.tokens.header);!(s=a()).done;)rt.walkTokens(s.value,e);for(var u,c=n(o.tokens.cells);!(u=c()).done;)for(var l,h=n(u.value);!(l=h()).done;)rt.walkTokens(l.value,e);break;case"list":rt.walkTokens(o.items,e);break;default:o.tokens&&rt.walkTokens(o.tokens,e)}}},rt.parseInline=function(t,e){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=X({},rt.defaults,e||{}),Y(e);try{var n=H.lexInline(t,e);return e.walkTokens&&rt.walkTokens(n,e.walkTokens),Z.parseInline(n,e)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Q(r.message+"",!0)+"</pre>";throw r}},rt.Parser=Z,rt.parser=Z.parse,rt.Renderer=K,rt.TextRenderer=$,rt.Lexer=H,rt.lexer=H.lex,rt.Tokenizer=C,rt.Slugger=G,rt.parse=rt,rt}()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return cn}),n.d(e,"b",function(){return mu}),n.d(e,"c",function(){return du}),n.d(e,"d",function(){return hu}),n.d(e,"e",function(){return fu}),n.d(e,"f",function(){return hc}),n.d(e,"g",function(){return ec}),n.d(e,"h",function(){return da}),n.d(e,"i",function(){return Iu}),n.d(e,"j",function(){return Fs}),n.d(e,"k",function(){return _u}),n.d(e,"l",function(){return Bs}),n.d(e,"m",function(){return Er}),n.d(e,"n",function(){return Wa}),n.d(e,"o",function(){return ao}),n.d(e,"p",function(){return vn}),n.d(e,"q",function(){return un}),n.d(e,"r",function(){return xo}),n.d(e,"s",function(){return aa}),n.d(e,"t",function(){return ua}),n.d(e,"u",function(){return wu}),n.d(e,"v",function(){return xa}),n.d(e,"w",function(){return rc}),n.d(e,"x",function(){return Ea}),n.d(e,"y",function(){return Zu}),n.d(e,"z",function(){return Pu}),n.d(e,"A",function(){return wn}),n.d(e,"B",function(){return yu}),n.d(e,"C",function(){return bu}),n.d(e,"D",function(){return $s}),n.d(e,"E",function(){return Ks}),n.d(e,"F",function(){return kr}),n.d(e,"G",function(){return Ws}),n.d(e,"H",function(){return mr}),n.d(e,"I",function(){return On}),n.d(e,"J",function(){return sc}),n.d(e,"K",function(){return va}),n.d(e,"L",function(){return Mu}),n.d(e,"M",function(){return ln}),n.d(e,"N",function(){return Zs}),n.d(e,"O",function(){return Js}),n.d(e,"P",function(){return Ta}),n.d(e,"Q",function(){return V}),n.d(e,"R",function(){return Xu}),n.d(e,"S",function(){return Wu}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return Gu}),n.d(e,"V",function(){return cc}),n.d(e,"W",function(){return zu}),n.d(e,"X",function(){return vu}),n.d(e,"Y",function(){return co}),n.d(e,"Z",function(){return Ts}),n.d(e,"ab",function(){return br}),n.d(e,"bb",function(){return Qn}),n.d(e,"cb",function(){return zn}),n.d(e,"db",function(){return Bn}),n.d(e,"eb",function(){return Wn}),n.d(e,"fb",function(){return $n}),n.d(e,"gb",function(){return Kn}),n.d(e,"hb",function(){return Gn}),n.d(e,"ib",function(){return Os}),n.d(e,"jb",function(){return uc}),n.d(e,"kb",function(){return Es}),n.d(e,"lb",function(){return xs}),n.d(e,"mb",function(){return qn}),n.d(e,"nb",function(){return q}),n.d(e,"ob",function(){return No}),n.d(e,"pb",function(){return Zo}),n.d(e,"qb",function(){return Jo}),n.d(e,"rb",function(){return _s}),n.d(e,"sb",function(){return At}),n.d(e,"tb",function(){return y}),n.d(e,"ub",function(){return Hn}),n.d(e,"vb",function(){return To}),n.d(e,"wb",function(){return St}),n.d(e,"xb",function(){return Us}),n.d(e,"yb",function(){return di}),n.d(e,"zb",function(){return Mo}),n.d(e,"Ab",function(){return cs}),n.d(e,"Bb",function(){return au}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return at}),n.d(e,"Eb",function(){return E}),n.d(e,"Fb",function(){return x}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return ut}),n.d(e,"Ib",function(){return zo}),n.d(e,"Jb",function(){return Go}),n.d(e,"Kb",function(){return $o}),n.d(e,"Lb",function(){return Ko}),n.d(e,"Mb",function(){return Wo}),n.d(e,"Nb",function(){return rn}),n.d(e,"Ob",function(){return ys}),n.d(e,"Pb",function(){return Pn}),n.d(e,"Qb",function(){return on}),n.d(e,"Rb",function(){return lu}),n.d(e,"Sb",function(){return Xo}),n.d(e,"Tb",function(){return uu}),n.d(e,"Ub",function(){return ts}),n.d(e,"Vb",function(){return za}),n.d(e,"Wb",function(){return qa}),n.d(e,"Xb",function(){return Ba}),n.d(e,"Yb",function(){return Ka}),n.d(e,"Zb",function(){return rs}),n.d(e,"ac",function(){return ns}),n.d(e,"bc",function(){return qo}),n.d(e,"cc",function(){return is}),n.d(e,"dc",function(){return os}),n.d(e,"ec",function(){return su}),n.d(e,"fc",function(){return Zt}),n.d(e,"gc",function(){return vr}),n.d(e,"hc",function(){return ot}),n.d(e,"ic",function(){return Ho}),n.d(e,"jc",function(){return ps}),n.d(e,"kc",function(){return gs}),n.d(e,"lc",function(){return bs});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function b(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function m(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const v=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return y(this())},t}function _(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(v)&&t.__forward_ref__===w}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function x(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function S(t){return T(t,C)||T(t,j)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function k(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(A))?t[I]:null}const C=g({"\u0275prov":g}),I=g({"\u0275inj":g}),j=g({ngInjectableDef:g}),A=g({ngInjectorDef:g});var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let R;function N(t){const e=R;return R=t,e}function D(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&P.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${y(t)}]`)}function L(t){return{toString:t}.toString()}var U=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),V=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z="undefined"!=typeof global&&global,q=M||z||F||H,B={},K=[],$=g({"\u0275cmp":g}),G=g({"\u0275dir":g}),W=g({"\u0275pipe":g}),J=g({"\u0275mod":g}),Z=g({"\u0275loc":g}),X=g({"\u0275fac":g}),Y=g({__NG_ELEMENT_ID__:g});let Q=0;function tt(t){return L(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===U.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||K,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||V.Emulated,id:"c",styles:t.styles||K,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Q++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[G]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||K,declarations:t.declarations||K,imports:t.imports||K,exports:t.exports||K,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&L(()=>{rt[t.id]=t.type}),e}function ot(t,e){return L(()=>{const n=lt(t,!0);n.declarations=e.declarations||K,n.imports=e.imports||K,n.exports=e.exports||K})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[$]||null}function lt(t,e){const n=t[J]||null;if(!n&&!0===e)throw new Error(`Type ${y(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function bt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(X)?t[X]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function Et(t,e){const n=e?" in "+e:"";throw new wt("201",`No provider for ${Ot(t)} found${n}`)}class xt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function St(){return Tt}function Tt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ct),kt}function kt(){const t=It(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ct(t,e,n,r){const i=It(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new xt(u&&u.currentValue,e,s===B),t[r]=e}function It(t){return t.__ngSimpleChanges__||null}St.ngInherit=!0;let jt=void 0;function At(t){jt=t}function Pt(t){return!!t.listen}const Rt={createRenderer:(t,e)=>void 0!==jt?jt:"undefined"!=typeof document?document:void 0};function Nt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Nt(e[t])}function Lt(t,e){return Nt(e[t.index])}function Ut(t,e){return t.data[e]}function Vt(t,e){return t[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ht(t){return 4==(4&t[2])}function zt(t){return 128==(128&t[2])}function qt(t,e){return null==e?null:t[e]}function Bt(t){t[18]=0}function Kt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const $t={lFrame:pe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return $t.bindingsEnabled}function Wt(){return $t.lFrame.lView}function Jt(){return $t.lFrame.tView}function Zt(t){$t.lFrame.contextLView=t}function Xt(){let t=Yt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yt(){return $t.lFrame.currentTNode}function Qt(t,e){const n=$t.lFrame;n.currentTNode=t,n.isParent=e}function te(){return $t.lFrame.isParent}function ee(){$t.lFrame.isParent=!1}function ne(){return $t.isInCheckNoChangesMode}function re(t){$t.isInCheckNoChangesMode=t}function ie(){const t=$t.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function oe(){return $t.lFrame.bindingIndex++}function se(t,e){const n=$t.lFrame;n.bindingIndex=n.bindingRootIndex=t,ae(e)}function ae(t){$t.lFrame.currentDirectiveIndex=t}function ue(){return $t.lFrame.currentQueryIndex}function ce(t){$t.lFrame.currentQueryIndex=t}function le(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function he(t,e,n){if(n&P.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&P.Host||(r=le(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=$t.lFrame=de();return r.currentTNode=e,r.lView=t,!0}function fe(t){const e=de(),n=t[1];$t.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function de(){const t=$t.lFrame,e=null===t?null:t.child;return null===e?pe(t):e}function pe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ge(){const t=$t.lFrame;return $t.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const be=ge;function ye(){const t=ge();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function me(){return $t.lFrame.selectedIndex}function ve(t){$t.lFrame.selectedIndex=t}function we(){const t=$t.lFrame;return Ut(t.tView,t.selectedIndex)}function _e(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Oe(t,e,n){Se(t,e,3,n)}function Ee(t,e,n,r){(3&t[2])===n&&Se(t,e,n,r)}function xe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Se(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Te(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Te(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const ke=-1;class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ie(t,e,n){const r=Pt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ae(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function je(t){return 3===t||4===t||6===t}function Ae(t){return 64===t.charCodeAt(0)}function Pe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Re(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Re(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ne(t){return t!==ke}function De(t){return 32767&t}function Le(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ue=!0;function Ve(t){const e=Ue;return Ue=t,e}let Me=0;function Fe(t,e){const n=ze(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,He(r.data,t),He(e,null),He(r.blueprint,null));const i=qe(t,e),o=t.injectorIndex;if(Ne(i)){const t=De(i),n=Le(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function He(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ze(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ke;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ke}function Be(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Me++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Ke(t,e,n){if(n&P.Optional)return t;Et(e,"NodeInjector")}function $e(t,e,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&P.Optional):D(e,r,n&P.Optional)}finally{N(o)}}return Ke(r,e,n)}function Ge(t,e,n,r=P.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Je:e}(n);if("function"==typeof o){if(!he(e,t,r))return r&P.Host?Ke(i,n,r):$e(e,n,r,i);try{const t=o();if(null!=t||r&P.Optional)return t;Et(n)}finally{be()}}else if("number"==typeof o){let i=null,s=ze(t,e),a=ke,u=r&P.Host?e[16][6]:null;for((-1===s||r&P.SkipSelf)&&(a=-1===s?qe(t,e):e[s+8],a!==ke&&tn(r,!1)?(i=e[1],s=De(a),e=Le(a,e)):s=-1);-1!==s;){const t=e[1];if(Qe(o,s,t.data)){const t=Ze(s,e,n,i,r,u);if(t!==We)return t}a=e[s+8],a!==ke&&tn(r,e[1].data[s+8]===u)&&Qe(o,s,e)?(i=t,s=De(a),e=Le(a,e)):s=-1}}}return $e(e,n,r,i)}const We={};function Je(){return new en(Xt(),Wt())}function Ze(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Xe(a,s,n,null==r?bt(a)&&Ue:r!=s&&0!=(3&a.type),i&P.Host&&o===a);return null!==u?Ye(e,s,u,a):We}function Xe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&mt(t)&&t.type===n)return u}return null}function Ye(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ce){const s=i;s.resolving&&function(t,e){throw new wt("200","Circular dependency in DI detected for "+t)}(Ot(o[n]));const a=Ve(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;he(t,r,P.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Tt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),Ve(a),s.resolving=!1,be()}}return i}function Qe(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function tn(t,e){return!(t&P.Self||t&P.Host&&e)}class en{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ge(this._tNode,this._lView,t,void 0,e)}}function nn(t){const e=t;if(O(t))return()=>{const t=nn(_(e));return t?t():null};let n=vt(e);if(null===n){const t=k(e);n=t&&t.factory}return n||null}function rn(t){return L(()=>{const e=t.prototype.constructor,n=e[X]||nn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||nn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function on(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(je(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Xt(),t)}const sn="__parameters__";function an(t,e,n){return L(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(sn)?t[sn]:Object.defineProperty(t,sn,{value:[]})[sn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class un{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const cn=new un("AnalyzeForEntryComponents"),ln=Function;function hn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),hn(r,e)):e!==t&&e.push(r)}return e}function fn(t,e){t.forEach(t=>Array.isArray(t)?fn(t,e):e(t))}function dn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function bn(t,e,n){let r=mn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function yn(t,e){const n=mn(t,e);if(n>=0)return t[1|n]}function mn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const vn=an("Inject",t=>({token:t})),wn=an("Optional"),_n=an("Self"),On=an("SkipSelf"),En=an("Host"),xn={},Sn=/\n/gm,Tn="__source",kn=g({provide:String,useValue:g});let Cn,In=void 0;function jn(t){const e=In;return In=t,e}function An(t,e=P.Default){if(void 0===In)throw new Error("inject() must be called from an injection context");return null===In?D(t,void 0,e):In.get(t,e&P.Optional?null:void 0,e)}function Pn(t,e=P.Default){return(R||An)(_(t),e)}function Rn(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=P.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof wn||"Optional"===i.ngMetadataName||i===wn?n|=P.Optional:i instanceof On||"SkipSelf"===i.ngMetadataName||i===On?n|=P.SkipSelf:i instanceof _n||"Self"===i.ngMetadataName||i===_n?n|=P.Self:i instanceof En||"Host"===i.ngMetadataName||i===En?n|=P.Host:t=i instanceof vn||i===vn?i.token:i}e.push(Pn(t,n))}else e.push(Pn(r))}return e}function Nn(t){var e;return(null===(e=function(){if(void 0===Cn&&(Cn=null,q.trustedTypes))try{Cn=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Cn}())||void 0===e?void 0:e.createHTML(t))||t}class Dn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Ln extends Dn{getTypeName(){return"HTML"}}class Un extends Dn{getTypeName(){return"Style"}}class Vn extends Dn{getTypeName(){return"Script"}}class Mn extends Dn{getTypeName(){return"URL"}}class Fn extends Dn{getTypeName(){return"ResourceURL"}}function Hn(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function zn(t,e){const n=qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function qn(t){return t instanceof Dn&&t.getTypeName()||null}function Bn(t){return new Ln(t)}function Kn(t){return new Un(t)}function $n(t){return new Vn(t)}function Gn(t){return new Mn(t)}function Wn(t){return new Fn(t)}class Jn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Nn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Nn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Nn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Xn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qn(t){return(t=String(t)).match(Xn)||t.match(Yn)?t:"unsafe:"+t}function tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const nr=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=tr("rp,rt"),or=er(ir,rr),sr=er(nr,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(ir,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),or),ar=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=tr("srcset"),cr=er(ar,ur,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=tr("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!cr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ar[o]&&(s=Qn(s)),ur[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Qn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(fr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gr;function br(t,e){let n=null;try{gr=gr||function(t){const e=new Zn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Nn(""),"text/html")}catch(t){return!1}}()?new Jn(e):e}(t);let r=e?String(e):"";n=gr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=gr.getInertBodyElement(r)}while(r!==o);return(new hr).sanitizeChildren(yr(n)||n)}finally{if(n){const t=yr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function yr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function vr(t){const e=function(){const t=Wt();return t&&t[12]}();return e?e.sanitize(mr.URL,t)||"":zn(t,"URL")?Hn(t):Qn(_t(t))}function wr(t){return t.ngDebugContext}function _r(t){return t.ngOriginalError}function Or(t,...e){t.error(...e)}class Er{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Or}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?wr(t)?wr(t):this._findContext(_r(t)):null}_findOriginalError(t){let e=_r(t);for(;e&&_r(e);)e=_r(e);return e}}function xr(t,e){t.__ngContext__=e}const Sr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Tr(t){return t instanceof Function?t():t}var kr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Cr(t,e){return(void 0)(t,e)}function Ir(t){const e=t[3];return pt(e)?e[3]:e}function jr(t){return Pr(t[13])}function Ar(t){return Pr(t[4])}function Pr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Rr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=Nt(r);0===t&&null!==n?null==i?Hr(e,n,a):Fr(e,n,a,i||null,!0):1===t&&null!==n?Fr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=qr(t,e);r&&function(t,e,n,r){Pt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Nt(n)&&Rr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Zr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Nr(t,e,n){return Pt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Dr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Kt(i,-1)),n.splice(r,1)}function Lr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Dr(o,r),e>0&&(t[n-1][4]=r[4]);const s=pn(t,ft+e);Zr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ur(t,e){if(!(256&e[2])){const n=e[11];Pt(n)&&n.destroyNode&&Zr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Vr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Vr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Vr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Vr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ce)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Nt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Pt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Dr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Mr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===V.None||e===V.Emulated)return null}return Lt(r,n)}(t,e.parent,n)}function Fr(t,e,n,r,i){Pt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Hr(t,e,n){Pt(t)?t.appendChild(e,n):e.appendChild(n)}function zr(t,e,n,r,i){null!==r?Fr(t,e,n,r,i):Hr(t,e,n)}function qr(t,e){return Pt(t)?t.parentNode(e):e.parentNode}function Br(t,e,n){return Kr(t,e,n)}let Kr=function(t,e,n){return 40&t.type?Lt(t,n):null};function $r(t,e,n,r){const i=Mr(t,r,e),o=e[11],s=Br(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)zr(o,i,n[a],s,!1);else zr(o,i,n,s,!1)}function Gr(t,e){if(null!==e){const n=e.type;if(3&n)return Lt(e,t);if(4&n)return Wr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Gr(t,n);{const n=t[e.index];return pt(n)?Wr(-1,n):Nt(n)}}if(32&n)return Cr(e,t)()||Nt(t[e.index]);{const n=t[16],r=n[6],i=Ir(n),o=r.projection[e.projection];return null!=o?Gr(i,o):Gr(t,e.next)}}return null}function Wr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Gr(t,r)}return e[7]}function Jr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&xr(Nt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Jr(t,e,n.child,r,i,o,!1),Rr(e,t,i,a,o);else if(32&u){const s=Cr(n,r);let u;for(;u=s();)Rr(e,t,i,u,o);Rr(e,t,i,a,o)}else 16&u?Xr(t,e,r,n,i,o):Rr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Zr(t,e,n,r,i,o){Jr(n,r,t.firstChild,e,i,o,!1)}function Xr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Rr(e,t,i,a[u],o);else Jr(t,e,a,s[3],i,o,!0)}function Yr(t,e,n){Pt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Qr(t,e,n){Pt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ti(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ei="ng-template";function ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ti(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 4===t.type&&t.value!==ei}function ii(t,e,n){return e===(4!==t.type||n?t.value:ei)}function oi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(je(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ii(t,u,n)||""===u&&1===e.length){if(si(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ni(t.attrs,c,n)){if(si(r))return!1;s=!0}continue}const l=ai(8&r?"class":u,i,ri(t),n);if(-1===l){if(si(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ti(e,c,0)||2&r&&c!==t){if(si(r))return!1;s=!0}}}}else{if(!s&&!si(r)&&!si(u))return!1;if(s&&si(u))continue;s=!1,r=u|1&r}}return si(r)||s}function si(t){return 0==(1&t)}function ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ui(t,e,n=!1){for(let r=0;r<e.length;r++)if(oi(t,e[r],n))return!0;return!1}function ci(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function li(t,e){return t?":not("+e.trim()+")":e}function hi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||si(s)||(e+=li(o,i),i=""),r=s,o=o||!si(r);n++}return""!==i&&(e+=li(o,i)),e}const fi={};function di(t){pi(Jt(),Wt(),me()+t,ne())}function pi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Oe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ee(e,r,0,n)}ve(n)}function gi(t,e){return t<<17|e<<2}function bi(t){return t>>17&32767}function yi(t){return 2|t}function mi(t){return(131068&t)>>2}function vi(t,e){return-131069&t|e<<2}function wi(t){return 1|t}function _i(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ce(i),n.contentQueries(2,e[o],o)}}}function Oi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Bt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ei(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Yt(),s=te(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),$t.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=$t.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Qt(o,!0),o}function xi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Si(t,e,n){fe(e);try{const r=t.viewQuery;null!==r&&to(1,r,n);const i=t.template;null!==i&&Ci(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_i(t,e),t.staticViewQueries&&to(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ji(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ye()}}function Ti(t,e,n,r){const i=e[2];if(256==(256&i))return;fe(e);const o=ne();try{Bt(e),$t.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ci(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Oe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ee(e,n,0,null),xe(e,0)}if(function(t){for(let e=jr(t);null!==e;e=Ar(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Kt(r,1),n[2]|=1024}}}(e),function(t){for(let e=jr(t);null!==e;e=Ar(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];zt(n)&&Ti(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&_i(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Oe(e,n)}else{const n=t.contentHooks;null!==n&&Ee(e,n,1),xe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ve(~r);else{const i=r,o=n[++t],s=n[++t];se(o,i),s(2,e[i])}}}finally{ve(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&to(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Oe(e,n)}else{const n=t.viewHooks;null!==n&&Ee(e,n,2),xe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Kt(e[3],-1))}finally{ye()}}function ki(t,e,n,r){const i=e[10],o=!ne(),s=Ht(e);try{o&&!s&&i.begin&&i.begin(),s&&Si(t,e,r),Ti(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ci(t,e,n,r,i){const o=me();try{ve(-1),2&r&&e.length>ht&&pi(t,e,ht,ne()),n(r,i)}finally{ve(o)}}function Ii(t,e,n){Gt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Fe(n,e),xr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=mt(r);o&&qi(e,n,r);const u=Ye(e,t,a,n);xr(u,e),null!==s&&Bi(0,a-i,u,r,0,s),o&&(Mt(n.index,e)[8]=u)}}(t,e,n,Lt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=$t.lFrame.currentDirectiveIndex;try{ve(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ae(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Vi(r,i)}}finally{ve(-1),ae(s)}}(t,e,n))}function ji(t,e,n=Lt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ai(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Pi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Pi(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:fi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ri(t,e,n,r){const i=no(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ro(t).push(r,i.length-1))}function Ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Di(t,e,n,r,i,o,s,a){const u=Lt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(oo(t,n,c,r,i),bt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Pt(o)?o.setProperty(u,r,i):Ae(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Li(t,e,n,r){let i=!1;if(Gt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ui(n,s.selectors,!1)&&(i||(i=[]),Be(Fe(n,e),t,s.type),mt(s)?(Mi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Hi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=xi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Pe(n.mergedAttrs,c.hostAttrs),zi(t,n,e,u,c),Fi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ri(e)?null:Ki(n,i);o.push(c),s=Ni(n,u,s),a=Ni(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Pe(n.mergedAttrs,n.attrs),i}function Ui(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Vi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Mi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Fi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function Hi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new Ce(o,mt(i),null);t.blueprint[r]=s,n[r]=s,Ui(t,e,0,r,xi(t,n,i.hostVars,fi),i)}function qi(t,e,n){const r=Lt(e,t),i=Ai(n),o=t[10],s=Zi(t,Oi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Bi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ki(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function $i(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=Mt(e,t);if(zt(n)){const t=n[1];80&n[2]?Ti(t,n,t.template,n[8]):n[5]>0&&Wi(n)}}function Wi(t){for(let n=jr(t);null!==n;n=Ar(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ti(t,e,t.template,e[8])}else e[5]>0&&Wi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);zt(r)&&r[5]>0&&Wi(r)}}function Ji(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Si(r,n,n[8])}function Zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xi(t){for(;t;){t[2]|=64;const e=Ir(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Yi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ti(t,e,t.template,n)}catch(i){throw io(e,i),i}finally{r.end&&r.end()}}function Qi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ft(n),i=r[1];ki(i,r,i.template,n)}}(t[8])}function to(t,e,n){ce(0),e(t,n)}const eo=(()=>Promise.resolve(null))();function no(t){return t[7]||(t[7]=[])}function ro(t){return t.cleanup||(t.cleanup=[])}function io(t,e){const n=t[9],r=n?n.get(Er,null):null;r&&r.handleError(e)}function oo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function so(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=m(i,t):2==o&&(r=m(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ao=new un("INJECTOR",-1);class uo{get(t,e=xn){if(e===xn){const e=new Error(`NullInjectorError: No provider for ${y(t)}!`);throw e.name="NullInjectorError",e}return e}}const co=new un("Set Injector scope."),lo={},ho={},fo=[];let po=void 0;function go(){return void 0===po&&(po=new uo),po}function bo(t,e=null,n=null,r){return new yo(t,n,e||go(),r)}class yo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&fn(e,n=>this.processProvider(n,t,e)),fn([t],t=>this.processInjectorType(t,[],i)),this.records.set(ao,wo(void 0,this));const o=this.records.get(co);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:y(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=xn,n=P.Default){this.assertNotDestroyed();const r=jn(this);try{if(!(n&P.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof un)&&S(t);e=n&&this.injectableDefInScope(n)?wo(mo(t),lo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&P.Self?go():this.parent).get(t,e=n&P.Optional&&e===xn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(y(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Tn]&&i.unshift(e[Tn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=y(e);if(Array.isArray(e))i=e.map(y).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Sn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{jn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(y(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=k(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=k(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{fn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];fn(r,t=>this.processProvider(t,n,r||fo))}}this.injectorDefTypes.add(o),this.records.set(o,wo(r.factory,lo));const a=r.providers;if(null!=a&&!s){const e=t;fn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Oo(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return _o(t)?wo(void 0,t.useValue):wo(vo(t),lo)}(t);if(Oo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=wo(void 0,lo,!0),e.factory=()=>Rn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===lo&&(e.value=ho,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function mo(t){const e=S(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;const r=k(t);if(null!==r)return r.factory;if(t instanceof un)throw new Error(`Token ${y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=gn(e,"?");throw new Error(`Can't resolve all parameters for ${y(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[C]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function vo(t,e,n){let r=void 0;if(Oo(t)){const e=_(t);return vt(e)||mo(e)}if(_o(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Rn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Pn(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||mo(e);r=()=>new e(...Rn(t.deps))}var i;return r}function wo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _o(t){return null!==t&&"object"==typeof t&&kn in t}function Oo(t){return"function"==typeof t}const Eo=function(t,e,n){return function(t,e=null,n=null,r){const i=bo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let xo=(()=>{class t{static create(t,e){return Array.isArray(t)?Eo(t,e,""):Eo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=xn,t.NULL=new uo,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>Pn(ao)}),t.__NG_ELEMENT_ID__=-1,t})();function So(t,e){_e(Ft(t)[1],Xt())}function To(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ko(t.inputs),e.declaredInputs=ko(t.declaredInputs),e.outputs=ko(t.outputs);const n=i.hostBindings;n&&jo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Co(t,o),s&&Io(t,s),b(t.inputs,i.inputs),b(t.declaredInputs,i.declaredInputs),b(t.outputs,i.outputs),mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===To&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pe(i.hostAttrs,n=Pe(n,i.hostAttrs))}}(r)}function ko(t){return t===B?{}:t===K?[]:t}function Co(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Io(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function jo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ao=null;function Po(){if(!Ao){const t=q.Symbol;if(t&&t.iterator)Ao=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ao=n)}}}return Ao}class Ro{constructor(t){this.wrapped=t}static wrap(t){return new Ro(t)}static unwrap(t){return Ro.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ro}}function No(t){return!!Do(t)&&(Array.isArray(t)||!(t instanceof Map)&&Po()in t)}function Do(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Lo(t,e,n){return t[e]=n}function Uo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Vo(t,e,n,r){const i=Uo(t,e,n);return Uo(t,e+1,r)||i}function Mo(t,e,n,r){const i=Wt();return Uo(i,oe(),e)&&(Jt(),function(t,e,n,r,i,o){const s=Lt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Pt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?_t(o):s(o,r||"",i);Pt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(we(),i,t,e,n,r)),Mo}function Fo(t,e,n,r){return Uo(t,oe(),n)?e+_t(n)+r:fi}function Ho(t,e,n,r,i,o,s,a){const u=Wt(),c=Jt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Ei(e,t,4,s||null,qt(c,a));Li(e,n,l,qt(c,u)),_e(e,l);const h=l.tViews=Pi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Qt(h,!1);const f=u[11].createComment("");$r(c,u,f,h),xr(f,u),Zi(u,u[l]=$i(f,u,f,h)),yt(h)&&Ii(c,u,h),null!=s&&ji(u,h,a)}function zo(t,e=P.Default){const n=Wt();return null===n?Pn(t,e):Ge(Xt(),n,_(t),e)}function qo(t,e,n){const r=Wt();return Uo(r,oe(),e)&&Di(Jt(),we(),r,t,e,r[11],n,!1),qo}function Bo(t,e,n,r,i){const o=i?"class":"style";oo(t,n,e.inputs[o],o,r)}function Ko(t,e,n,r){const i=Wt(),o=Jt(),s=ht+t,a=i[11],u=i[s]=Nr(a,e,$t.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Ei(e,t,2,i,qt(a,o));return Li(e,n,u,qt(a,s)),null!==u.attrs&&so(u,u.attrs,!1),null!==u.mergedAttrs&&so(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Ie(a,u,l);const h=c.classes;null!==h&&Qr(a,u,h);const f=c.styles;null!==f&&Yr(a,u,f),64!=(64&c.flags)&&$r(o,i,u,c),0===$t.lFrame.elementDepthCount&&xr(u,i),$t.lFrame.elementDepthCount++,yt(c)&&(Ii(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&ji(i,c)}function $o(){let t=Xt();te()?ee():(t=t.parent,Qt(t,!1));const e=t;$t.lFrame.elementDepthCount--;const n=Jt();n.firstCreatePass&&(_e(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Bo(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Bo(n,e,Wt(),e.stylesWithoutHost,!1)}function Go(t,e,n,r){Ko(t,e,n,r),$o()}function Wo(){return Wt()}function Jo(t){return!!t&&"function"==typeof t.then}function Zo(t){return!!t&&"function"==typeof t.subscribe}function Xo(t,e,n=!1,r){const i=Wt(),o=Jt(),s=Xt();return function(t,e,n,r,i,o,s=!1,a){const u=yt(r),c=t.firstCreatePass&&ro(t),l=no(e);let h=!0;if(3&r.type){const f=Lt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,b=a?t=>a(Nt(t[r.index])).target:r.index;if(Pt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Qo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,b,g,g+1)}}else o=Qo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,b,g,s)}else o=Qo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Xo}function Yo(t,e,n){try{return!1!==e(n)}catch(r){return io(t,r),!1}}function Qo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&Xi(s);let a=Yo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Yo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function ts(t=1){return function(t){return($t.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,$t.lFrame.contextLView))[8]}(t)}function es(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ui(t,o,!0):ci(r,o))return i}else n=i}return n}function ns(t){const e=Wt()[16][6];if(!e.projection){const n=e.projection=gn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?es(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function rs(t,e=0,n){const r=Wt(),i=Jt(),o=Ei(i,ht+t,16,null,n||null);null===o.projection&&(o.projection=e),ee(),64!=(64&o.flags)&&function(t,e,n){Xr(e[11],0,e,n,Mr(t,n,e),Br(n.parent||e[6],n,e))}(i,r,o)}function is(t,e,n){return os(t,"",e,"",n),is}function os(t,e,n,r,i){const o=Wt(),s=Fo(o,e,n,r);return s!==fi&&Di(Jt(),we(),o,t,s,o[11],i,!1),os}const ss=[];function as(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?bi(o):mi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];us(t[a],e)&&(u=!0,t[a+1]=r?wi(n):yi(n)),a=r?bi(n):mi(n)}u&&(t[n+1]=r?yi(o):wi(o))}function us(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mn(t,e)>=0}function cs(t,e){return function(t,e,n,r){const i=Wt(),o=Jt(),s=function(t){const e=$t.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[me()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=$t.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=hs(n=ls(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ls(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==mi(r))return t[bi(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=ls(null,t,e,n[1],r),n=hs(n,e.attrs,r),function(t,e,n,r){t[bi(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=hs(r,t[o].hostAttrs,true);return hs(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=bi(s),u=mi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=bi(t[a+1]);t[r+1]=gi(e,a),0!==e&&(t[e+1]=vi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=gi(a,0),0!==a&&(t[a+1]=vi(t[a+1],r)),a=r;else t[r+1]=gi(u,0),0===a?a=r:t[u+1]=vi(t[u+1],r),u=r;l&&(t[r+1]=yi(t[r+1])),as(t,c,r,!0),as(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&mn(o,e)>=0&&(n[r+1]=wi(n[r+1]))}(e,c,t,r),s=gi(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==fi&&Uo(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ds(1==(1&c)?fs(u,e,n,i,mi(c),s):void 0)||(ds(o)||function(t){return 2==(2&t)}(c)&&(o=fs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Pt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Dt(me(),n),i,o))}(o,o.data[me()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=y(Hn(t))),t}(e),true,s)}(t,e),cs}function ls(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=hs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function hs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bn(t,s,!!n||e[++o]))}return void 0===t?null:t}function fs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===fi&&(l=c?ss:void 0);let h=c?yn(l,r):u===r?l:void 0;if(o&&!ds(h)&&(h=yn(e,r)),ds(h)&&(a=h,s))return a;const f=t[i+1];i=s?bi(f):mi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=yn(t,r))}return a}function ds(t){return void 0!==t}function ps(t,e=""){const n=Wt(),r=Jt(),i=t+ht,o=r.firstCreatePass?Ei(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Pt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);$r(r,n,s,o),Qt(o,!1)}function gs(t){return bs("",t,""),gs}function bs(t,e,n){const r=Wt(),i=Fo(r,t,e,n);return i!==fi&&function(t,e,n){const r=Dt(e,t);!function(t,e,n){Pt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,me(),i),bs}function ys(t,e,n){const r=Wt();return Uo(r,oe(),e)&&Di(Jt(),we(),r,t,e,r[11],n,!0),ys}const ms=void 0;var vs=["en",[["a","p"],["AM","PM"],ms],[["AM","PM"],ms,ms],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ms,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ms,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ms,"{1} 'at' {0}",ms],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ws={};function _s(t,e,n){"string"!=typeof e&&(n=e,e=t[Ts.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ws[e]=t,n&&(ws[e][Ts.ExtraData]=n)}function Os(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ss(e);if(n)return n;const r=e.split("-")[0];if(n=Ss(r),n)return n;if("en"===r)return vs;throw new Error(`Missing locale data for the locale "${t}".`)}function Es(t){return Os(t)[Ts.CurrencyCode]||null}function xs(t){return Os(t)[Ts.PluralCase]}function Ss(t){return t in ws||(ws[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),ws[t]}var Ts=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ks="en-US";let Cs=ks;function Is(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Cs=t.toLowerCase().replace(/_/g,"-"))}function js(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)js(t[o],e,n,r,i);else{const o=Jt(),s=Wt();let a=Oo(t)?t:_(t.provide),u=vo(t);const c=Xt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Oo(t)||!t.multi){const r=new Ce(u,i,zo),d=Rs(a,e,i?l:l+f,h);-1===d?(Be(Fe(c,s),o,a),As(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Rs(a,e,l+f,h),p=Rs(a,e,l,l+f),g=d>=0&&n[d],b=p>=0&&n[p];if(i&&!b||!i&&!g){Be(Fe(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ce(t,n,zo);return o.multi=[],o.index=e,o.componentProviders=0,Ps(o,i,r&&!n),o}(i?Ds:Ns,n.length,i,r,u);!i&&b&&(n[p].providerFactory=l),As(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else As(o,t,d>-1?d:p,Ps(n[i?p:d],u,!i&&r));!i&&r&&b&&n[p].componentProviders++}}}function As(t,e,n,r){const i=Oo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Ps(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Rs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ns(t,e,n,r){return Ls(this.multi,[])}function Ds(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ye(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ls(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ls(i,o);return o}function Ls(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Us(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Jt();if(r.firstCreatePass){const i=mt(t);js(n,r.data,r.blueprint,i,!0),js(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Vs{}class Ms{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${y(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Fs=(()=>{class t{}return t.NULL=new Ms,t})();function Hs(...t){}function zs(t,e){return new Bs(Lt(t,e))}const qs=function(){return zs(Xt(),Wt())};let Bs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=qs,t})();class Ks{}let $s=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Gs(),t})();const Gs=function(){const t=Wt(),e=Mt(Xt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Ws=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class Js{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Zs=new Js("11.0.6");class Xs{constructor(){}supports(t){return No(t)}create(t){return new Qs(t)}}const Ys=(t,e)=>e;class Qs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ys}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ra(n,r,i)?e:n,s=ra(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!No(t))throw new Error(`Error trying to diff '${y(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Po()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ta(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new na),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new na),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ta{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ea{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class na{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ea,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ra(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ia{constructor(){}supports(t){return t instanceof Map||Do(t)}create(){return new oa}}class oa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Do(t)))throw new Error(`Error trying to diff '${y(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new sa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class sa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let aa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new On,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Xs])}),t})(),ua=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new On,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new ia])}),t})();function ca(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Nt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ca(e[1],e,n,r)}const s=n.type;if(8&s)ca(t,e,n.child,r);else if(32&s){const t=Cr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Ir(t);ca(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class la{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return ca(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ur(this._lView[1],this._lView)}onDestroy(t){Ri(this._lView[1],this._lView,null,t)}markForCheck(){Xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){re(!0);try{Yi(t,e,n)}finally{re(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Zr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ha extends la{constructor(t){super(t),this._view=t}detectChanges(){Qi(this._view)}checkNoChanges(){!function(t){re(!0);try{Qi(t)}finally{re(!1)}}(this._view)}get context(){return null}}const fa=pa;let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=fa,t.__ChangeDetectorRef__=!0,t})();function pa(t=!1){return function(t,e,n){if(!n&&bt(t)){const n=Mt(t.index,e);return new la(n,n)}return 47&t.type?new la(e[16],e):null}(Xt(),Wt(),t)}const ga=[new ia],ba=new aa([new Xs]),ya=new ua(ga),ma=function(){return Oa(Xt(),Wt())};let va=(()=>{class t{}return t.__NG_ELEMENT_ID__=ma,t})();const wa=va,_a=class extends wa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Oi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Si(e,n,t),new la(n)}};function Oa(t,e){return 4&t.type?new _a(e,t,zs(t,e)):null}class Ea{}class xa{}const Sa=function(){return Aa(Xt(),Wt())};let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t})();const ka=Ta,Ca=class extends ka{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return zs(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const t=qe(this._hostTNode,this._hostLView);if(Ne(t)){const e=Le(t,this._hostLView),n=De(t);return new en(e[1].data[n+8],e)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ia(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ea,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ca(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],dn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Wr(i,o),a=n[11],u=qr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Zr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),dn(ja(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ia(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);n&&(pn(ja(this._lContainer),e),Ur(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);return n&&null!=pn(ja(this._lContainer),e)?new la(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ia(t){return t[8]}function ja(t){return t[8]||(t[8]=[])}function Aa(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Nt(r);else{const n=e[11];i=n.createComment("");const r=Lt(t,e);Fr(n,qr(n,r),i,function(t,e){return Pt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=$i(r,e,i,t),Zi(e,n)}return new Ca(n,t,e)}const Pa={};class Ra extends Fs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new La(e,this.ngModule)}}function Na(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Da=new un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Sr});class La extends Vs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(hi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Na(this.componentDef.inputs)}get outputs(){return Na(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Pa,i);return o!==Pa||r===Pa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ks,Rt),s=i.get(Ws,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Pt(t))return t.selectRootElement(e,n===V.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Nr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Sr,clean:eo,playerHandler:null,flags:0},f=Pi(0,null,null,1,0,null,null,null,null,null),d=Oi(null,f,h,l,null,null,o,a,s,i);let p,g;fe(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Ei(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(so(a,u,!0),null!==t&&(Ie(i,t,u),null!==a.classes&&Qr(i,t,a.classes),null!==a.styles&&Yr(i,t,a.styles)));const c=r.createRenderer(t,e),l=Oi(n,Ai(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Be(Fe(a,n),s,e.type),Mi(s,a),Hi(a,n.length,1)),Zi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ie(a,c,["ng-version",Zs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!si(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ie(a,c,t),e&&e.length>0&&Qr(a,c,e.join(" "))}if(g=Ut(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Xt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zi(t,r,e,xi(t,e,1,null),n));const i=Ye(e,t,r.directiveStart,r);xr(i,e);const o=Lt(r,e);return o&&xr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Xt();e.contentQueries(1,s,t.directiveStart)}const a=Xt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ve(a.index),Ui(n[1],a,0,a.directiveStart,a.directiveEnd,e),Vi(e,s)),s}(t,this.componentDef,d,h,[So]),Si(f,d,null)}finally{ye()}return new Ua(this.componentType,p,zs(g,d),d,g)}}class Ua extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ha(r),this.componentType=t}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Va=new Map;class Ma extends Ea{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ra(this);const n=lt(t),r=t[Z]||null;r&&Is(r),this._bootstrapComponents=Tr(n.bootstrap),this._r3Injector=bo(t,e,[{provide:Ea,useValue:this},{provide:Fs,useValue:this.componentFactoryResolver}],y(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=xo.THROW_IF_NOT_FOUND,n=P.Default){return t===xo||t===Ea||t===ao?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Fa extends xa{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${y(e)} vs ${y(e.name)}`)}(i,Va.get(i),n),Va.set(i,n));const o=Tr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ma(this.moduleType,t)}}function Ha(t,e){const n=t[e];return n===fi?void 0:n}function za(t,e){const n=Jt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new wt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=vt(r.type)),s=N(zo);try{const t=Ve(!1),e=o();return Ve(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Wt(),i,e),e}finally{N(s)}}function qa(t,e,n){const r=t+ht,i=Wt(),o=Vt(i,r);return Ga(i,$a(i,r)?function(t,e,n,r,i,o){const s=e+n;return Uo(t,s,i)?Lo(t,s+1,o?r.call(o,i):r(i)):Ha(t,s+1)}(i,ie(),e,o.transform,n,o):o.transform(n))}function Ba(t,e,n,r){const i=t+ht,o=Wt(),s=Vt(o,i);return Ga(o,$a(o,i)?function(t,e,n,r,i,o,s){const a=e+n;return Vo(t,a,i,o)?Lo(t,a+2,s?r.call(s,i,o):r(i,o)):Ha(t,a+2)}(o,ie(),e,s.transform,n,r,s):s.transform(n,r))}function Ka(t,e,n,r,i){const o=t+ht,s=Wt(),a=Vt(s,o);return Ga(s,$a(s,o)?function(t,e,n,r,i,o,s,a){const u=e+n;return function(t,e,n,r,i){const o=Vo(t,e,n,r);return Uo(t,e+2,i)||o}(t,u,i,o,s)?Lo(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):Ha(t,u+3)}(s,ie(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function $a(t,e){return t[1].data[e].pure}function Ga(t,e){return Ro.isWrapped(e)&&(e=Ro.unwrap(e),t[$t.lFrame.bindingIndex]=fi),e}const Wa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Ja(){return this._results[Po()]()}class Za{constructor(){this.dirty=!0,this._results=[],this.changes=new Wa,this.length=0;const t=Po(),e=Za.prototype;e[t]||(e[t]=Ja)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=hn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Xa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Xa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ya{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ya(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==cu(t,e).matches&&this.queries[e].setDirty()}}class Qa{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class tu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new tu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class eu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new eu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,nu(e,i)),this.matchTNodeWithReadOption(t,e,Xe(e,t,i,!1,!1))}else n===va?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Bs||r===Ta||r===va&&4&e.type)this.addMatch(e.index,-2);else{const n=Xe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function nu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ru(t,e,n,r){return-1===n?function(t,e){return 11&t.type?zs(t,e):4&t.type?Oa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Bs?zs(e,t):n===va?Oa(e,t):n===Ta?Aa(e,t):void 0}(t,e,r):Ye(t,t[1],n,e)}function iu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:ru(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function ou(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=iu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&ou(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];ou(n[1],n,i,r)}}}}}return r}function su(t){const e=Wt(),n=Jt(),r=ue();ce(r+1);const i=cu(n,r);if(t.dirty&&Ht(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?ou(n,e,r,[]):iu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function au(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new tu),t.queries.track(new eu(e,n))}(t,new Qa(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Za;Ri(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ya),e[19].queries.push(new Xa(n))}(t,e)}(Jt(),Wt(),e,n,r,0,Xt(),t)}function uu(){return t=Wt(),e=ue(),t[19].queries[e].queryList;var t,e}function cu(t,e){return t.queries.getByIndex(e)}function lu(t=P.Default){const e=pa(!0);if(null!=e||t&P.Optional)return e;Et("ChangeDetectorRef")}const hu=new un("Application Initializer");let fu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Hs,this.reject=Hs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Jo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Pn(hu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const du=new un("AppId"),pu={provide:du,useFactory:function(){return`${gu()}${gu()}${gu()}`},deps:[]};function gu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bu=new un("Platform Initializer"),yu=new un("Platform ID"),mu=new un("appBootstrapListener");let vu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const wu=new un("LocaleId"),_u=new un("DefaultCurrencyCode");class Ou{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Eu=function(t){return new Fa(t)},xu=Eu,Su=function(t){return Promise.resolve(Eu(t))},Tu=function(t){const e=Eu(t),n=Tr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new La(n)),t},[]);return new Ou(e,n)},ku=Tu,Cu=function(t){return Promise.resolve(Tu(t))};let Iu=(()=>{class t{constructor(){this.compileModuleSync=xu,this.compileModuleAsync=Su,this.compileModuleAndAllComponentsSync=ku,this.compileModuleAndAllComponentsAsync=Cu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const ju=(()=>Promise.resolve(0))();function Au(t){"undefined"==typeof Zone?ju.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Pu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wa(!1),this.onMicrotaskEmpty=new Wa(!1),this.onStable=new Wa(!1),this.onError=new Wa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Du(t),Nu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Du(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Lu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Uu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Lu(t),e.invoke(r,i,o,s,a)}finally{Uu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Du(t),Nu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ru,Hs,Hs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ru={};function Nu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Du(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Lu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Uu(t){t._nesting--,Nu(t)}class Vu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wa,this.onMicrotaskEmpty=new Wa,this.onStable=new Wa,this.onError=new Wa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Mu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pu.assertNotInAngularZone(),Au(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Au(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Pn(Pu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),Fu=(()=>{class t{constructor(){this._applications=new Map,Bu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Bu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Hu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function zu(t){Bu=t}let qu,Bu=new Hu,Ku=!0,$u=!1;function Gu(){return $u=!0,Ku}function Wu(){if($u)throw new Error("Cannot enable prod mode after platform setup.");Ku=!1}const Ju=new un("AllowMultipleToken");class Zu{constructor(t,e){this.name=t,this.token=e}}function Xu(t,e,n=[]){const r="Platform: "+e,i=new un(r);return(e=[])=>{let o=Yu();if(!o||o.injector.get(Ju,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:co,useValue:"platform"});!function(t){if(qu&&!qu.destroyed&&!qu.injector.get(Ju,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");qu=t.get(Qu);const e=t.get(bu,null);e&&e.forEach(t=>t())}(xo.create({providers:t,name:r}))}return function(t){const e=Yu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Yu(){return qu&&!qu.destroyed?qu:null}let Qu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Vu:("zone.js"===t?void 0:t)||new Pu({enableLongStackTrace:Gu(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Pu,useValue:n}];return n.run(()=>{const e=xo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Er,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{nc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Jo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(fu);return t.runInitializers(),t.donePromise.then(()=>(Is(i.injector.get(wu,ks)||ks),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=tc({},e);return function(t,e,n){const r=new Fa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ec);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${y(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Pn(xo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function tc(t,e){return Array.isArray(e)?e.reduce(tc,t):Object.assign(Object.assign({},t),e)}let ec=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Pu.assertNotInAngularZone(),Au(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Pu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Vs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ea),i=n.create(xo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Mu,null),a=s&&i.injector.get(Fu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),nc(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),Gu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;nc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(mu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Pn(Pu),Pn(vu),Pn(xo),Pn(Er),Pn(Fs),Pn(fu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function nc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class rc{}class ic{}const oc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let sc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||oc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>ac(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ac(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Pn(Iu),Pn(ic,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function ac(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const uc=function(t){return null},cc=Xu(null,"core",[{provide:yu,useValue:"unknown"},{provide:Qu,deps:[xo]},{provide:Fu,deps:[]},{provide:vu,deps:[]}]),lc=[{provide:ec,useClass:ec,deps:[Pu,vu,xo,Er,Fs,fu]},{provide:Da,deps:[Pu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:fu,useClass:fu,deps:[[new wn,hu]]},{provide:Iu,useClass:Iu,deps:[]},pu,{provide:aa,useFactory:function(){return ba},deps:[]},{provide:ua,useFactory:function(){return ya},deps:[]},{provide:wu,useFactory:function(t){return Is(t=t||"undefined"!=typeof $localize&&$localize.locale||ks),t},deps:[[new vn(wu),new wn,new On]]},{provide:_u,useValue:"USD"}];let hc=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=x({factory:function(e){return new(e||t)(Pn(ec))},providers:lc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return w}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return m}),n.d(e,"e",function(){return k}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return x}),n.d(e,"h",function(){return i}),n.d(e,"i",function(){return o}),n.d(e,"j",function(){return a}),n.d(e,"k",function(){return l}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return d}),n.d(e,"n",function(){return p}),n.d(e,"o",function(){return b}),n.d(e,"p",function(){return u}),n.d(e,"q",function(){return c}),n.d(e,"r",function(){return f}),n.d(e,"s",function(){return g}),n.d(e,"t",function(){return y});var r=n("uXP2");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}function b(){return"indexedDB"in self&&null!=indexedDB}function y(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function m(){return!(!navigator||!navigator.cookieEnabled)}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,w.prototype.create),o}return Object(r.c)(e,t),e}(Error),w=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?_(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function _(t,e){return t.replace(O,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var O=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function T(){}function k(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return k}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return y}),n.d(e,"g",function(){return S}),n.d(e,"h",function(){return O}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return b}),n.d(e,"k",function(){return E});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],b=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new u.q("angularfire2.app.options"),v=new u.q("angularfire2.app.nameOrConfig");class w{}const _=new u.O("6.1.4");function O(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&x("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{x("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},x=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&x("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:w,useFactory:O,deps:[m,u.z,[new u.A,v]]};let k=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function b(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},uXP2:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("uXP2"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.h)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var b=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.f)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.f)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.i)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(b){u={error:b}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.i)(e,t)},createSubscribe:s.g,ErrorFactory:s.b,deepExtend:s.i}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.k)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=b.initializeApp;b.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.q)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var w=b;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyAtEb_thlfuE48qKlKdUdRf42cmTuvYgaE",authDomain:"docusummaries.firebaseapp.com",projectId:"docusummaries",storageBucket:"docusummaries.appspot.com",messagingSenderId:"754961246857",appId:"1:754961246857:web:f4bad64b3c791faaaff458",measurementId:"G-0E3Y8SW1VF"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:m,token:t,providedIn:"root"}),t})();function m(t){const e=Object(r.Pb)(a).location;return new w(Object(r.Pb)(u),e&&e.origin||"")}const v=new r.q("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(v,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(v,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(x(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(y),r.Pb(u))},t.normalizeQueryParams=b,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Pb)(y),Object(r.Pb)(u))}function x(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.lb;class k{}let C=(()=>{class t extends k{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function I(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class j{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new j(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new P(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new P(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class P{constructor(t,e){this.record=t,this.view=e}}let R=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}function L(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(t)}'`)}class U{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class V{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const M=new V,F=new U;let H=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return M;if(Object(r.pb)(e))return F;throw L(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb())},t.\u0275pipe=r.Hb({name:"async",type:t,pure:!1}),t})(),z=(()=>{class t{transform(e,n,r){if(null==e)return null;if(!this.supports(e))throw L(t,e);return e.slice(n,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Hb({name:"slice",type:t,pure:!1}),t})(),q=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:k,useClass:C}]}),t})();function B(t){return"browser"===t}function K(t){return"server"===t}let $=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new G(Object(r.Pb)(a),window)}),t})();class G{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=W(this.window.history)||W(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function W(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class J extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new J,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=X||(X=document.querySelector("base"),X)?X.getAttribute("href"):null;return null==e?null:(n=e,Z||(Z=document.createElement("a")),Z.setAttribute("href",n),"/"===Z.pathname.charAt(0)?Z.pathname:"/"+Z.pathname);var n}resetBaseElement(){X=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return I(document.cookie,t)}}let Z,X=null;const Y=new r.q("TRANSITION_ID"),Q=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Y,a,r.r],multi:!0}];class tt{static init(){Object(r.W)(new tt)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const et=new r.q("EventManagerPlugins");let nt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(et),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let it=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),ot=(()=>{class t extends it{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},at=/%COMP%/g;function ut(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ut(t,i,n):(i=i.replace(at,t),n.push(i))}return n}function ct(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let lt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ht(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ft(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new dt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ut(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(nt),r.Pb(ot),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class ht{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(st[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=st[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=st[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ct(n)):this.eventManager.addEventListener(t,e,ct(n))}}class ft extends ht{constructor(t,e,n,r){super(t),this.component=n;const i=ut(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(at,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(at,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class dt extends ht{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ut(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let pt=(()=>{class t extends rt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const gt=["alt","control","meta","shift"],bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vt=(()=>{class t extends rt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(gt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&yt.hasOwnProperty(e)&&(e=yt[e]))}return bt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),gt.forEach(r=>{r!=n&&(0,mt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),wt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:function(){return Object(r.Pb)(_t)},token:t,providedIn:"root"}),t})(),_t=(()=>{class t extends wt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.cb)(e,"HTML")?Object(r.ub)(e):Object(r.ab)(this._doc,String(e));case r.H.STYLE:return Object(r.cb)(e,"Style")?Object(r.ub)(e):e;case r.H.SCRIPT:if(Object(r.cb)(e,"Script"))return Object(r.ub)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.mb)(e),Object(r.cb)(e,"URL")?Object(r.ub)(e):Object(r.bb)(String(e));case r.H.RESOURCE_URL:if(Object(r.cb)(e,"ResourceURL"))return Object(r.ub)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.db)(t)}bypassSecurityTrustStyle(t){return Object(r.gb)(t)}bypassSecurityTrustScript(t){return Object(r.fb)(t)}bypassSecurityTrustUrl(t){return Object(r.hb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.eb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:function(){return t=Object(r.Pb)(r.o),new _t(t.get(a));var t},token:t,providedIn:"root"}),t})();const Ot=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){J.makeCurrent(),tt.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],Et=Object(r.R)(r.V,"browser",Ot),xt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:et,useClass:pt,multi:!0,deps:[a,r.z,r.B]},{provide:et,useClass:vt,multi:!0,deps:[a]},[],{provide:lt,useClass:lt,deps:[nt,ot,r.c]},{provide:r.E,useExisting:lt},{provide:it,useExisting:ot},{provide:ot,useClass:ot,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:nt,useClass:nt,deps:[et,r.z]},[]];let St=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Y,useExisting:r.c},Q]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:xt,imports:[q,r.f]}),t})();function Tt(){return new kt(Object(r.Pb)(a))}let kt=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:Tt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var Ct=n("HDdC"),It=n("DH7j"),jt=n("lJxs"),At=n("XoHu"),Pt=n("Cfvw");function Rt(t,e){return new Ct.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(Pt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Nt=new r.q("NgValueAccessor"),Dt={provide:Nt,useExisting:Object(r.T)(()=>Lt),multi:!0};let Lt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([Dt])]}),t})();const Ut={provide:Nt,useExisting:Object(r.T)(()=>Mt),multi:!0},Vt=new r.q("CompositionEventMode");let Mt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Vt,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([Ut])]}),t})();function Ft(t){return null==t||0===t.length}function Ht(t){return null!=t&&"number"==typeof t.length}const zt=new r.q("NgValidators"),qt=new r.q("NgAsyncValidators"),Bt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Kt{static min(t){return e=>{if(Ft(e.value)||Ft(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ft(e.value)||Ft(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ft(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ft(t.value)||Bt.test(t.value)?null:{email:!0}}static minLength(t){return e=>Ft(e.value)||!Ht(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Ht(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Kt.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ft(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter($t);return 0==e.length?null:function(t){return Wt(Jt(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter($t);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(It.a)(e))return Rt(e,null);if(Object(At.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Rt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Rt(t=1===t.length&&Object(It.a)(t[0])?t[0]:t,null).pipe(Object(jt.a)(t=>e(...t)))}return Rt(t,null)}(Jt(t,e).map(Gt)).pipe(Object(jt.a)(Wt))}}}function $t(t){return null!=t}function Gt(t){const e=Object(r.qb)(t)?Object(Pt.a)(t):t;return Object(r.pb)(e),e}function Wt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Jt(t,e){return e.map(e=>e(t))}function Zt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Xt(t){return null!=t?Kt.compose(Zt(t)):null}function Yt(t){return null!=t?Kt.composeAsync(Zt(t)):null}function Qt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let te=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Xt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),ee=(()=>{class t extends te{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ne(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const ne=r.Nb(ee);class re extends te{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ie{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let oe=(()=>{class t extends ie{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(re,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),se=(()=>{class t extends ie{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ee,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const ae={provide:Nt,useExisting:Object(r.T)(()=>ue),multi:!0};let ue=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([ae])]}),t})();const ce={provide:Nt,useExisting:Object(r.T)(()=>he),multi:!0};let le=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),he=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(re),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(le),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([ce])]}),t})();const fe={provide:Nt,useExisting:Object(r.T)(()=>de),multi:!0};let de=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([fe])]}),t})();const pe={provide:Nt,useExisting:Object(r.T)(()=>be),multi:!0};function ge(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let be=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=ge(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([pe])]}),t})(),ye=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ge(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(be,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const me={provide:Nt,useExisting:Object(r.T)(()=>we),multi:!0};function ve(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let we=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([me])]}),t})(),_e=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ve(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ve(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(we,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Oe(t,e){xe(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Se(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Se(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Ee(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xe(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Qt(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(Qt(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Ee(e._rawValidators,n),Ee(e._rawAsyncValidators,n)}}function Se(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Te=[Lt,de,ue,be,we,he];function ke(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ce="VALID",Ie="INVALID",je="PENDING",Ae="DISABLED";function Pe(t){return(Le(t)?t.validators:t)||null}function Re(t){return Array.isArray(t)?Xt(t):t||null}function Ne(t,e){return(Le(e)?e.asyncValidators:t)||null}function De(t){return Array.isArray(t)?Yt(t):t||null}function Le(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ue{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Re(this._rawValidators),this._composedAsyncValidatorFn=De(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ce}get invalid(){return this.status===Ie}get pending(){return this.status==je}get disabled(){return this.status===Ae}get enabled(){return this.status!==Ae}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Re(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=De(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=je,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ae,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ce,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ce&&this.status!==je||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ae:Ce}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=je,this._hasOwnPendingAsyncValidator=!0;const e=Gt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Me?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Fe&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Ae:this.errors?Ie:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(je)?je:this._anyControlsHaveStatus(Ie)?Ie:Ce}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Le(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ve extends Ue{constructor(t=null,e,n){super(Pe(e),Ne(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ke(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ke(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Me extends Ue{constructor(t,e,n){super(Pe(e),Ne(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ve?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Fe extends Ue{constructor(t,e,n){super(Pe(e),Ne(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ve?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const He={provide:ee,useExisting:Object(r.T)(()=>qe)},ze=(()=>Promise.resolve(null))();let qe=(()=>{class t extends ee{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Me({},Xt(t),Yt(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ze.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Oe(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ze.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),ke(this._directives,t)})}addFormGroup(t){ze.then(()=>{const e=this._findContainer(t.path),n=new Me({});(function(t,e){xe(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ze.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ze.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(zt,10),r.Ib(qt,10))},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([He]),r.vb]}),t})();const Be={provide:re,useExisting:Object(r.T)(()=>$e)},Ke=(()=>Promise.resolve(null))();let $e=(()=>{class t extends re{constructor(t,e,n,i){super(),this.control=new Ve,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Mt?n=t:(e=t,Te.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Oe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ke.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ke.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ee,9),r.Ib(zt,10),r.Ib(qt,10),r.Ib(Nt,10))},t.\u0275dir=r.Db({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([Be]),r.vb,r.wb]}),t})(),Ge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),We=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),Je=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[le],imports:[We]}),t})();var Ze=n("LRne"),Xe=n("XNiG"),Ye=n("9ppp");class Qe extends Xe.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ye.a;return this._value}next(t){super.next(this._value=t)}}var tn=n("z+Ro"),en=n("7o/Q");class nn extends en.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class rn extends en.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var on=n("SeVD");function sn(t,e,n,r,i=new rn(t,n,r)){if(!i.closed)return e instanceof Ct.a?e.subscribe(i):Object(on.a)(e)(i)}var an=n("yCtX");const un={};class cn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ln(t,this.resultSelector))}}class ln extends nn{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(un),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(sn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===un?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const hn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var fn=n("EY2u");function dn(t){return new Ct.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Pt.a)(n):Object(fn.b)()).subscribe(e)})}var pn=n("zx2A");function gn(t,e){return"function"==typeof e?n=>n.pipe(gn((n,r)=>Object(Pt.a)(t(n,r)).pipe(Object(jt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new bn(t))}class bn{constructor(t){this.project=t}call(t,e){return e.subscribe(new yn(t,this.project))}}class yn extends pn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new pn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(pn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const mn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function vn(t){return e=>0===t?Object(fn.b)():e.lift(new wn(t))}class wn{constructor(t){if(this.total=t,this.total<0)throw new mn}call(t,e){return e.subscribe(new _n(t,this.total))}}class _n extends en.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}var On=n("bHdf");function En(){return Object(On.a)(1)}function xn(...t){return En()(Object(Ze.a)(...t))}function Sn(...t){const e=t[t.length-1];return Object(tn.a)(e)?(t.pop(),n=>xn(t,n,e)):e=>xn(t,e)}function Tn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new kn(t,e,n))}}class kn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Cn(t,this.accumulator,this.seed,this.hasSeed))}}class Cn extends en.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function In(t,e){return function(n){return n.lift(new jn(t,e))}}class jn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new An(t,this.predicate,this.thisArg))}}class An extends en.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Pn(t){return function(e){const n=new Rn(t),r=e.lift(n);return n.caught=r}}class Rn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Nn(t,this.selector,this.caught))}}class Nn extends pn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new pn.a(this);this.add(r);const i=Object(pn.c)(n,r);i!==r&&this.add(i)}}}var Dn=n("5+tZ");function Ln(t,e){return Object(Dn.a)(t,e,1)}function Un(t){return function(e){return 0===t?Object(fn.b)():e.lift(new Vn(t))}}class Vn{constructor(t){if(this.total=t,this.total<0)throw new mn}call(t,e){return e.subscribe(new Mn(t,this.total))}}class Mn extends en.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Fn(t=qn){return e=>e.lift(new Hn(t))}class Hn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new zn(t,this.errorFactory))}}class zn extends en.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(jw){t=jw}this.destination.error(t)}}}function qn(){return new hn}function Bn(t=null){return e=>e.lift(new Kn(t))}class Kn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new $n(t,this.defaultValue))}}class $n extends en.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Gn=n("SpAZ");function Wn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?In((e,n)=>t(e,n,r)):Gn.a,vn(1),n?Bn(e):Fn(()=>new hn))}var Jn=n("vkgz"),Zn=n("quSY");class Xn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Yn(t,this.callback))}}class Yn extends en.a{constructor(t,e){super(t),this.add(new Zn.a(e))}}class Qn{constructor(t,e){this.id=t,this.url=e}}class tr extends Qn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class er extends Qn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nr extends Qn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rr extends Qn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ir extends Qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class or extends Qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sr extends Qn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ar extends Qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ur extends Qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const br="primary";class yr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function mr(t){return new yr(t)}function vr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function wr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _r(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Or(t[i],e[i]))return!1;return!0}function Or(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Er(t){return Array.prototype.concat.apply([],t)}function xr(t){return t.length>0?t[t.length-1]:null}function Sr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Tr(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(Pt.a)(Promise.resolve(t)):Object(Ze.a)(t)}function kr(t,e,n){return n?function(t,e){return _r(t,e)}(t.queryParams,e.queryParams)&&Cr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Or(t[n],e[n]))}(t.queryParams,e.queryParams)&&Ir(t.root,e.root)}function Cr(t,e){if(!Nr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Cr(t.children[n],e.children[n]))return!1}return!0}function Ir(t,e){return jr(t,e,e.segments)}function jr(t,e,n){if(t.segments.length>n.length)return!!Nr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Nr(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ir(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Nr(t.segments,r)&&!!t.children.primary&&jr(t.children.primary,e,i)}}class Ar{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mr(this.queryParams)),this._queryParamMap}toString(){return Ur.serialize(this)}}class Pr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Sr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vr(this)}}class Rr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=mr(this.parameters)),this._parameterMap}toString(){return Kr(this)}}function Nr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Dr{}class Lr{parse(t){const e=new Zr(t);return new Ar(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Mr(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Hr(e)}=${Hr(t)}`).join("&"):`${Hr(e)}=${Hr(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Ur=new Lr;function Vr(t){return t.segments.map(t=>Kr(t)).join("/")}function Mr(t,e){if(!t.hasChildren())return Vr(t);if(e){const e=t.children.primary?Mr(t.children.primary,!1):"",n=[];return Sr(t.children,(t,e)=>{e!==br&&n.push(`${e}:${Mr(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Sr(t.children,(t,r)=>{r===br&&(n=n.concat(e(t,r)))}),Sr(t.children,(t,r)=>{r!==br&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===br?[Mr(t.children.primary,!1)]:[`${n}:${Mr(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Vr(t)}/${e[0]}`:`${Vr(t)}/(${e.join("//")})`}}function Fr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hr(t){return Fr(t).replace(/%3B/gi,";")}function zr(t){return Fr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qr(t){return decodeURIComponent(t)}function Br(t){return qr(t.replace(/\+/g,"%20"))}function Kr(t){return`${zr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${zr(t)}=${zr(e[t])}`).join("")}`;var e}const $r=/^[^\/()?;=#]+/;function Gr(t){const e=t.match($r);return e?e[0]:""}const Wr=/^[^=?&#]+/,Jr=/^[^?&#]+/;class Zr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pr([],{}):new Pr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Pr(t,e)),n}parseSegment(){const t=Gr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Rr(qr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Gr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Gr(this.remaining);t&&(n=t,this.capture(n))}t[qr(e)]=qr(n)}parseQueryParam(t){const e=function(t){const e=t.match(Wr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Jr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Br(e),i=Br(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Gr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=br);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Pr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Xr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Yr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Yr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Qr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Qr(t,this._root).map(t=>t.value)}}function Yr(t,e){if(t===e.value)return e;for(const n of e.children){const e=Yr(t,n);if(e)return e}return null}function Qr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Qr(t,n);if(r.length)return r.unshift(e),r}return[]}class ti{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ei(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ni extends Xr{constructor(t,e){super(t),this.snapshot=e,ui(this,t)}toString(){return this.snapshot.toString()}}function ri(t,e){const n=function(t,e){const n=new si([],{},{},"",{},br,e,null,t.root,-1,{});return new ai("",new ti(n,[]))}(t,e),r=new Qe([new Rr("",{})]),i=new Qe({}),o=new Qe({}),s=new Qe({}),a=new Qe(""),u=new ii(r,i,s,a,o,br,e,n.root);return u.snapshot=n.root,new ni(new ti(u,[]),n)}class ii{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(jt.a)(t=>mr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(jt.a)(t=>mr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oi(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class si{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ai extends Xr{constructor(t,e){super(e),this.url=t,ui(this,e)}toString(){return ci(this._root)}}function ui(t,e){e.value._routerState=t,e.children.forEach(e=>ui(t,e))}function ci(t){const e=t.children.length>0?` { ${t.children.map(ci).join(", ")} } `:"";return`${t.value}${e}`}function li(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_r(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),_r(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_r(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),_r(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hi(t,e){return _r(t.params,e.params)&&function(t,e){return Nr(t,e)&&t.every((t,n)=>_r(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||hi(t.parent,e.parent))}function fi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return fi(t,e,r);return fi(t,e)})}(t,e,n);return new ti(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return di(e,t),t}{const n=new ii(new Qe((r=e.value).url),new Qe(r.params),new Qe(r.queryParams),new Qe(r.fragment),new Qe(r.data),r.outlet,r.component,r),i=e.children.map(e=>fi(t,e));return new ti(n,i)}}var r}function di(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)di(t.children[n],e.children[n])}function pi(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function gi(t){return"object"==typeof t&&null!=t&&t.outlets}function bi(t,e,n,r,i){let o={};return r&&Sr(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Ar(n.root===t?e:yi(n.root,t,e),o,i)}function yi(t,e,n){const r={};return Sr(t.children,(t,i)=>{r[i]=t===e?n:yi(t,e,n)}),new Pr(t.segments,r)}class mi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&pi(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(gi);if(r&&r!==xr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function wi(t,e,n){if(t||(t=new Pr([],{})),0===t.segments.length&&t.hasChildren())return _i(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(gi(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Si(a,u,e))return o;r+=2}else{if(!Si(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Pr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Pr(t.segments.slice(r.pathIndex),t.children),_i(e,0,i)}return r.match&&0===i.length?new Pr(t.segments,{}):r.match&&!t.hasChildren()?Oi(t,e,n):r.match?_i(t,0,i):Oi(t,e,n)}function _i(t,e,n){if(0===n.length)return new Pr(t.segments,{});{const r=function(t){return gi(t[0])?t[0].outlets:{[br]:t}}(n),i={};return Sr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=wi(t.children[r],e,n))}),Sr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Pr(t.segments,i)}}function Oi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(gi(o)){const t=Ei(o.outlets);return new Pr(r,t)}if(0===i&&pi(n[0])){r.push(new Rr(t.segments[e].path,n[0])),i++;continue}const s=gi(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&pi(a)?(r.push(new Rr(s,xi(a))),i+=2):(r.push(new Rr(s,{})),i++)}return new Pr(r,{})}function Ei(t){const e={};return Sr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Oi(new Pr([],{}),0,t))}),e}function xi(t){const e={};return Sr(t,(t,n)=>e[n]=""+t),e}function Si(t,e,n){return t==n.path&&_r(e,n.parameters)}class Ti{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),li(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=ei(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Sr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=ei(t),i=t.value.component?n.children:e;Sr(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=ei(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new pr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new fr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(li(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ki(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ki(t){li(t.value),t.children.forEach(ki)}class Ci{constructor(t,e){this.routes=t,this.module=e}}function Ii(t){return"function"==typeof t}function ji(t){return t instanceof Ar}const Ai=Symbol("INITIAL_VALUE");function Pi(){return gn(t=>function(...t){let e=void 0,n=void 0;return Object(tn.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(It.a)(t[0])&&(t=t[0]),Object(an.a)(t,n).lift(new cn(e))}(...t.map(t=>t.pipe(vn(1),Sn(Ai)))).pipe(Tn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ai)return t;if(r===Ai&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ji(r))return r}return t},t)},Ai),In(t=>t!==Ai),Object(jt.a)(t=>ji(t)?t:!0===t),vn(1)))}let Ri=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[Ao]},encapsulation:2}),t})();function Ni(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Di(r,Li(e,r))}}function Di(t,e){t.children&&Ni(t.children,e)}function Li(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ui(t){const e=t.children&&t.children.map(Ui),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==br&&(n.component=Ri),n}function Vi(t){return t.outlet||br}function Mi(t,e){const n=t.filter(t=>Vi(t)===e);return n.push(...t.filter(t=>Vi(t)!==e)),n}const Fi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Hi(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Fi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||wr)(n,t,e);if(!i)return Object.assign({},Fi);const o={};Sr(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function zi(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>qi(t,e,n)&&Vi(n)!==br)}(t,n,r)){const i=new Pr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Vi(o)!==br){const n=new Pr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Vi(o)]=n}return i}(t,e,r,new Pr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>qi(t,e,n))}(t,n,r)){const o=new Pr(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(qi(t,n,a)&&!i[Vi(a)]){const n=new Pr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Vi(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Pr(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function qi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Bi(t,e,n,r){return!!(Vi(t)===r||r!==br&&qi(e,n,t))&&("**"===t.path||Hi(e,t,n).matched)}function Ki(t,e,n){return 0===e.length&&!t.children[n]}class $i{constructor(t){this.segmentGroup=t||null}}class Gi{constructor(t){this.urlTree=t}}function Wi(t){return new Ct.a(e=>e.error(new $i(t)))}function Ji(t){return new Ct.a(e=>e.error(new Gi(t)))}function Zi(t){return new Ct.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Xi{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=zi(this.urlTree.root,[],[],this.config).segmentGroup,e=new Pr(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,br).pipe(Object(jt.a)(t=>this.createUrlTree(Yi(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pn(t=>{if(t instanceof Gi)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof $i)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,br).pipe(Object(jt.a)(e=>this.createUrlTree(Yi(e),t.queryParams,t.fragment))).pipe(Pn(t=>{if(t instanceof $i)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Pr([],{[br]:t}):t;return new Ar(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(jt.a)(t=>new Pr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Pt.a)(r).pipe(Ln(r=>{const i=n.children[r],o=Mi(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(jt.a)(t=>({segment:t,outlet:r})))}),Tn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?In((e,n)=>t(e,n,r)):Gn.a,Un(1),n?Bn(e):Fn(()=>new hn))}())}expandSegment(t,e,n,r,i,o){return Object(Pt.a)(n).pipe(Ln(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Pn(t=>{if(t instanceof $i)return Object(Ze.a)(null);throw t}))),Wn(t=>!!t),Pn((t,n)=>{if(t instanceof hn||"EmptyError"===t.name){if(Ki(e,r,i))return Object(Ze.a)(new Pr([],{}));throw new $i(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Bi(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Wi(e):Wi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ji(i):this.lineralizeSegments(n,i).pipe(Object(Dn.a)(n=>{const i=new Pr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Hi(e,r,i);if(!s)return Wi(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ji(l):this.lineralizeSegments(r,l).pipe(Object(Dn.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(jt.a)(t=>(n._loadedConfig=t,new Pr(r,{})))):Object(Ze.a)(new Pr(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Hi(e,n,r);if(!o)return Wi(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Dn.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=zi(e,s,u,o),l=new Pr(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(jt.a)(t=>new Pr(s,t)));if(0===o.length&&0===c.length)return Object(Ze.a)(new Pr(s,{}));const h=Vi(n)===i;return this.expandSegment(r,l,o,c,h?br:i,!0).pipe(Object(jt.a)(t=>new Pr(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ze.a)(new Ci(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ze.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Dn.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(jt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ct.a(e=>e.error(vr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ze.a)(new Ci([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ze.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Ii(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Ii(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Tr(o)});return Object(Ze.a)(i).pipe(Pi(),Object(Jn.a)(t=>{if(!ji(t))return;const e=vr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(jt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ze.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Zi(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ar(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Sr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Sr(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Pr(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Yi(t){const e={};for(const[n,r]of Object.entries(t.children)){const t=Yi(r);(t.segments.length>0||t.hasChildren())&&(e[n]=t)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Pr(t.segments.concat(e.segments),e.children)}return t}(new Pr(t.segments,e))}class Qi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class to{constructor(t,e){this.component=t,this.route=e}}function eo(t,e,n){const r=t._root;return ro(r,e?e._root:null,n,[r.value])}function no(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ro(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ei(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Nr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nr(t.url,e.url)||!_r(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hi(t,e)||!_r(t.queryParams,e.queryParams);case"paramsChange":default:return!hi(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Qi(r)):(o.data=s.data,o._resolvedData=s._resolvedData),ro(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new to(a.outlet.component,s))}else s&&io(e,a,i),i.canActivateChecks.push(new Qi(r)),ro(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Sr(o,(t,e)=>io(t,n.getContext(e),i)),i}function io(t,e,n){const r=ei(t),i=t.value;Sr(r,(t,r)=>{io(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new to(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function oo(t,e){return null!==t&&e&&e(new dr(t)),Object(Ze.a)(!0)}function so(t,e){return null!==t&&e&&e(new hr(t)),Object(Ze.a)(!0)}function ao(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ze.a)(!0);const i=r.map(r=>dn(()=>{const i=no(r,e,n);let o;if(function(t){return t&&Ii(t.canActivate)}(i))o=Tr(i.canActivate(e,t));else{if(!Ii(i))throw new Error("Invalid CanActivate guard");o=Tr(i(e,t))}return o.pipe(Wn())}));return Object(Ze.a)(i).pipe(Pi())}function uo(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>dn(()=>{const i=e.guards.map(i=>{const o=no(i,e.node,n);let s;if(function(t){return t&&Ii(t.canActivateChild)}(o))s=Tr(o.canActivateChild(r,t));else{if(!Ii(o))throw new Error("Invalid CanActivateChild guard");s=Tr(o(r,t))}return s.pipe(Wn())});return Object(Ze.a)(i).pipe(Pi())}));return Object(Ze.a)(i).pipe(Pi())}class co{}function lo(t){return new Ct.a(e=>e.error(t))}class ho{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=zi(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,br);if(null===e)return null;const n=new si([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},br,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ti(n,e),i=new ai(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=oi(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Mi(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!fo(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===br?-1:e.value.outlet===br?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Ki(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Bi(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?xr(n).parameters:{};i=new si(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bo(t),Vi(t),t.component,t,po(e),go(e)+n.length,yo(t))}else{const r=Hi(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new si(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bo(t),Vi(t),t.component,t,po(e),go(e)+o.length,yo(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=zi(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new ti(i,t)]}if(0===a.length&&0===c.length)return[new ti(i,[])];const l=Vi(t)===r,h=this.processSegment(a,u,c,l?br:r);return null===h?null:[new ti(i,h)]}}function fo(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function po(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function go(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function bo(t){return t.data||{}}function yo(t){return t.resolve||{}}function mo(t){return function(e){return e.pipe(gn(e=>{const n=t(e);return n?Object(Pt.a)(n).pipe(Object(jt.a)(()=>e)):Object(Pt.a)([e])}))}}class vo extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const wo=new r.q("ROUTES");class _o{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(jt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ci(Er(r.injector.get(wo)).map(Ui),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Pt.a)(this.loader.load(t)):Tr(t()).pipe(Object(Dn.a)(t=>t instanceof r.v?Object(Ze.a)(t):Object(Pt.a)(this.compiler.compileModuleAsync(t))))}}class Oo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Eo,this.attachRef=null}}class Eo{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Oo,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class xo{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function So(t){throw t}function To(t,e,n){return e.parse("/")}function ko(t,e){return Object(Ze.a)(null)}let Co=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Xe.a,this.errorHandler=So,this.malformedUriErrorHandler=To,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ko,afterPreactivation:ko},this.urlHandlingStrategy=new xo,this.routeReuseStrategy=new vo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Ar(new Pr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new _o(s,a,t=>this.triggerEvent(new cr(t)),t=>this.triggerEvent(new lr(t))),this.routerState=ri(this.currentUrlTree,this.rootComponentType),this.transitions=new Qe({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(In(t=>0!==t.id),Object(jt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),gn(t=>{let n=!1,r=!1;return Object(Ze.a)(t).pipe(Object(Jn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ze.a)(t).pipe(gn(t=>{const n=this.transitions.getValue();return e.next(new tr(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?fn.a:[t]}),gn(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(gn(t=>function(t,e,n,r,i){return new Xi(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(jt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Jn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Dn.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new ho(t,e,n,r,i,o).recognize();return null===s?lo(new co):Object(Ze.a)(s)}catch(jw){return lo(jw)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(jt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Jn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Jn.a)(t=>{const n=new ir(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new tr(n,this.serializeUrl(r),i,o);e.next(a);const u=ri(r,this.rootComponentType).snapshot;return Object(Ze.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),fn.a}),mo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Jn.a)(t=>{const e=new or(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(jt.a)(t=>Object.assign(Object.assign({},t),{guards:eo(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Dn.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Ze.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Pt.a)(t).pipe(Object(Dn.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ze.a)(!0);const s=o.map(o=>{const s=no(o,e,i);let a;if(function(t){return t&&Ii(t.canDeactivate)}(s))a=Tr(s.canDeactivate(t,e,n,r));else{if(!Ii(s))throw new Error("Invalid CanDeactivate guard");a=Tr(s(t,e,n,r))}return a.pipe(Wn())});return Object(Ze.a)(s).pipe(Pi())}(t.component,t.route,n,e,r)),Wn(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Dn.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Pt.a)(e).pipe(Ln(e=>Object(Pt.a)([so(e.route.parent,r),oo(e.route,r),uo(t,e.path,n),ao(t,e.route,n)]).pipe(En(),Wn(t=>!0!==t,!0))),Wn(t=>!0!==t,!0))}(r,o,t,e):Object(Ze.a)(n)),Object(jt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Jn.a)(t=>{if(ji(t.guardsResult)){const e=vr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Jn.a)(t=>{const e=new sr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),In(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new nr(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),mo(t=>{if(t.guards.canActivateChecks.length)return Object(Ze.a)(t).pipe(Object(Jn.a)(t=>{const e=new ar(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),gn(t=>{let n=!1;return Object(Ze.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Dn.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ze.a)(t);let o=0;return Object(Pt.a)(n).pipe(Ln(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ze.a)({});const o={};return Object(Pt.a)(i).pipe(Object(Dn.a)(i=>function(t,e,n,r){const i=no(t,e,r);return Tr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Jn.a)(t=>{o[i]=t}))),Un(1),Object(Dn.a)(()=>Object.keys(o).length===i.length?Object(Ze.a)(o):fn.a))}(t._resolve,t,e,r).pipe(Object(jt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),oi(t,n).resolve),null)))}(t.route,e,r,i)),Object(Jn.a)(()=>o++),Un(1),Object(Dn.a)(e=>o===n.length?Object(Ze.a)(t):fn.a))}))}),Object(Jn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new nr(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Jn.a)(t=>{const e=new ur(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),mo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(jt.a)(t=>{const e=function(t,e,n){const r=fi(t,e._root,n?n._root:void 0);return new ni(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Jn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(jt.a)(t=>(new Ti(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Jn.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new nr(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Xn(i))),Pn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ji(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new nr(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new rr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Xh){t.reject(Xh)}}var i;return fn.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ni(t),this.config=t.map(Ui),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return bi(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new mi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Sr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new mi(n,e,r)}(n);if(o.toRoot())return bi(e.root,new Pr([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new vi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new vi(t,t===e.root,0)}const r=pi(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new vi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?_i(s.segmentGroup,s.index,o.commands):wi(s.segmentGroup,s.index,o.commands);return bi(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ji(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(jw){e=this.malformedUriErrorHandler(jw,this.urlSerializer,t)}return e}isActive(t,e){if(ji(t))return kr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return kr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new er(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(Dr),r.Pb(Eo),r.Pb(O),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Io=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Xe.a,this.subscription=t.events.subscribe(t=>{t instanceof er&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:jo(this.skipLocationChange),replaceUrl:jo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:jo(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Co),r.Ib(ii),r.Ib(y))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Sb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ob("href",e.href,r.gc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function jo(t){return""===t||!!t}let Ao=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||br,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Po(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Eo),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Po{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ii?this.route:t===Eo?this.childContexts:this.parent.get(t,e)}}class Ro{}class No{preload(t,e){return Object(Ze.a)(null)}}let Do=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new _o(e,n,e=>t.triggerEvent(new cr(e)),e=>t.triggerEvent(new lr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(In(t=>t instanceof er),Ln(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Pt.a)(n).pipe(Object(On.a)(),Object(jt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Dn.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Co),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(Ro))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Lo=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof er&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new gr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Co),r.Pb($),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Uo=new r.q("ROUTER_CONFIGURATION"),Vo=new r.q("ROUTER_FORROOT_GUARD"),Mo=[O,{provide:Dr,useClass:Lr},{provide:Co,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Co(null,t,e,n,r,i,o,Er(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Dr,Eo,O,r.r,r.w,r.i,wo,Uo,[class{},new r.A],[class{},new r.A]]},Eo,{provide:ii,useFactory:function(t){return t.routerState.root},deps:[Co]},{provide:r.w,useClass:r.J},Do,No,class{preload(t,e){return e().pipe(Pn(()=>Object(Ze.a)(null)))}},{provide:Uo,useValue:{enableTracing:!1}}];function Fo(){return new r.y("Router",Co)}let Ho=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Mo,Ko(e),{provide:Vo,useFactory:Bo,deps:[[Co,new r.A,new r.I]]},{provide:Uo,useValue:n||{}},{provide:y,useFactory:qo,deps:[u,[new r.p(v),new r.A],Uo]},{provide:Lo,useFactory:zo,deps:[Co,$,Uo]},{provide:Ro,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:No},{provide:r.y,multi:!0,useFactory:Fo},[$o,{provide:r.d,multi:!0,useFactory:Go,deps:[$o]},{provide:Jo,useFactory:Wo,deps:[$o]},{provide:r.b,multi:!0,useExisting:Jo}]]}}static forChild(e){return{ngModule:t,providers:[Ko(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(Vo,8),r.Pb(Co,8))}}),t})();function zo(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Lo(t,e,n)}function qo(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function Bo(t){return"guarded"}function Ko(t){return[{provide:r.a,multi:!0,useValue:t},{provide:wo,multi:!0,useValue:t}]}let $o=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Xe.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Co),r=this.injector.get(Uo);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ze.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Uo),n=this.injector.get(Do),i=this.injector.get(Lo),o=this.injector.get(Co),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function Go(t){return t.appInitializer.bind(t)}function Wo(t){return t.bootstrapListener.bind(t)}const Jo=new r.q("Router Initializer");class Zo{constructor(){this.name="Loading...",this.description="Fetching...",this.linkToDoco="",this.link="",this.producer="Fetching...",this.studio="Fetching...",this.category="Fetching...",this.categoryObj=new Xo,this.tags=["Fetching..."],this.tagObj=new Array,this.topic="Fetching..."}}class Xo{constructor(){this.id="",this.description="",this.name="",this.link=""}}class Yo{constructor(){this.category="",this.link="",this.name="",this.id=""}}const Qo=[{id:"id-disasters",description:"Documentaries involving major disruptions to society, including natural disasters, man-made disasters, and events resulting in multiple fatalities or injuries.",name:"Disasters",link:"disasters"},{id:"id-lifestyle",description:"Lifestyle documentaries about ways of living, including alternative ways of living and how people used to live in the past.",name:"Lifestyle",link:"lifestyle"},{id:"id-health",description:"Documentaries related to overall health, fitness, and physical illnesses and diseases.",name:"Health",link:"health"}],ts=[{id:"id-aircrash",name:"Aircrash",category:"id-disasters",link:"disasters/aircrash"},{id:"id-explosionsOrFire",name:"Explosions Or Fire",category:"id-disasters",link:"disasters/explosionsOrFire"},{id:"id-household",name:"Household",category:"id-lifestyle",link:"lifestyle/household"},{id:"id-dietAndExercise",name:"Diet And Exercise",category:"id-health",link:"health/dietAndExercise"}],es=[{name:"Surviving Lockerbie",description:"Surviving Lockerbie - local storage",linkToDoco:"http://www.google.com",link:"/disasters/article/survivingLockerbie",producer:"Who knows",studio:"Who cares",category:"id-disasters",categoryObj:{id:"id-disasters",description:"a",name:"Disasters",link:"disasters"},tags:["id-aircrash","id-explosionsOrFire"],tagObj:[{id:"id-aircrash",name:"Aircrash",category:"id-disasters",link:"disasters/aircrash"},{id:"id-explosionsOrFire",name:"Explosions Or Fire",category:"id-disasters",link:"disasters/explosionsOrFire"}],topic:""},{name:"Hoarders",description:"Hoarders - local storage",linkToDoco:"http://www.google.com",link:"/disasters/article/hoarders",producer:"Who knows",studio:"Who cares",category:"id-lifestyle",categoryObj:{id:"id-lifestyle",description:"b",name:"Lifestyle",link:"lifestyle"},tags:["id-household"],tagObj:[{id:"id-household",name:"Household",category:"id-lifestyle",link:"lifestyle/household"}],topic:""},{name:"Supersize Me",description:"Supersize Me - local storage",linkToDoco:"http://www.google.com",link:"/disasters/article/supersizeMe",producer:"Who knows",studio:"Who cares",category:"id-health",categoryObj:{id:"id-health",description:"c",name:"Health",link:"health"},tags:["id-dietAndExercise"],tagObj:[{id:"id-dietAndExercise",name:"Diet And Exercise",category:"id-health",link:"health/dietAndExercise"}],topic:""},{name:"1000 lb Sisters",description:"1000 lb Sisters - local storage",linkToDoco:"http://www.google.com",link:"/disasters/article/1000lbSistersTippinTheScalesS02E02",producer:"Who knows",studio:"Who cares",category:"id-health",categoryObj:{id:"id-health",description:"c",name:"Health",link:"health"},tags:["id-dietAndExercise"],tagObj:[{id:"id-dietAndExercise",name:"Diet And Exercise",category:"id-health",link:"health/dietAndExercise"}],topic:""},{name:"Obesity In Texas",description:"Obesity In Texas - local storage",linkToDoco:"http://www.google.com",link:"/disasters/article/obesityInTexas",producer:"Who knows",studio:"Who cares",category:"id-health",categoryObj:{id:"id-health",description:"c",name:"Health",link:"health"},tags:["id-dietAndExercise"],tagObj:[{id:"id-dietAndExercise",name:"Diet And Exercise",category:"id-health",link:"health/dietAndExercise"}],topic:""}];var ns=n("D0XW");function rs(){return t=>t.lift(new is)}class is{call(t,e){return e.subscribe(new os(t))}}class os extends en.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function ss(t,e){return n=>n.lift(new as(t,e))}class as{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new us(t,this.compare,this.keySelector))}}class us extends en.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var cs=n("pxpQ"),ls=n("spgP"),hs=n("Jgta"),fs=n("zIRd"),ds=n("q/0M"),ps=n("qOnz"),gs=function(t,e){return(gs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function bs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ys,ms="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vs=vs||{},ws=ms||self;function _s(){}function Os(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Es(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var xs="closure_uid_"+(1e9*Math.random()>>>0),Ss=0;function Ts(t,e,n){return t.call.apply(t.bind,arguments)}function ks(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Cs(t,e,n){return(Cs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ts:ks).apply(null,arguments)}function Is(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function js(){return Date.now()}function As(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ps(){this.j=this.j,this.i=this.i}Ps.prototype.j=!1,Ps.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,xs)&&t[xs]||(t[xs]=++Ss)}(this)},Ps.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Rs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ns=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ds(t){return Array.prototype.concat.apply([],arguments)}function Ls(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Us(t){return/^[\s\xa0]*$/.test(t)}var Vs,Ms=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Fs(t,e){return-1!=t.indexOf(e)}function Hs(t,e){return t<e?-1:t>e?1:0}t:{var zs=ws.navigator;if(zs){var qs=zs.userAgent;if(qs){Vs=qs;break t}}Vs=""}function Bs(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ks(t){var e={};for(var n in t)e[n]=t[n];return e}var $s="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gs(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<$s.length;o++)n=$s[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ws(t){return Ws[" "](t),t}Ws[" "]=_s;var Js,Zs,Xs=Fs(Vs,"Opera"),Ys=Fs(Vs,"Trident")||Fs(Vs,"MSIE"),Qs=Fs(Vs,"Edge"),ta=Qs||Ys,ea=Fs(Vs,"Gecko")&&!(Fs(Vs.toLowerCase(),"webkit")&&!Fs(Vs,"Edge"))&&!(Fs(Vs,"Trident")||Fs(Vs,"MSIE"))&&!Fs(Vs,"Edge"),na=Fs(Vs.toLowerCase(),"webkit")&&!Fs(Vs,"Edge");function ra(){var t=ws.document;return t?t.documentMode:void 0}t:{var ia="",oa=(Zs=Vs,ea?/rv:([^\);]+)(\)|;)/.exec(Zs):Qs?/Edge\/([\d\.]+)/.exec(Zs):Ys?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Zs):na?/WebKit\/(\S+)/.exec(Zs):Xs?/(?:Version)[ \/]?(\S+)/.exec(Zs):void 0);if(oa&&(ia=oa?oa[1]:""),Ys){var sa=ra();if(null!=sa&&sa>parseFloat(ia)){Js=String(sa);break t}}Js=ia}var aa={};function ua(t){return function(t,e){var n=aa;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ms(String(Js)).split("."),r=Ms(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Hs(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Hs(0==s[2].length,0==a[2].length)||Hs(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var ca=ws.document&&Ys&&(ra()||parseInt(Js,10))||void 0,la=!Ys||9<=Number(ca),ha=Ys&&!ua("9"),fa=function(){if(!ws.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ws.addEventListener("test",_s,e),ws.removeEventListener("test",_s,e)}catch(n){}return t}();function da(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function pa(t,e){if(da.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ea){t:{try{Ws(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ga[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}da.prototype.b=function(){this.defaultPrevented=!0},As(pa,da);var ga={2:"touch",3:"pen",4:"mouse"};pa.prototype.b=function(){pa.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ha)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ba="closure_listenable_"+(1e6*Math.random()|0),ya=0;function ma(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ya,this.Y=this.Z=!1}function va(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function wa(t){this.src=t,this.a={},this.b=0}function _a(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Rs(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(va(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Oa(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}wa.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Oa(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ma(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ea="closure_lm_"+(1e6*Math.random()|0),xa={};function Sa(t,e,n,r,i){if(r&&r.once)return ka(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Sa(t,e[o],n,r,i);return null}return n=Da(n),t&&t[ba]?t.va(e,n,Es(r)?!!r.capture:!!r,i):Ta(t,e,n,!1,r,i)}function Ta(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Es(i)?!!i.capture:!!i;if(s&&!la)return null;var a=Ra(t);if(a||(t[Ea]=a=new wa(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Pa,e=la?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fa||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ja(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ka(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ka(t,e[o],n,r,i);return null}return n=Da(n),t&&t[ba]?t.wa(e,n,Es(r)?!!r.capture:!!r,i):Ta(t,e,n,!0,r,i)}function Ca(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ca(t,e[o],n,r,i);else r=Es(r)?!!r.capture:!!r,n=Da(n),t&&t[ba]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Oa(o=t.a[e],n,r,i))&&(va(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ra(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Oa(e,n,r,i)),(n=-1<t?e[t]:null)&&Ia(n))}function Ia(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ba])_a(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ja(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ra(e))?(_a(n,t),0==n.b&&(n.src=null,e[Ea]=null)):va(t)}}}function ja(t){return t in xa?xa[t]:xa[t]="on"+t}function Aa(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ia(t),n.call(r,e)}function Pa(t,e){if(t.Y)return!0;if(!la){if(!e)t:{e=["window","event"];for(var n=ws,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Aa(t,e=new pa(e,this))}return Aa(t,new pa(e,this))}function Ra(t){return(t=t[Ea])instanceof wa?t:null}var Na="__closure_events_fn_"+(1e9*Math.random()>>>0);function Da(t){return"function"==typeof t?t:(t[Na]||(t[Na]=function(e){return t.handleEvent(e)}),t[Na])}function La(){Ps.call(this),this.c=new wa(this),this.J=this,this.C=null}function Ua(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new da(e,t);else if(e instanceof da)e.target=e.target||t;else{var i=e;Gs(e=new da(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Va(s,r,!0,e)&&i}if(i=Va(s=e.a=t,r,!0,e)&&i,i=Va(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Va(s=e.a=n[o],r,!1,e)&&i}function Va(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&_a(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}As(La,Ps),La.prototype[ba]=!0,(ys=La.prototype).addEventListener=function(t,e,n,r){Sa(this,t,e,n,r)},ys.removeEventListener=function(t,e,n,r){Ca(this,t,e,n,r)},ys.G=function(){if(La.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)va(n[r]);delete e.a[t],e.b--}}this.C=null},ys.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ys.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ma=ws.JSON.stringify;function Fa(){this.b=this.a=null}var Ha,za=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ba},function(t){t.reset()});function qa(){var t=Wa,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ba(){this.next=this.b=this.a=null}function Ka(t){ws.setTimeout(function(){throw t},0)}function $a(t,e){Ha||function(){var t=ws.Promise.resolve(void 0);Ha=function(){t.then(Ja)}}(),Ga||(Ha(),Ga=!0),Wa.add(t,e)}Fa.prototype.add=function(t,e){var n=za.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ba.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ba.prototype.reset=function(){this.next=this.b=this.a=null};var Ga=!1,Wa=new Fa;function Ja(){for(var t;t=qa();){try{t.a.call(t.b)}catch(n){Ka(n)}var e=za;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ga=!1}function Za(t,e){La.call(this),this.b=t||1,this.a=e||ws,this.f=Cs(this.Za,this),this.g=js()}function Xa(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ya(t,e,n){if("function"==typeof t)n&&(t=Cs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Cs(t.handleEvent,t)}return 2147483647<Number(e)?-1:ws.setTimeout(t,e||0)}function Qa(t){t.a=Ya(function(){t.a=null,t.c&&(t.c=!1,Qa(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}As(Za,La),(ys=Za.prototype).aa=!1,ys.M=null,ys.Za=function(){if(this.aa){var t=js()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ua(this,"tick"),this.aa&&(Xa(this),this.start()))}},ys.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=js())},ys.G=function(){Za.X.G.call(this),Xa(this),delete this.a};var tu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}gs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Qa(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ws.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ps);function eu(t){Ps.call(this),this.b=t,this.a={}}As(eu,Ps);var nu=[];function ru(t,e,n,r){Array.isArray(n)||(n&&(nu[0]=n.toString()),n=nu);for(var i=0;i<n.length;i++){var o=Sa(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function iu(t){Bs(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ia(t)},t),t.a={}}function ou(){this.a=!0}function su(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ma(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}eu.prototype.G=function(){eu.X.G.call(this),iu(this)},eu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ou.prototype.info=function(){};var au={},uu=null;function cu(){return uu=uu||new La}function lu(t){da.call(this,au.Fa,t)}function hu(t){var e=cu();Ua(e,new lu(e,t))}function fu(t,e){da.call(this,au.STAT_EVENT,t),this.stat=e}function du(t){var e=cu();Ua(e,new fu(e,t))}function pu(t){da.call(this,au.Ga,t)}function gu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ws.setTimeout(function(){t()},e)}au.Fa="serverreachability",As(lu,da),au.STAT_EVENT="statevent",As(fu,da),au.Ga="timingevent",As(pu,da);var bu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},yu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function mu(){}function vu(){}mu.prototype.a=null;var wu,_u={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ou(){da.call(this,"d")}function Eu(){da.call(this,"c")}function xu(){}function Su(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new eu(this),this.P=Tu,this.R=new Za(t=ta?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}As(Ou,da),As(Eu,da),As(xu,mu),wu=new xu;var Tu=45e3,ku={},Cu={};function Iu(t,e,n){t.H=1,t.i=Xu(Ku(e)),t.j=n,t.I=!0,ju(t,null)}function ju(t,e){t.u=js(),Ru(t),t.l=Ku(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),lc(n.b,"t",r),t.D=0,t.a=il(t.g,t.g.C?e:null),0<t.O&&(t.F=new tu(Cs(t.Ca,t,t.a),t.O)),ru(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ks(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),hu(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Au(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Pu(t,n);if(i==Cu){4==e&&(t.h=4,du(14),r=!1),su(t.c,t.f,null,"[Incomplete Response]");break}if(i==ku){t.h=4,du(15),su(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}su(t.c,t.f,i,null),Vu(t,i)}4==e&&0==n.length&&(t.h=1,du(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zc(e),e.F=!0,du(11))):(su(t.c,t.f,n,"[Invalid Chunked Response]"),Uu(t),Lu(t))}function Pu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Cu:(n=Number(e.substring(n,r)),isNaN(n)?ku:(r+=1)+n>e.length?Cu:(e=e.substr(r,n),t.D=r+n,e))}function Ru(t){t.T=js()+t.P,Nu(t,t.P)}function Nu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=gu(Cs(t.Va,t),e)}function Du(t){t.o&&(ws.clearTimeout(t.o),t.o=null)}function Lu(t){0==t.g.v||t.A||Qc(t.g,t)}function Uu(t){Du(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Xa(t.R),iu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Vu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||yc(n.b,t)))if(n.I=t.N,!t.C&&yc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(qv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Yc(n),Hc(n)}Jc(n),du(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=gu(Cs(n.Sa,n),6e3));if(1>=bc(n.b)&&n.ea){try{n.ea()}catch(qv){}n.ea=void 0}}else el(n,11)}else if((t.C||n.a==t)&&Yc(n),!Us(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Fs(l,"spdy")||Fs(l,"quic")||Fs(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(mc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Zu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=js()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=rl(u,u.C?u.ga:null,u.fa),d.C){vc(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Du(p),Ru(p)),u.a=d}else Wc(u);0<n.g.length&&Bc(n)}else"stop"!=i[0]&&"close"!=i[0]||el(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?el(n,7):Fc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);hu(4)}catch(qv){}}function Mu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Os(t)||"string"==typeof t)Ns(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Os(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Os(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Fu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Hu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];zu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)zu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function zu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ys=Su.prototype).setTimeout=function(t){this.P=t},ys.Xa=function(t){t=t.target;var e=this.F;e&&3==Lc(t)?e.f():this.Ca(t)},ys.Ca=function(t){try{if(t==this.a)t:{var e=Lc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ta&&!this.a.$())){this.A||4!=e||7==n||hu(8==n||0>=r?3:2),Du(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Us(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,du(12),Uu(this),Lu(this);break t}su(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Vu(this,u)}this.I?(Au(this,e,o),ta&&this.b&&3==e&&(ru(this.J,this.R,"tick",this.Wa),this.R.start())):(su(this.c,this.f,o,null),Vu(this,o)),4==e&&Uu(this),this.b&&!this.A&&(4==e?Qc(this.g,this):(this.b=!1,Ru(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,du(12)):(this.h=0,du(13)),Uu(this),Lu(this)}}}catch(c){}},ys.Wa=function(){if(this.a){var t=Lc(this.a),e=this.a.$();this.D<e.length&&(Du(this),Au(this,t,e),this.b&&4!=t&&Ru(this))}},ys.cancel=function(){this.A=!0,Uu(this)},ys.Va=function(){this.o=null;var t=js();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(hu(3),du(17)),Uu(this),this.h=2,Lu(this)):Nu(this,this.T-t)},(ys=Fu.prototype).K=function(){Hu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ys.L=function(){return Hu(this),this.a.concat()},ys.get=function(t,e){return zu(this.b,t)?this.b[t]:e},ys.set=function(t,e){zu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ys.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var qu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Bu){this.a=void 0!==e?e:t.a,$u(this,t.f),this.j=t.j,Gu(this,t.c),Wu(this,t.h),this.g=t.g,e=t.b;var n=new sc;n.c=e.c,e.a&&(n.a=new Fu(e.a),n.b=e.b),Ju(this,n),this.i=t.i}else t&&(n=String(t).match(qu))?(this.a=!!e,$u(this,n[1]||"",!0),this.j=Yu(n[2]||""),Gu(this,n[3]||"",!0),Wu(this,n[4]),this.g=Yu(n[5]||"",!0),Ju(this,n[6]||"",!0),this.i=Yu(n[7]||"")):(this.a=!!e,this.b=new sc(null,this.a))}function Ku(t){return new Bu(t)}function $u(t,e,n){t.f=n?Yu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Gu(t,e,n){t.c=n?Yu(e,!0):e}function Wu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ju(t,e,n){e instanceof sc?(t.b=e,function(t,e){e&&!t.f&&(ac(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(uc(this,e),lc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Qu(e,ic)),t.b=new sc(e,t.a))}function Zu(t,e,n){t.b.set(e,n)}function Xu(t){return Zu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^js()).toString(36)),t}function Yu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,tc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Bu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Qu(e,ec,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Qu(e,ec,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Qu(n,"/"==n.charAt(0)?rc:nc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Qu(n,oc)),t.join("")};var ec=/[#\/\?@]/g,nc=/[#\?:]/g,rc=/[#\?]/g,ic=/[#\?@]/g,oc=/#/g;function sc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ac(t){t.a||(t.a=new Fu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function uc(t,e){ac(t),e=hc(t,e),zu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,zu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Hu(t)))}function cc(t,e){return ac(t),e=hc(t,e),zu(t.a.b,e)}function lc(t,e,n){uc(t,e),0<n.length&&(t.c=null,t.a.set(hc(t,e),Ls(n)),t.b+=n.length)}function hc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ys=sc.prototype).add=function(t,e){ac(this),this.c=null,t=hc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ys.forEach=function(t,e){ac(this),this.a.forEach(function(n,r){Ns(n,function(n){t.call(e,n,r,this)},this)},this)},ys.L=function(){ac(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ys.K=function(t){ac(this);var e=[];if("string"==typeof t)cc(this,t)&&(e=Ds(e,this.a.get(hc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ds(e,t[n])}return e},ys.set=function(t,e){return ac(this),this.c=null,cc(this,t=hc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ys.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ys.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var fc=function(){return function(t,e){this.b=t,this.a=e}}();function dc(t){this.g=t||pc,t=ws.PerformanceNavigationTiming?0<(t=ws.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ws.ia&&ws.ia.ya&&ws.ia.ya()&&ws.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var pc=10;function gc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function bc(t){return t.b?1:t.a?t.a.size:0}function yc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function mc(t,e){t.a?t.a.add(e):t.b=e}function vc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function wc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=bs(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ls(t.c)}function _c(){}function Oc(){this.a=new _c}function Ec(t,e,n){var r=n||"";try{Mu(t,function(t,n){var i=t;Es(t)&&(i=Ma(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(jw){throw e.push(r+"type="+encodeURIComponent("_badmap")),jw}}function xc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}dc.prototype.cancel=function(){var t,e;if(this.c=wc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=bs(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},_c.prototype.stringify=function(t){return ws.JSON.stringify(t,void 0)},_c.prototype.parse=function(t){return ws.JSON.parse(t,void 0)};var Sc=ws.JSON.parse;function Tc(t){La.call(this),this.headers=new Fu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=kc,this.D=this.F=!1}As(Tc,La);var kc="",Cc=/^https?$/i,Ic=["POST","PUT"];function jc(t){return"content-type"==t.toLowerCase()}function Ac(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Pc(t),Nc(t)}function Pc(t){t.u||(t.u=!0,Ua(t,"complete"),Ua(t,"error"))}function Rc(t){if(t.b&&void 0!==vs&&(!t.s[1]||4!=Lc(t)||2!=t.W()))if(t.l&&4==Lc(t))Ya(t.za,0,t);else if(Ua(t,"readystatechange"),4==Lc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(qu)[1]||null;if(!o&&ws.self&&ws.self.location){var s=ws.self.location.protocol;o=s.substr(0,s.length-1)}i=!Cc.test(o?o.toLowerCase():"")}e=i}if(e)Ua(t,"complete"),Ua(t,"success");else{t.h=6;try{var a=2<Lc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Pc(t)}}finally{Nc(t)}}}function Nc(t,e){if(t.a){Dc(t);var n=t.a,r=t.s[0]?_s:null;t.a=null,t.s=null,e||Ua(t,"ready");try{n.onreadystatechange=r}catch(jw){}}}function Dc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ws.clearTimeout(t.m),t.m=null)}function Lc(t){return t.a?t.a.readyState:0}function Uc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Bs(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Zu(t,e,n))}function Vc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Mc(t){this.pa=0,this.g=[],this.c=new ou,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Vc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Vc("baseRetryDelayMs",5e3,t),this.Ra=Vc("retryDelaySeedMs",1e4,t),this.Ma=Vc("forwardChannelMaxRetries",2,t),this.ma=Vc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new dc(t&&t.concurrentRequestLimit),this.ka=new Oc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Fc(t){if(zc(t),3==t.v){var e=t.R++,n=Ku(t.B);Zu(n,"SID",t.J),Zu(n,"RID",e),Zu(n,"TYPE","terminate"),$c(t,n),(e=new Su(t,t.c,e,void 0)).H=2,e.i=Xu(Ku(n)),n=!1,ws.navigator&&ws.navigator.sendBeacon&&(n=ws.navigator.sendBeacon(e.i.toString(),"")),!n&&ws.Image&&((new Image).src=e.i,n=!0),n||(e.a=il(e.g,null),e.a.ba(e.i)),e.u=js(),Ru(e)}nl(t)}function Hc(t){t.a&&(Zc(t),t.a.cancel(),t.a=null)}function zc(t){Hc(t),t.j&&(ws.clearTimeout(t.j),t.j=null),Yc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ws.clearTimeout(t.h),t.h=null)}function qc(t,e){t.g.push(new fc(t.Oa++,e)),3==t.v&&Bc(t)}function Bc(t){gc(t.b)||t.h||(t.h=!0,$a(t.Ba,t),t.u=0)}function Kc(t,e){var n;n=e?e.f:t.R++;var r=Ku(t.B);Zu(r,"SID",t.J),Zu(r,"RID",n),Zu(r,"AID",t.P),$c(t,r),t.i&&t.l&&Uc(r,t.i,t.l),n=new Su(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Gc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),mc(t.b,n),Iu(n,r,e)}function $c(t,e){t.f&&Mu({},function(t,n){Zu(e,n,t)})}function Gc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Cs(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Ec(l,s,"req"+c+"_")}catch(Fl){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Wc(t){t.a||t.j||(t.T=1,$a(t.Aa,t),t.o=0)}function Jc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=gu(Cs(t.Aa,t),tl(t,t.o)),t.o++,0))}function Zc(t){null!=t.s&&(ws.clearTimeout(t.s),t.s=null)}function Xc(t){t.a=new Su(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ku(t.la);Zu(e,"RID","rpc"),Zu(e,"SID",t.J),Zu(e,"CI",t.H?"0":"1"),Zu(e,"AID",t.P),$c(t,e),Zu(e,"TYPE","xmlhttp"),t.i&&t.l&&Uc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Xu(Ku(e)),n.j=null,n.I=!0,ju(n,t)}function Yc(t){null!=t.m&&(ws.clearTimeout(t.m),t.m=null)}function Qc(t,e){var n=null;if(t.a==e){Yc(t),Zc(t),t.a=null;var r=2}else{if(!yc(t.b,e))return;n=e.s,vc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=js()-e.u;var i=t.u;Ua(r=cu(),new pu(r,n,e,i)),Bc(t)}else Wc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(bc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=gu(Cs(t.Ba,t,e),tl(t,t.u)),t.u++,0)))}(t,e)||2==r&&Jc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:el(t,5);break;case 4:el(t,10);break;case 3:el(t,6);break;default:el(t,2)}}function tl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function el(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Cs(t.Ya,t);n||(n=new Bu("//www.google.com/images/cleardot.gif"),ws.location&&"http"==ws.location.protocol||$u(n,"https"),Xu(n)),function(t,e){var n=new ou;if(ws.Image){var r=new Image;r.onload=Is(xc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Is(xc,n,r,"TestLoadImage: error",!1,e),r.onabort=Is(xc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Is(xc,n,r,"TestLoadImage: timeout",!1,e),ws.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else du(2);t.v=0,t.f&&t.f.ra(e),nl(t),zc(t)}function nl(t){t.v=0,t.I=-1,t.f&&(0==wc(t.b).length&&0==t.g.length||(t.b.c.length=0,Ls(t.g),t.g.length=0),t.f.qa())}function rl(t,e,n){var r=function(t){return t instanceof Bu?Ku(t):new Bu(t,void 0)}(n);if(""!=r.c)e&&Gu(r,e+"."+r.c),Wu(r,r.h);else{var i=ws.location;r=function(t,e,n,r){var i=new Bu(null,void 0);return t&&$u(i,t),e&&Gu(i,e),n&&Wu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Bs(t.V,function(t,e){Zu(r,e,t)}),n=t.na,(e=t.A)&&n&&Zu(r,e,n),Zu(r,"VER",t.ha),$c(t,r),r}function il(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tc(t.Na)).F=t.C,e}function ol(){}function sl(){if(Ys&&!(10<=Number(ca)))throw Error("Environmental error: no available transport.")}function al(t,e){La.call(this),this.a=new Mc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Us(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Us(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ll(this)}function ul(t){Ou.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function cl(){Eu.call(this),this.status=1}function ll(t){this.a=t}(ys=Tc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:wu),this.a.onreadystatechange=Cs(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Ac(this,o)}t=n||"";var i=new Fu(this.headers);r&&Mu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=jc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ws.FormData&&t instanceof ws.FormData,!(0<=Rs(Ic,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Dc(this),0<this.o&&((this.D=function(t){return Ys&&ua(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Cs(this.xa,this)):this.m=Ya(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Ac(this,o)}},ys.xa=function(){void 0!==vs&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ua(this,"timeout"),this.abort(8))},ys.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ua(this,"complete"),Ua(this,"abort"),Nc(this))},ys.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nc(this,!0)),Tc.X.G.call(this)},ys.za=function(){this.j||(this.A||this.l||this.g?Rc(this):this.Ua())},ys.Ua=function(){Rc(this)},ys.W=function(){try{return 2<Lc(this)?this.a.status:-1}catch(Zs){return-1}},ys.$=function(){try{return this.a?this.a.responseText:""}catch(Zs){return""}},ys.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sc(e)}},ys.ua=function(){return this.h},ys.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ys=Mc.prototype).ha=8,ys.v=1,ys.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Su(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Gs(r=Ks(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Gc(this,n,e),Zu(i=Ku(this.B),"RID",t),Zu(i,"CVER",22),this.A&&Zu(i,"X-HTTP-Session-Id",this.A),$c(this,i),this.i&&r&&Uc(i,this.i,r),mc(this.b,n),this.Ia&&Zu(i,"TYPE","init"),this.da?(Zu(i,"$req",e),Zu(i,"SID","null"),n.U=!0,Iu(n,i,null)):Iu(n,i,e),this.v=2}}else 3==this.v&&(t?Kc(this,t):0==this.g.length||gc(this.b)||Kc(this))},ys.Aa=function(){if(this.j=null,Xc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=gu(Cs(this.Ta,this),t)}},ys.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,du(10),Hc(this),Xc(this))},ys.Sa=function(){null!=this.m&&(this.m=null,Hc(this),Jc(this),du(19))},ys.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),du(2)):(this.c.info("Failed to ping google.com"),du(1))},(ys=ol.prototype).ta=function(){},ys.sa=function(){},ys.ra=function(){},ys.qa=function(){},ys.Ja=function(){},sl.prototype.a=function(t,e){return new al(t,e)},As(al,La),al.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;du(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=rl(t,null,t.fa),Bc(t)},al.prototype.close=function(){Fc(this.a)},al.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,qc(this.a,e)}else this.l?((e={}).__data__=Ma(t),qc(this.a,e)):qc(this.a,t)},al.prototype.G=function(){this.a.f=null,delete this.f,Fc(this.a),delete this.a,al.X.G.call(this)},As(ul,Ou),As(cl,Eu),As(ll,ol),ll.prototype.ta=function(){Ua(this.a,"a")},ll.prototype.sa=function(t){Ua(this.a,new ul(t))},ll.prototype.ra=function(t){Ua(this.a,new cl(t))},ll.prototype.qa=function(){Ua(this.a,"b")},sl.prototype.createWebChannel=sl.prototype.a,al.prototype.send=al.prototype.h,al.prototype.open=al.prototype.g,al.prototype.close=al.prototype.close,bu.NO_ERROR=0,bu.TIMEOUT=8,bu.HTTP_ERROR=6,yu.COMPLETE="complete",vu.EventType=_u,_u.OPEN="a",_u.CLOSE="b",_u.ERROR="c",_u.MESSAGE="d",La.prototype.listen=La.prototype.va,Tc.prototype.listenOnce=Tc.prototype.wa,Tc.prototype.getLastError=Tc.prototype.Qa,Tc.prototype.getLastErrorCode=Tc.prototype.ua,Tc.prototype.getStatus=Tc.prototype.W,Tc.prototype.getResponseJson=Tc.prototype.Pa,Tc.prototype.getResponseText=Tc.prototype.$,Tc.prototype.send=Tc.prototype.ba;var hl=bu,fl=yu,dl=au,pl=vu,gl=Tc,bl=n("uXP2"),yl=new ds.b("@firebase/firestore");function ml(){return yl.logLevel}function vl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yl.logLevel<=ds.a.DEBUG){var r=e.map(Ol);yl.debug.apply(yl,Object(bl.g)(["Firestore (8.2.2): "+t],r))}}function wl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yl.logLevel<=ds.a.ERROR){var r=e.map(Ol);yl.error.apply(yl,Object(bl.g)(["Firestore (8.2.2): "+t],r))}}function _l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yl.logLevel<=ds.a.WARN){var r=e.map(Ol);yl.warn.apply(yl,Object(bl.g)(["Firestore (8.2.2): "+t],r))}}function Ol(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(jw){return t}}function El(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw wl(e),new Error(e)}function xl(t,e){t||El()}function Sl(t,e){return t}function Tl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var kl=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Tl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Cl(t,e){return t<e?-1:t>e?1:0}function Il(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function jl(t){return t+"\0"}var Al=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Cl(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Al.h=new Al("");var Pl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Rl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(bl.c)(e,t),e}(Error),Nl=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Al.fromBase64String(e))}catch(e){throw new Rl(Pl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Al.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Dl=function(t){this._=t};function Ll(){if("undefined"==typeof Uint8Array)throw new Rl(Pl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ul(){if("undefined"==typeof atob)throw new Rl(Pl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Vl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.fromBase64String=function(t){return Ul(),new e(Nl.fromBase64String(t))},e.fromUint8Array=function(t){return Ll(),new e(Nl.fromUint8Array(t))},e.prototype.toBase64=function(){return Ul(),this._.toBase64()},e.prototype.toUint8Array=function(){return Ll(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Dl),Ml=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Fl=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Hl=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Hl.UNAUTHENTICATED=new Hl(null),Hl.P=new Hl("google-credentials-uid"),Hl.g=new Hl("first-party-uid");var zl=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},ql=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Hl.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Bl=function(){function t(t){var e=this;this.C=null,this.currentUser=Hl.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.O!==e?(vl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xl("string"==typeof n.accessToken),new zl(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return xl(null===t||"string"==typeof t),new Hl(t)},t}(),Kl=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Hl.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),$l=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Kl(this.k,this.M))},t.prototype.S=function(t){t(Hl.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Gl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Gl.U=-1;var Wl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Rl(Pl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Rl(Pl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Rl(Pl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rl(Pl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Cl(this.nanoseconds,t.nanoseconds):Cl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Jl=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new Wl(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Zl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&El(),void 0===n?n=t.length-e:n>t.length-e&&El(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Xl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Rl(Pl.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(Zl),Yl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Yl.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Rl(Pl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Rl(Pl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Rl(Pl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Rl(Pl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Zl),th=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Xl.ct(e))},t.dt=function(e){return new t(Xl.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Xl.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Xl.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Xl(e.slice()))},t}();function eh(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function nh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ih=function(){function t(t){this.fields=t,t.sort(Ql.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Il(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),oh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sh(t){if(xl(!!t),"string"==typeof t){var e=0,n=oh.exec(t);if(xl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ah(t.seconds),nanos:ah(t.nanos)}}function ah(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function uh(t){return"string"==typeof t?Al.fromBase64String(t):Al.fromUint8Array(t)}function ch(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lh(t){var e=t.mapValue.fields.__previous_value__;return ch(e)?lh(e):e}function hh(t){var e=sh(t.mapValue.fields.__local_write_time__.timestampValue);return new Wl(e.seconds,e.nanos)}function fh(t){return null==t}function dh(t){return 0===t&&1/t==-1/0}function ph(t){return"number"==typeof t&&Number.isInteger(t)&&!dh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function gh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ch(t)?4:10:El()}function bh(t,e){var n=gh(t);if(n!==gh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hh(t).isEqual(hh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=sh(t.timestampValue),r=sh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return uh(t.bytesValue).isEqual(uh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ah(t.geoPointValue.latitude)===ah(e.geoPointValue.latitude)&&ah(t.geoPointValue.longitude)===ah(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ah(t.integerValue)===ah(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ah(t.doubleValue),r=ah(e.doubleValue);return n===r?dh(n)===dh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Il(t.arrayValue.values||[],e.arrayValue.values||[],bh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(eh(n)!==eh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bh(n[i],r[i])))return!1;return!0}(t,e);default:return El()}}function yh(t,e){return void 0!==(t.values||[]).find(function(t){return bh(t,e)})}function mh(t,e){var n=gh(t),r=gh(e);if(n!==r)return Cl(n,r);switch(n){case 0:return 0;case 1:return Cl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ah(t.integerValue||t.doubleValue),r=ah(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return vh(t.timestampValue,e.timestampValue);case 4:return vh(hh(t),hh(e));case 5:return Cl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=uh(t),r=uh(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Cl(n[i],r[i]);if(0!==o)return o}return Cl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Cl(ah(t.latitude),ah(e.latitude));return 0!==n?n:Cl(ah(t.longitude),ah(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=mh(n[i],r[i]);if(o)return o}return Cl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Cl(r[s],o[s]);if(0!==a)return a;var u=mh(n[r[s]],i[o[s]]);if(0!==u)return u}return Cl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw El()}}function vh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Cl(t,e);var n=sh(t),r=sh(e),i=Cl(n.seconds,r.seconds);return 0!==i?i:Cl(n.nanos,r.nanos)}function wh(t){return _h(t)}function _h(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=sh(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?uh(t.bytesValue).toBase64():"referenceValue"in t?th.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=_h(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+_h(t.fields[o])}return e+"}"}(t.mapValue):El();var e}function Oh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Eh(t){return!!t&&"integerValue"in t}function xh(t){return!!t&&"arrayValue"in t}function Sh(t){return!!t&&"nullValue"in t}function Th(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kh(t){return!!t&&"mapValue"in t}var Ch=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!kh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return bh(this.proto,t.proto)},t}(),Ih=function(){function t(t){void 0===t&&(t=Ch.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===gh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Ql.at(),this.Rt);return null!=t?new Ch(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=kh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function jh(t){var e=[];return nh(t.fields||{},function(t,n){var r=new Ql([t]);if(kh(n)){var i=jh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new ih(e)}var Ah=function(t,e){this.key=t,this.version=e},Ph=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(bl.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ah),Rh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(bl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ah),Nh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ah),Dh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function Lh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Dh(t,e,n,r,i,o,s)}function Uh(t){var e=Sl(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+wh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Zh(e.startAt)),e.endAt&&(n+="|ub:",n+=Zh(e.endAt)),e.St=n}return e.St}function Vh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Yh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!bh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tf(t.startAt,e.startAt)&&tf(t.endAt,e.endAt)}function Mh(t){return th.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Fh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(bl.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Hh(t,n,r):"array-contains"===n?new Kh(t,r):"in"===n?new $h(t,r):"not-in"===n?new Gh(t,r):"array-contains-any"===n?new Wh(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new zh(t,n):new qh(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(mh(e,this.value)):null!==e&&gh(this.value)===gh(e)&&this.Ct(mh(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return El()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Hh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=th.dt(r.referenceValue),i}return Object(bl.c)(e,t),e.prototype.matches=function(t){var e=th.J(t.key,this.key);return this.Ct(e)},e}(Fh),zh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Bh(0,n),r}return Object(bl.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Fh),qh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Bh(0,n),r}return Object(bl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Fh);function Bh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return th.dt(t.referenceValue)})}var Kh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(bl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return xh(e)&&yh(e.arrayValue,this.value)},e}(Fh),$h=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(bl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&yh(this.value.arrayValue,e)},e}(Fh),Gh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(bl.c)(e,t),e.prototype.matches=function(t){if(yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!yh(this.value.arrayValue,e)},e}(Fh),Wh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(bl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!xh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return yh(e.value.arrayValue,t)})},e}(Fh),Jh=function(t,e){this.position=t,this.before=e};function Zh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return wh(t)}).join(",")}var Xh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Yh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Qh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?th.J(th.dt(s.referenceValue),n.key):mh(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function tf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!bh(t.position[n],e.position[n]))return!1;return!0}var ef=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ot=null,this.Ft=null};function nf(t,e,n,r,i,o,s,a){return new ef(t,e,n,r,i,o,s,a)}function rf(t){return new ef(t)}function of(t){return!fh(t.limit)&&"F"===t.limitType}function sf(t){return!fh(t.limit)&&"L"===t.limitType}function af(t){return t.Nt.length>0?t.Nt[0].field:null}function uf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function cf(t){return null!==t.collectionGroup}function lf(t){var e=Sl(t);if(null===e.Ot){e.Ot=[];var n=uf(e),r=af(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new Xh(n)),e.Ot.push(new Xh(Ql.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ot.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new Xh(Ql.lt(),u))}}}return e.Ot}function hf(t){var e=Sl(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Lh(e.path,e.collectionGroup,lf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=lf(e);r<i.length;r++){var o=i[r];n.push(new Xh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Jh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Jh(e.startAt.position,!e.startAt.before):null;e.Ft=Lh(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ft}function ff(t,e,n){return new ef(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function df(t,e){return Vh(hf(t),hf(e))&&t.limitType===e.limitType}function pf(t){return Uh(hf(t))+"|lt:"+t.limitType}function gf(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+wh(e.value);var e}).join(", ")+"]"),fh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Zh(t.startAt)),t.endAt&&(e+=", endAt: "+Zh(t.endAt)),"Target("+e+")"}(hf(t))+"; limitType="+t.limitType+")"}function bf(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):th.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Qh(t.startAt,lf(t),e)||t.endAt&&Qh(t.endAt,lf(t),e))}(t,e)}function yf(t){return function(e,n){for(var r=!1,i=0,o=lf(t);i<o.length;i++){var s=o[i],a=mf(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function mf(t,e,n){var r=t.field.ht()?th.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?mh(r,i):El()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return El()}}var vf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Jl.min()),void 0===o&&(o=Jl.min()),void 0===s&&(s=Al.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function wf(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function _f(t){return{integerValue:""+t}}function Of(t,e){return ph(e)?_f(e):wf(t,e)}var Ef=function(){this.Ut=void 0};function xf(t,e,n){return t instanceof kf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Cf?If(t,e):t instanceof jf?Af(t,e):function(t,e){var n=Tf(t,e),r=Rf(n)+Rf(t.Qt);return Eh(n)&&Eh(t.Qt)?_f(r):wf(t.Kt,r)}(t,e)}function Sf(t,e,n){return t instanceof Cf?If(t,e):t instanceof jf?Af(t,e):n}function Tf(t,e){return t instanceof Pf?Eh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e}(Ef),Cf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(bl.c)(e,t),e}(Ef);function If(t,e){for(var n=Nf(e),r=function(t){n.some(function(e){return bh(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var jf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(bl.c)(e,t),e}(Ef);function Af(t,e){for(var n=Nf(e),r=function(t){n=n.filter(function(e){return!bh(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Pf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(bl.c)(e,t),e}(Ef);function Rf(t){return ah(t.integerValue||t.doubleValue)}function Nf(t){return xh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Df=function(t,e){this.field=t,this.transform=e},Lf=function(t,e){this.version=t,this.transformResults=e},Uf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Vf(t,e){return void 0!==t.updateTime?e instanceof Ph&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ph}var Mf=function(){};function Ff(t,e,n){return t instanceof Kf?function(t,e,n){var r=t.value;if(n.transformResults){var i=Wf(t.fieldTransforms,e,n.transformResults);r=Zf(t.fieldTransforms,r,i)}return new Ph(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof $f?function(t,e,n){if(!Vf(t.Gt,e))return new Nh(t.key,n.version);var r=Gf(t,e,n.transformResults?Wf(t.fieldTransforms,e,n.transformResults):[]);return new Ph(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Rh(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Hf(t,e,n,r){return t instanceof Kf?function(t,e,n,r){if(!Vf(t.Gt,e))return e;var i=t.value,o=Jf(t.fieldTransforms,n,e);i=Zf(t.fieldTransforms,i,o);var s=Bf(e);return new Ph(t.key,s,i,{bt:!0})}(t,e,r):t instanceof $f?function(t,e,n,r){if(!Vf(t.Gt,e))return e;var i=Bf(e),o=Gf(t,e,Jf(t.fieldTransforms,n,e));return new Ph(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return Vf(t.Gt,e)?new Rh(t.key,Jl.min()):e}(t,e)}function zf(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Ph?e.field(o.field):void 0,a=Tf(o.transform,s||null);null!=a&&(n=null==n?(new Ih).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function qf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Il(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Cf&&e instanceof Cf||t instanceof jf&&e instanceof jf?Il(t.elements,e.elements,bh):t instanceof Pf&&e instanceof Pf?bh(t.Qt,e.Qt):t instanceof kf&&e instanceof kf}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Bf(t){return t instanceof Ph?t.version:Jl.min()}var Kf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(bl.c)(e,t),e}(Mf),$f=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(bl.c)(e,t),e}(Mf);function Gf(t,e,n){var r;return r=function(t,e){var n=new Ih(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof Ph?e.data():Ch.empty()),Zf(t.fieldTransforms,r,n)}function Wf(t,e,n){var r=[];xl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Ph&&(a=e.field(o.field)),r.push(Sf(s,a,n[i]))}return r}function Jf(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Ph&&(c=n.field(a.field)),i.push(xf(u,c,e))}return i}function Zf(t,e,n){for(var r=new Ih(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Xf,Yf,Qf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(bl.c)(e,t),e}(Mf),td=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(bl.c)(e,t),e}(Mf),ed=function(t){this.count=t};function nd(t){switch(t){case Pl.OK:return El();case Pl.CANCELLED:case Pl.UNKNOWN:case Pl.DEADLINE_EXCEEDED:case Pl.RESOURCE_EXHAUSTED:case Pl.INTERNAL:case Pl.UNAVAILABLE:case Pl.UNAUTHENTICATED:return!1;case Pl.INVALID_ARGUMENT:case Pl.NOT_FOUND:case Pl.ALREADY_EXISTS:case Pl.PERMISSION_DENIED:case Pl.FAILED_PRECONDITION:case Pl.ABORTED:case Pl.OUT_OF_RANGE:case Pl.UNIMPLEMENTED:case Pl.DATA_LOSS:return!0;default:return El()}}function rd(t){if(void 0===t)return wl("GRPC error has no .code"),Pl.UNKNOWN;switch(t){case Xf.OK:return Pl.OK;case Xf.CANCELLED:return Pl.CANCELLED;case Xf.UNKNOWN:return Pl.UNKNOWN;case Xf.DEADLINE_EXCEEDED:return Pl.DEADLINE_EXCEEDED;case Xf.RESOURCE_EXHAUSTED:return Pl.RESOURCE_EXHAUSTED;case Xf.INTERNAL:return Pl.INTERNAL;case Xf.UNAVAILABLE:return Pl.UNAVAILABLE;case Xf.UNAUTHENTICATED:return Pl.UNAUTHENTICATED;case Xf.INVALID_ARGUMENT:return Pl.INVALID_ARGUMENT;case Xf.NOT_FOUND:return Pl.NOT_FOUND;case Xf.ALREADY_EXISTS:return Pl.ALREADY_EXISTS;case Xf.PERMISSION_DENIED:return Pl.PERMISSION_DENIED;case Xf.FAILED_PRECONDITION:return Pl.FAILED_PRECONDITION;case Xf.ABORTED:return Pl.ABORTED;case Xf.OUT_OF_RANGE:return Pl.OUT_OF_RANGE;case Xf.UNIMPLEMENTED:return Pl.UNIMPLEMENTED;case Xf.DATA_LOSS:return Pl.DATA_LOSS;default:return El()}}(Yf=Xf||(Xf={}))[Yf.OK=0]="OK",Yf[Yf.CANCELLED=1]="CANCELLED",Yf[Yf.UNKNOWN=2]="UNKNOWN",Yf[Yf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yf[Yf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yf[Yf.NOT_FOUND=5]="NOT_FOUND",Yf[Yf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yf[Yf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yf[Yf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yf[Yf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yf[Yf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yf[Yf.ABORTED=10]="ABORTED",Yf[Yf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yf[Yf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yf[Yf.INTERNAL=13]="INTERNAL",Yf[Yf.UNAVAILABLE=14]="UNAVAILABLE",Yf[Yf.DATA_LOSS=15]="DATA_LOSS";var id=function(){function t(t,e){this.J=t,this.root=e||sd.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,sd.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,sd.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new od(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new od(this.root,t,this.J,!1)},t.prototype.se=function(){return new od(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new od(this.root,t,this.J,!0)},t}(),od=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),sd=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw El();if(this.right._e())throw El();var t=this.left.me();if(t!==this.right.me())throw El();return t+(this._e()?0:1)},t}();sd.EMPTY=null,sd.RED=!0,sd.Jt=!1,sd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw El()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw El()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw El()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw El()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw El()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new sd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var ad=function(){function t(t){this.J=t,this.data=new id(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new ud(this.data.ee())},t.prototype.ne=function(t){return new ud(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),ud=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),cd=new id(th.J);function ld(){return cd}function hd(){return ld()}var fd=new id(th.J);function dd(){return fd}var pd=new id(th.J);function gd(){return pd}var bd=new ad(th.J);function yd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=bd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var md=new ad(Cl);function vd(){return md}var wd=function(){function t(t){this.J=t?function(e,n){return t(e,n)||th.J(e.key,n.key)}:function(t,e){return th.J(t.key,e.key)},this.Ve=dd(),this.pe=new id(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),_d=function(){function t(){this.ve=new id(th.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):El():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),Od=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Oe=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,wd.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&df(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ed=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,xd.Be(e,n)),new t(Jl.min(),r,vd(),ld(),yd())},t}(),xd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Al.h,n,yd(),yd(),yd())},t}(),Sd=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},Td=function(t,e){this.targetId=t,this.Ge=e},kd=function(t,e,n,r){void 0===n&&(n=Al.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Cd=function(){function t(){this.ze=0,this.He=Ad(),this.Je=Al.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=yd(),e=yd(),n=yd();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:El()}}),new xd(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Ad()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Id=function(){function t(t){this.hn=t,this.ln=new Map,this._n=ld(),this.fn=jd(),this.dn=new ad(Cl)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof Ph?this.En(r,t.We):t.We instanceof Rh&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:El()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Mh(i))if(0===n){var o=new th(i.path);this.Tn(e,o,new Rh(o,Jl.min()))}else xl(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var o=e.gn(i);if(o){if(r.qe&&Mh(o.target)){var s=new th(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new Rh(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=yd();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ed(t,n,this.dn,this._n,r);return this._n=ld(),this.fn=jd(),this.dn=new ad(Cl),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Cd,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new ad(Cl),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||vl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Cd),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function jd(){return new id(th.J)}function Ad(){return new id(th.J)}var Pd={asc:"ASCENDING",desc:"DESCENDING"},Rd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nd=function(t,e){this.T=t,this.qt=e};function Dd(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ld(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Ud(t,e){return Dd(t,e.G())}function Vd(t){return xl(!!t),Jl.j(function(t){var e=sh(t);return new Wl(e.seconds,e.nanos)}(t))}function Md(t,e){return function(t){return new Xl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Fd(t){var e=Xl.ct(t);return xl(lp(e)),e}function Hd(t,e){return Md(t.T,e.path)}function zd(t,e){var n=Fd(e);if(n.get(1)!==t.T.projectId)throw new Rl(Pl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Rl(Pl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new th($d(n))}function qd(t,e){return Md(t.T,e)}function Bd(t){var e=Fd(t);return 4===e.length?Xl.at():$d(e)}function Kd(t){return new Xl(["projects",t.T.projectId,"databases",t.T.database]).ot()}function $d(t){return xl(t.length>4&&"documents"===t.get(4)),t.X(5)}function Gd(t,e,n){return{name:Hd(t,e),fields:n.proto.mapValue.fields}}function Wd(t,e,n){var r=zd(t,e.name),i=Vd(e.updateTime),o=new Ch({mapValue:{fields:e.fields}});return new Ph(r,i,o,{hasCommittedMutations:!!n})}function Jd(t,e){var n;if(e instanceof Kf)n={update:Gd(t,e.key,e.value)};else if(e instanceof Qf)n={delete:Hd(t,e.key)};else if(e instanceof $f)n={update:Gd(t,e.key,e.data),updateMask:cp(e.zt)};else{if(!(e instanceof td))return El();n={verify:Hd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof kf)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cf)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof jf)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Pf)return{fieldPath:e.field.ot(),increment:n.Qt};throw El()}(0,t)})),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ud(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:El()}(t,e.Gt)),n}function Zd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Uf.updateTime(Vd(t.updateTime)):void 0!==t.exists?Uf.exists(t.exists):Uf.jt()}(e.currentDocument):Uf.jt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(xl("REQUEST_TIME"===e.setToServerValue),n=new kf):"appendMissingElements"in e?n=new Cf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new jf(e.removeAllFromArray.values||[]):"increment"in e?n=new Pf(t,e.increment):El();var r=Ql._t(e.fieldPath);return new Df(r,n)}(t,e)}):[];if(e.update){var i=zd(t,e.update.name),o=new Ch({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new ih((t.fieldPaths||[]).map(function(t){return Ql._t(t)}))}(e.updateMask);return new $f(i,o,s,n,r)}return new Kf(i,o,n,r)}if(e.delete){var a=zd(t,e.delete);return new Qf(a,n)}if(e.verify){var u=zd(t,e.verify);return new td(u,n)}return El()}function Xd(t,e){return{documents:[qd(t,e.path)]}}function Yd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=qd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=qd(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Th(t.value))return{unaryFilter:{field:op(t.field),op:"IS_NAN"}};if(Sh(t.value))return{unaryFilter:{field:op(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Th(t.value))return{unaryFilter:{field:op(t.field),op:"IS_NOT_NAN"}};if(Sh(t.value))return{unaryFilter:{field:op(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:op(t.field),op:ip(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:op(t.field),direction:rp(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||fh(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=ep(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ep(e.endAt)),n}function Qd(t){var e=Bd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=tp(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Xh(sp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return fh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=np(n.startAt));var l=null;return n.endAt&&(l=np(n.endAt)),nf(e,i,a,s,u,"F",c,l)}function tp(t){return t?void 0!==t.unaryFilter?[up(t)]:void 0!==t.fieldFilter?[ap(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return tp(t)}).reduce(function(t,e){return t.concat(e)}):El():[]}function ep(t){return{before:t.before,values:t.position}}function np(t){return new Jh(t.values||[],!!t.before)}function rp(t){return Pd[t]}function ip(t){return Rd[t]}function op(t){return{fieldPath:t.ot()}}function sp(t){return Ql._t(t.fieldPath)}function ap(t){return Fh.create(sp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return El()}}(t.fieldFilter.op),t.fieldFilter.value)}function up(t){switch(t.unaryFilter.op){case"IS_NAN":var e=sp(t.unaryFilter.field);return Fh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=sp(t.unaryFilter.field);return Fh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=sp(t.unaryFilter.field);return Fh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=sp(t.unaryFilter.field);return Fh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return El()}}function cp(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function lp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var hp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},fp=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&El(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),dp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new hp,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new bp(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=_p(e.target.error);n.qn.reject(new bp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new bp(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(vl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new mp(e)},t}(),pp=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(ps.j)())&&wl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return vl("SimpleDb","Removing database:",t),vp(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(ps.j)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n=this;return Object(bl.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(vl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new bp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Rl(Pl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new bp(t,n))},i.onupgradeneeded=function(t){vl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){vl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(bl.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(bl.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(bl.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=dp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),fp.reject(t)}).Mn(),u={},s.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return vl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),gp=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return vp(this.ts.delete())},t}(),bp=function(t){function e(e,n){var r=this;return(r=t.call(this,Pl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(bl.c)(e,t),e}(Rl);function yp(t){return"IndexedDbTransactionError"===t.name}var mp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(vl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(vl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),vp(n)},t.prototype.add=function(t){return vl("SimpleDb","ADD",this.store.name,t,t),vp(this.store.add(t))},t.prototype.get=function(t){var e=this;return vp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),vl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return vl("SimpleDb","DELETE",this.store.name,t),vp(this.store.delete(t))},t.prototype.count=function(){return vl("SimpleDb","COUNT",this.store.name),vp(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){vl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new fp(function(n,r){e.onerror=function(t){var e=_p(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new fp(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new gp(i),s=e(i.primaryKey,i.value,o);if(s instanceof fp){var a=s.catch(function(t){return o.done(),fp.reject(t)});n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}}).next(function(){return fp.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function vp(t){return new fp(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=_p(t.target.error);n(e)}})}var wp=!1;function _p(t){var e=pp.Kn(Object(ps.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Rl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return wp||(wp=!0,setTimeout(function(){throw r},0)),r}}return t}var Op=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new hp,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Rl(Pl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Ep(t,e){if(wl("AsyncQueue",e+": "+t),yp(t))return new Rl(Pl.UNAVAILABLE,e+": "+t);throw t}var xp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sp=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function Tp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Cp(e)),e=kp(t.get(n),e);return Cp(e)}function kp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Cp(t){return t+"\x01\x01"}function Ip(t){var e=t.length;if(xl(e>=2),2===e)return xl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Xl.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&El(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:El()}o=s+2}return new Xl(r)}var jp=function(t,e){this.seconds=t,this.nanoseconds=e},Ap=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ap.store="owner",Ap.key="owner";var Pp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Pp.store="mutationQueues",Pp.keyPath="userId";var Rp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Rp.store="mutations",Rp.keyPath="batchId",Rp.userMutationsIndex="userMutationsIndex",Rp.userMutationsKeyPath=["userId","batchId"];var Np=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Tp(e)]},t.key=function(t,e,n){return[t,Tp(e),n]},t}();Np.store="documentMutations",Np.PLACEHOLDER=new Np;var Dp=function(t,e){this.path=t,this.readTime=e},Lp=function(t,e){this.path=t,this.version=e},Up=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Up.store="remoteDocuments",Up.readTimeIndex="readTimeIndex",Up.readTimeIndexPath="readTime",Up.collectionReadTimeIndex="collectionReadTimeIndex",Up.collectionReadTimeIndexPath=["parentPath","readTime"];var Vp=function(t){this.byteSize=t};Vp.store="remoteDocumentGlobal",Vp.key="remoteDocumentGlobalKey";var Mp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Mp.store="targets",Mp.keyPath="targetId",Mp.queryTargetsIndexName="queryTargetsIndex",Mp.queryTargetsKeyPath=["canonicalId","targetId"];var Fp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Fp.store="targetDocuments",Fp.keyPath=["targetId","path"],Fp.documentTargetsIndex="documentTargetsIndex",Fp.documentTargetsKeyPath=["path","targetId"];var Hp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Hp.key="targetGlobalKey",Hp.store="targetGlobal";var zp=function(t,e){this.collectionId=t,this.parent=e};zp.store="collectionParents",zp.keyPath=["collectionId","parent"];var qp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};qp.store="clientMetadata",qp.keyPath="clientId";var Bp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Bp.store="bundles",Bp.keyPath="bundleId";var Kp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Kp.store="namedQueries",Kp.keyPath="name";var $p=Object(bl.g)(Object(bl.g)(Object(bl.g)(Object(bl.g)([Pp.store,Rp.store,Np.store,Up.store,Mp.store,Ap.store,Hp.store,Fp.store],[qp.store]),[Vp.store]),[zp.store]),[Bp.store,Kp.store]),Gp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(bl.c)(e,t),e}(Sp);function Wp(t,e){var n=Sl(t);return pp.Hn(n.bs,e)}var Jp=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Ff(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Hf(s,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Hf(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},yd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Il(this.mutations,t.mutations,function(t,e){return qf(t,e)})&&Il(this.baseMutations,t.baseMutations,function(t,e){return qf(t,e)})},t}(),Zp=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){xl(e.mutations.length===r.length);for(var i=gd(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Xp=function(t){this.ks=t};function Yp(t,e){if(e.document)return Wd(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=th.Tt(e.noDocument.path),r=rg(e.noDocument.readTime);return new Rh(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=th.Tt(e.unknownDocument.path);return r=rg(e.unknownDocument.version),new Nh(i,r)}return El()}function Qp(t,e,n){var r=tg(n),i=e.key.path.Z().rt();if(e instanceof Ph){var o=function(t,e){return{name:Hd(t,e.key),fields:e.vt().mapValue.fields,updateTime:Dd(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new Up(null,null,o,s,r,i)}if(e instanceof Rh){var a=e.key.path.rt(),u=ng(e.version);return s=e.hasCommittedMutations,new Up(null,new Dp(a,u),null,s,r,i)}if(e instanceof Nh){var c=e.key.path.rt(),l=ng(e.version);return new Up(new Lp(c,l),null,null,!0,r,i)}return El()}function tg(t){var e=t.G();return[e.seconds,e.nanoseconds]}function eg(t){var e=new Wl(t[0],t[1]);return Jl.j(e)}function ng(t){var e=t.G();return new jp(e.seconds,e.nanoseconds)}function rg(t){var e=new Wl(t.seconds,t.nanoseconds);return Jl.j(e)}function ig(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Zd(t.ks,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return Zd(t.ks,e)}),s=Wl.fromMillis(e.localWriteTimeMs);return new Jp(e.batchId,s,n,o)}function og(t){var e,n,r=rg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?rg(t.lastLimboFreeSnapshotVersion):Jl.min();return void 0!==t.query.documents?(xl(1===(n=t.query).documents.length),e=hf(rf(Bd(n.documents[0])))):e=function(t){return hf(Qd(t))}(t.query),new vf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Al.fromBase64String(t.resumeToken))}function sg(t,e){var n,r=ng(e.Mt),i=ng(e.lastLimboFreeSnapshotVersion);n=Mh(e.target)?Xd(t.ks,e.target):Yd(t.ks,e.target);var o=e.resumeToken.toBase64();return new Mp(e.targetId,Uh(e.target),r,o,e.sequenceNumber,i,n)}function ag(t){var e=Qd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ff(e,e.limit,"L"):e}var ug=function(){function t(){}return t.prototype.Ms=function(t,e){return cg(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:rg(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return cg(t).put({bundleId:(n=e).id,createTime:ng(Vd(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return lg(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:ag(e.bundledQuery),readTime:rg(e.readTime)};var e})},t.prototype.Bs=function(t,e){return lg(t).put(function(t){return{name:t.name,readTime:ng(Vd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function cg(t){return Wp(t,Bp.store)}function lg(t){return Wp(t,Kp.store)}var hg=function(){function t(){this.qs=new fg}return t.prototype.Us=function(t,e){return this.qs.add(e),fp.resolve()},t.prototype.Qs=function(t,e){return fp.resolve(this.qs.getEntries(e))},t}(),fg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new ad(Xl.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ad(Xl.J)).rt()},t}(),dg=function(){function t(){this.Ks=new fg}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs(function(){n.Ks.add(e)});var o={collectionId:r,parent:Tp(i)};return pg(t).put(o)}return fp.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[jl(e),""],!1,!0);return pg(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ip(o.parent))}return n})},t}();function pg(t){return Wp(t,zp.store)}var gg={js:!1,Ws:0,Gs:0,zs:0},bg=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function yg(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){if(t.code!==Pl.FAILED_PRECONDITION||t.message!==xp)throw t;return vl("LocalStore","Unexpectedly lost primary lease"),[2]})})}bg.Zs=10,bg.ti=1e3,bg.ei=new bg(41943040,bg.Zs,bg.ti),bg.ni=new bg(-1,0,0);var mg=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ii(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){nh(this.ri,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.nt=function(){return rh(this.ri)},t}(),vg=function(){function t(){this.oi=new mg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:Jl.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?fp.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function wg(t,e,n){var r=t.store(Rp.store),i=t.store(Np.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){xl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Np.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return fp.$n(o).next(function(){return c})}function _g(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw El();e=t.noDocument}return JSON.stringify(e).length}var Og=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return xl(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xg(t).ls({index:Rp.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,r){var i=this,o=Sg(t),s=xg(t);return s.add({}).next(function(a){xl("number"==typeof a);for(var u=new Jp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Jd(t.ks,e)}),i=n.mutations.map(function(e){return Jd(t.ks,e)});return new Rp(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new ad(function(t,e){return Cl(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Np.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,Np.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ti.Us(t,e))}),t.Vs(function(){i.mi[a]=u.keys()}),fp.$n(l).next(function(){return u})})},t.prototype.yi=function(t,e){var n=this;return xg(t).get(e).next(function(t){return t?(xl(t.userId===n.userId),ig(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?fp.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null})},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return xg(t).ls({index:Rp.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(xl(e.batchId>=r),o=ig(n.Kt,e)),i.done()}).next(function(){return o})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xg(t).ls({index:Rp.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xg(t).os(Rp.userMutationsIndex,n).next(function(t){return t.map(function(t){return ig(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,r=Np.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Sg(t).ls({range:i},function(r,i,s){var a=r[0],u=r[2],c=Ip(r[1]);if(a===n.userId&&e.path.isEqual(c))return xg(t).get(u).next(function(t){if(!t)throw El();xl(t.userId===n.userId),o.push(ig(n.Kt,t))});s.done()}).next(function(){return o})},t.prototype.Si=function(t,e){var n=this,r=new ad(Cl),i=[];return e.forEach(function(e){var o=Np.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Sg(t).ls({range:s},function(t,i,o){var s=t[0],a=t[2],u=Ip(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),fp.$n(i).next(function(){return n.Di(t,r)})},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=Np.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ad(Cl);return Sg(t).ls({range:s},function(t,e,o){var s=t[0],u=t[2],c=Ip(t[1]);s===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Di(t,a)})},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(xg(t).get(e).next(function(t){if(null===t)throw El();xl(t.userId===n.userId),r.push(ig(n.Kt,t))}))}),fp.$n(i).next(function(){return r})},t.prototype.xi=function(t,e){var n=this;return wg(t.bs,this.userId,e).next(function(r){return t.Vs(function(){n.Ni(e.batchId)}),fp.forEach(r,function(e){return n.Ii.Oi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return fp.resolve();var r=IDBKeyRange.lowerBound(Np.prefixForUser(e.userId)),i=[];return Sg(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var o=Ip(t[1]);i.push(o)}else r.done()}).next(function(){xl(0===i.length)})})},t.prototype.ki=function(t,e){return Eg(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return Tg(t).get(this.userId).next(function(t){return t||new Pp(e.userId,-1,"")})},t}();function Eg(t,e,n){var r=Np.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Sg(t).ls({range:o,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function xg(t){return Wp(t,Rp.store)}function Sg(t){return Wp(t,Np.store)}function Tg(t){return Wp(t,Pp.store)}var kg=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),Cg=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var r=new kg(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return Jl.j(new Wl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return Ig(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return xl(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return Ig(t).ls(function(s,a){var u=og(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Yi(t,u)))}).next(function(){return fp.$n(o)}).next(function(){return i})},t.prototype.mn=function(t,e){return Ig(t).ls(function(t,n){var r=og(n);e(r)})},t.prototype.Ui=function(t){return jg(t).get(Hp.key).next(function(t){return xl(null!==t),t})},t.prototype.Qi=function(t,e){return jg(t).put(Hp.key,e)},t.prototype.zi=function(t,e){return Ig(t).put(sg(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=Uh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ig(t).ls({range:r,index:Mp.queryTargetsIndexName},function(t,n,r){var o=og(n);Vh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.nr=function(t,e,n){var r=this,i=[],o=Ag(t);return e.forEach(function(e){var s=Tp(e.path);i.push(o.put(new Fp(n,s))),i.push(r.Ii.sr(t,n,e))}),fp.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=Ag(t);return fp.forEach(e,function(e){var o=Tp(e.path);return fp.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=Ag(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ag(t),i=yd();return r.ls({range:n,hs:!0},function(t,e,n){var r=Ip(t[1]),o=new th(r);i=i.add(o)}).next(function(){return i})},t.prototype.ki=function(t,e){var n=Tp(e.path),r=IDBKeyRange.bound([n],[jl(n)],!1,!0),i=0;return Ag(t).ls({index:Fp.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return Ig(t).get(e).next(function(t){return t?og(t):null})},t}();function Ig(t){return Wp(t,Mp.store)}function jg(t){return Wp(t,Hp.store)}function Ag(t){return Wp(t,Fp.store)}function Pg(t,e){var n=t[1],r=e[1],i=Cl(t[0],e[0]);return 0===i?Cl(n,r):i}var Rg=function(){function t(t){this.ar=t,this.buffer=new ad(Pg),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Pg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ng=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;vl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(bl.b)(e,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return yp(e=n.sent())?(vl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,yg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),Dg=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return fp.resolve(Gl.U);var r=new Rg(e);return this.Ar.mn(t,function(t){return r.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return r.lr(t)})}).next(function(){return r.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(vl("LruGarbageCollector","Garbage collection skipped; disabled"),fp.resolve(gg)):this.br(t).next(function(r){return r<n.params.Hs?(vl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),gg):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>c.params.Ys?(vl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Zi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Vr(t,n)}).next(function(t){return u=Date.now(),ml()<=ds.a.DEBUG&&vl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),fp.resolve({js:!0,Ws:r,Gs:i,zs:t})})},t}(),Lg=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Dg(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return Ug(t,n)},t.prototype.rr=function(t,e,n){return Ug(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return Ug(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return Tg(t)._s(function(r){return Eg(t,r,e).next(function(t){return t&&(n=!0),fp.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,function(s,a){if(a<=e){var u=n.Nr(t,s).next(function(e){if(!e)return o++,r.fi(t,s).next(function(){return r._i(s),Ag(t).delete([0,Tp(s.path)])})});i.push(u)}}).next(function(){return fp.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Ug(t,e)},t.prototype.Cr=function(t,e){var n,r=Ag(t),i=Gl.U;return r.ls({index:Fp.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Gl.U&&e(new th(Ip(n)),i),i=s,n=o):i=Gl.U}).next(function(){i!==Gl.U&&e(new th(Ip(n)),i)})},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function Ug(t,e){return Ag(t).put(function(t,e){return new Fp(0,Tp(t.path),e)}(e,t.vs))}var Vg=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return Hg(t).put(zg(e),n)},t.prototype._i=function(t,e){var n=Hg(t),r=zg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Lr(t,r)})},t.prototype.fi=function(t,e){var n=this;return Hg(t).get(zg(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return Hg(t).get(zg(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:_g(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=hd();return this.qr(t,e,function(t,e){var i=n.$r(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Ur=function(t,e){var n=this,r=hd(),i=new id(th.J);return this.qr(t,e,function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,_g(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Qr:r,Kr:i}})},t.prototype.qr=function(t,e,n){if(e.nt())return fp.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Hg(t).ls({range:r},function(t,e,r){for(var s=th.Tt(t);o&&th.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=dd(),o=e.path.length+1,s={};if(n.isEqual(Jl.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=tg(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Up.collectionReadTimeIndex}return Hg(t).ls(s,function(t,n,s){if(t.length===o){var a=Yp(r.Kt,n);e.path.st(a.key.path)?a instanceof Ph&&bf(e,a)&&(i=i.Ht(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new Mg(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Fg(t).get(Vp.key).next(function(t){return xl(!!t),t})},t.prototype.Lr=function(t,e){return Fg(t).put(Vp.key,e)},t.prototype.$r=function(t){if(t){var e=Yp(this.Kt,t);return e instanceof Rh&&e.version.isEqual(Jl.min())?null:e}return null},t}(),Mg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new mg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(bl.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new ad(function(t,e){return Cl(t.ot(),e.ot())});return this.oi.forEach(function(o,s){var a=e.zr.get(o);if(s.li){var u=Qp(e.Gr.Kt,s.li,e.ai(o));i=i.add(o.path.Z());var c=_g(u);r+=c-a,n.push(e.Gr.ui(t,o,u))}else if(r-=a,e.Wr){var l=Qp(e.Gr.Kt,new Rh(o,Jl.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))}),i.forEach(function(r){n.push(e.Gr.Ti.Us(t,r))}),n.push(this.Gr.updateMetadata(t,r)),fp.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(vg);function Fg(t){return Wp(t,Vp.store)}function Hg(t){return Wp(t,Up.store)}function zg(t){return t.path.rt()}var qg=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;xl(n<r&&n>=0&&r<=11);var o=new dp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ap.store)}(t),function(t){t.createObjectStore(Pp.store,{keyPath:Pp.keyPath}),t.createObjectStore(Rp.store,{keyPath:Rp.keyPath,autoIncrement:!0}).createIndex(Rp.userMutationsIndex,Rp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Np.store)}(t),Bg(t),function(t){t.createObjectStore(Up.store)}(t));var s=fp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Fp.store),t.deleteObjectStore(Mp.store),t.deleteObjectStore(Hp.store)}(t),Bg(t)),s=s.next(function(){return function(t){var e=t.store(Hp.store),n=new Hp(0,0,Jl.min().G(),0);return e.put(Hp.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Rp.store).os().next(function(n){t.deleteObjectStore(Rp.store),t.createObjectStore(Rp.store,{keyPath:Rp.keyPath,autoIncrement:!0}).createIndex(Rp.userMutationsIndex,Rp.userMutationsKeyPath,{unique:!0});var r=e.store(Rp.store),i=n.map(function(t){return r.put(t)});return fp.$n(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(qp.store,{keyPath:qp.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Hr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Vp.store)}(t),i.Jr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Yr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Xr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Up.store);e.createIndex(Up.readTimeIndex,Up.readTimeIndexPath,{unique:!1}),e.createIndex(Up.collectionReadTimeIndex,Up.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Zr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Bp.store,{keyPath:Bp.keyPath})}(t),function(t){t.createObjectStore(Kp.store,{keyPath:Kp.keyPath})}(t)})),s},t.prototype.Jr=function(t){var e=0;return t.store(Up.store).ls(function(t,n){e+=_g(n)}).next(function(){var n=new Vp(e);return t.store(Vp.store).put(Vp.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store(Pp.store),r=t.store(Rp.store);return n.os().next(function(n){return fp.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Rp.userMutationsIndex,i).next(function(r){return fp.forEach(r,function(r){xl(r.userId===n.userId);var i=ig(e.Kt,r);return wg(t,n.userId,i).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(Fp.store),n=t.store(Up.store);return t.store(Hp.store).get(Hp.key).next(function(t){var r=[];return n.ls(function(n,i){var o=new Xl(n),s=function(t){return[0,Tp(t)]}(o);r.push(e.get(s).next(function(n){return n?fp.resolve():function(n){return e.put(new Fp(0,Tp(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return fp.$n(r)})})},t.prototype.Xr=function(t,e){t.createObjectStore(zp.store,{keyPath:zp.keyPath});var n=e.store(zp.store),r=new fg,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Tp(i)})}};return e.store(Up.store).ls({hs:!0},function(t,e){var n=new Xl(t);return i(n.Z())}).next(function(){return e.store(Np.store).ls({hs:!0},function(t,e){var n=Ip(t[1]);return i(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(Mp.store);return n.ls(function(t,r){var i=og(r),o=sg(e.Kt,i);return n.put(o)})},t}();function Bg(t){t.createObjectStore(Fp.store,{keyPath:Fp.keyPath}).createIndex(Fp.documentTargetsIndex,Fp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Mp.store,{keyPath:Mp.keyPath}).createIndex(Mp.queryTargetsIndexName,Mp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Hp.store)}var Kg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$g=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=s,this.document=a,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new Rl(Pl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Lg(this,i),this.lo=n+"main",this.Kt=new Xp(u),this._o=new pp(this.lo,11,new qg(this.Kt)),this.fo=new Cg(this.Ii,this.Kt),this.Ti=new dg,this.wo=function(t,e){return new Vg(t,e)}(this.Kt,this.Ti),this.Eo=new ug,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&wl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Rl(Pl.FAILED_PRECONDITION,Kg);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.ji(e)})}).then(function(e){t.io=new Gl(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(bl.b)(e,void 0,void 0,function(){return Object(bl.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(bl.b)(e,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(bl.b)(e,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Wg(e).put(new qp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(yp(e))return vl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return vl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return Gg(t).get(Ap.key).next(function(t){return fp.resolve(e.Co(t))})},t.prototype.xo=function(t){return Wg(t).delete(this.clientId)},t.prototype.No=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(bl.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Wp(t,qp.store);return e.os().next(function(t){var n=r.Fo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return fp.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?fp.resolve(!0):Gg(t).get(Ap.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new Rl(Pl.FAILED_PRECONDITION,Kg);return!1}}return!(!e.networkEnabled||!e.inForeground)||Wg(t).os().next(function(t){return void 0===e.Fo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&vl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(bl.b)(this,void 0,void 0,function(){var t=this;return Object(bl.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Ap.store,qp.store],function(e){var n=new Gp(e,Gl.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Fo=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Wg(e).os().next(function(e){return t.Fo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Og.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return vl("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",$p,function(o){return r=new Gp(o,i.io?i.io.next():Gl.U),"readwrite-primary"===e?i.po(r).next(function(t){return!!t||i.vo(r)}).next(function(e){if(!e)throw wl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo(function(){return i.ho(!1)}),new Rl(Pl.FAILED_PRECONDITION,xp);return n(r)}).next(function(t){return i.Do(r).next(function(){return t})}):i.Go(r).next(function(){return n(r)})}).then(function(t){return r.ps(),t})},t.prototype.Go=function(t){var e=this;return Gg(t).get(Ap.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Rl(Pl.FAILED_PRECONDITION,Kg)})},t.prototype.Do=function(t){var e=new Ap(this.clientId,this.allowTabSynchronization,Date.now());return Gg(t).put(Ap.key,e)},t.jn=function(){return pp.jn()},t.prototype.So=function(t){var e=this,n=Gg(t);return n.get(Ap.key).next(function(t){return e.Co(t)?(vl("IndexedDbPersistence","Releasing primary lease."),n.delete(Ap.key)):fp.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(wl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return vl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return wl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){wl("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Gg(t){return Wp(t,Ap.store)}function Wg(t){return Wp(t,qp.store)}function Jg(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Zg=function(t,e){this.progress=t,this.zo=e},Xg=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=hd();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){var i=n.Xo(t,e,r),o=ld();return i.forEach(function(t,e){e||(e=new Rh(t,Jl.min())),o=o.Ht(t,e)}),o})},t.prototype.jr=function(t,e,n){return function(t){return th.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):cf(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new th(e)).next(function(t){var e=dd();return t instanceof Ph&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=dd();return this.Ti.Qs(t,i).next(function(s){return fp.forEach(s,function(s){var a=function(t,e){return new ef(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next(function(n){return r=n,o.Ho.Ci(t,e)}).next(function(e){return o.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=Hf(u,r.get(c),0,o.Ss);r=l instanceof Ph?r.Ht(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){bf(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=yd(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof $f&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Ph&&(c=c.Ht(t,e))}),c})},t}(),Yg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=yd(),i=yd(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Qg=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Jl.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(o){var s=i.lc(e,o);return(of(e)||sf(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(ml()<=ds.a.DEBUG&&vl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),gf(e)),i.uc.jr(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new ad(yf(t));return e.forEach(function(e,r){r instanceof Ph&&bf(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return ml()<=ds.a.DEBUG&&vl("QueryEngine","Using full collection scan to execute query:",gf(e)),this.uc.jr(t,e,Jl.min())},t}(),tb=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new id(Cl),this.wc=new mg(function(t){return Uh(t)},Vh),this.Ec=Jl.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new Xg(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function eb(t,e,n,r){return new tb(t,e,n,r)}function nb(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(bl.d)(this,function(s){switch(s.label){case 0:return n=Sl(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.bi(t).next(function(s){return o=s,r=n.persistence.Ko(e),i=new Xg(n.Tc,r,n.persistence.jo()),r.bi(t)}).next(function(e){for(var n=[],r=[],s=yd(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,b=p.mutations;g<b.length;g++)s=s.add(b[g].key)}return i.Zo(t,s).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}})})}function rb(t,e){var n=Sl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=fp.resolve();return o.forEach(function(t){s=s.next(function(){return r.fi(e,t)}).next(function(e){var o=e,s=n.Fs.get(t);xl(null!==s),(!o||o.version.u(s)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)})}),s.next(function(){return t.Ho.xi(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}function ib(t){var e=Sl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function ob(t,e){var n=Sl(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var s=[];e.Fe.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.fo.ir(t,e.Ke,o).next(function(){return n.fo.nr(t,e.Ue,o)}));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return xl(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.fo.Ji(t,c))}}});var a=ld();if(e.Me.forEach(function(r,i){e.Le.has(r)&&s.push(n.persistence.Ii.kr(t,r))}),s.push(sb(t,o,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(Jl.min())){var u=n.fo.Ki(t).next(function(e){return n.fo.Wi(t,t.vs,r)});s.push(u)}return fp.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function sb(t,e,n,r,i){var o=yd();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=ld();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof Rh&&s.version.isEqual(Jl.min())?(e._i(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.ui(s,u),o=o.Ht(n,s)):vl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function ab(t,e){var n=Sl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function ub(t,e){var n=Sl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.fo.er(t,e).next(function(i){return i?fp.resolve(r=i):n.fo.qi(t).next(function(i){return r=new vf(e,i,0,t.vs),n.fo.Gi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function cb(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(bl.d)(this,function(a){switch(a.label){case 0:r=Sl(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ii.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!yp(s=a.sent()))throw s;return vl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function lb(t,e,n){var r=Sl(t),i=Jl.min(),o=yd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Sl(t),i=r.wc.get(n);return void 0!==i?fp.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,hf(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next(function(t){o=t})}).next(function(){return r.fc.jr(t,e,n?i:Jl.min(),n?o:yd())}).next(function(t){return{documents:t,Pc:o}})})}function hb(t,e){var n=Sl(t),r=Sl(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function fb(t){var e=Sl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Sl(t),i=ld(),o=tg(n),s=Hg(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Up.readTimeIndex,range:a},function(t,e){var n=Yp(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{zo:i,readTime:eg(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function db(t){return Object(bl.b)(this,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){return[2,(e=Sl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Hg(t),n=Jl.min();return e.ls({index:Up.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=eg(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function pb(t,e,n,r){return Object(bl.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(bl.d)(this,function(p){switch(p.label){case 0:for(i=Sl(t),o=yd(),s=ld(),a=gd(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,ub(i,function(t){return hf(rf(Xl.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return sb(t,f,s,Jl.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.fo.Xi(t,d.targetId).next(function(){return i.fo.nr(t,o,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function gb(t,e,n){return void 0===n&&(n=yd()),Object(bl.b)(this,void 0,void 0,function(){var r,i;return Object(bl.d)(this,function(o){switch(o.label){case 0:return[4,ub(t,hf(ag(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Sl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Vd(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var s=r.$t(Al.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.fo.Ji(t,s).next(function(){return i.fo.Xi(t,r.targetId)}).next(function(){return i.fo.nr(t,n,r.targetId)}).next(function(){return i.Eo.Bs(t,e)})})]}})})}var bb=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return fp.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Vd(n.createTime)}),fp.resolve()},t.prototype.$s=function(t,e){return fp.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:ag(t.bundledQuery),readTime:Vd(t.readTime)}}(e)),fp.resolve()},t}(),yb=function(){function t(){this.Sc=new ad(mb.Dc),this.Cc=new ad(mb.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new mb(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Oc(new mb(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new th(new Xl([])),r=new mb(n,t),i=new mb(n,t+1),o=[];return this.Cc.Ae([r,i],function(t){e.Oc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Oc(e)})},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new th(new Xl([])),n=new mb(e,t),r=new mb(e,t+1),i=yd();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ki=function(t){var e=new mb(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),mb=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return th.J(t.key,e.key)||Cl(t.$c,e.$c)},t.xc=function(t,e){return Cl(t.$c,e.$c)||th.J(t.key,e.key)},t}(),vb=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new ad(mb.Dc)}return t.prototype.Ri=function(t){return fp.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new Jp(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new mb(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return fp.resolve(o)},t.prototype.yi=function(t,e){return fp.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return fp.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return fp.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return fp.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new mb(e,0),i=new mb(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);o.push(e)}),fp.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new ad(Cl);return e.forEach(function(t){var e=new mb(t,0),i=new mb(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),fp.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;th.Et(i)||(i=i.child(""));var o=new mb(new th(i),0),s=new ad(Cl);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)},o),fp.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.xi=function(t,e){var n=this;xl(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return fp.forEach(e.mutations,function(i){var o=new mb(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new mb(e,0),r=this.qc.Pe(n);return fp.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return fp.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),wb=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new id(th.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return fp.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=hd();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)}),fp.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=dd(),i=new th(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,u=a.li,c=a.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||u instanceof Ph&&bf(e,u)&&(r=r.Ht(u.key,u))}return fp.resolve(r)},t.prototype.Gc=function(t,e){return fp.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new _b(this)},t.prototype.Mr=function(t){return fp.resolve(this.size)},t}(),_b=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(bl.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)}),fp.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(vg),Ob=function(){function t(t){this.persistence=t,this.zc=new mg(function(t){return Uh(t)},Vh),this.lastRemoteSnapshotVersion=Jl.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new yb,this.targetCount=0,this.Yc=kg.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),fp.resolve()},t.prototype.Ki=function(t){return fp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return fp.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),fp.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),fp.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new kg(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,fp.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),fp.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,fp.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Xi(t,a.targetId)),i++)}),fp.$n(o).next(function(){return i})},t.prototype.tr=function(t){return fp.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return fp.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),fp.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),fp.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),fp.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return fp.resolve(n)},t.prototype.ki=function(t,e){return fp.resolve(this.Jc.ki(e))},t}(),Eb=function(){function t(t,e){var n=this;this.Xc={},this.io=new Gl(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Ob(this),this.Ti=new hg,this.wo=function(t,e){return new wb(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new Xp(e),this.Eo=new bb(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new vb(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;vl("MemoryPersistence","Starting transaction:",t);var i=new xb(this.io.next());return this.Ii.ta(),n(i).next(function(t){return r.Ii.ea(i).next(function(){return t})}).Mn().then(function(t){return i.ps(),t})},t.prototype.na=function(t,e){return fp.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),xb=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(bl.c)(e,t),e}(Sp),Sb=function(){function t(t){this.persistence=t,this.sa=new yb,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw El()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),fp.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),fp.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),fp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Dr();return r.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return fp.forEach(this.oa,function(r){var i=th.ft(r);return e.ca(t,i).next(function(t){t||n._i(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return fp.Bn([function(){return fp.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Tb(t,e){return"firestore_clients_"+t+"_"+e}function kb(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Cb(t,e){return"firestore_targets_"+t+"_"+e}var Ib=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Rl(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(wl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),jb=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Rl(r.error.code,r.error.message)),i?new t(e,r.state,o):(wl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ab=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=vd(),s=0;i&&s<r.activeTargetIds.length;++s)i=ph(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(wl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Pb=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(wl("SharedClientState","Failed to parse online state: "+e),null)},t}(),Rb=function(){function t(){this.activeTargetIds=vd()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Nb=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new id(Cl),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Tb(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Rb),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(bl.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Tb(this.persistenceKey,r)))&&(o=Ab.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Cb(this.persistenceKey,t));if(n){var r=jb.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Cb(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Fa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return vl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){vl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){vl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(vl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void wl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(bl.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(bl.d)(this,function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=Gl.U;if(null!=t)try{var n=JSON.parse(t);xl("number"==typeof n),e=n}catch(t){wl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Gl.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Ib(this.currentUser,t,e,n),i=kb(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=kb(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Cb(this.persistenceKey,t),i=new jb(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Ab.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Ib.aa(new Hl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return jb.aa(r,e)},t.prototype.ba=function(t){return Pb.aa(t)},t.prototype.Xa=function(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(vl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.fa.iu(s,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=vd();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),Db=function(){function t(){this.ru=new Rb,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Rb,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),Lb=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),Ub=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){vl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){vl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Vb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mb=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Fb=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(bl.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,o){var s=new gl;s.listenOnce(fl.COMPLETE,function(){try{switch(s.getLastErrorCode()){case hl.NO_ERROR:var e=s.getResponseJson();vl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case hl.TIMEOUT:vl("Connection",'RPC "'+t+'" timed out'),o(new Rl(Pl.DEADLINE_EXCEEDED,"Request time out"));break;case hl.HTTP_ERROR:var n=s.getStatus();if(vl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Pl).indexOf(e)>=0?e:Pl.UNKNOWN}(r.status);o(new Rl(a,r.message))}else o(new Rl(Pl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Rl(Pl.UNAVAILABLE,"Connection failed."));break;default:El()}}finally{vl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new sl,i=cu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(ps.p)()||Object(ps.r)()||Object(ps.m)()||Object(ps.n)()||Object(ps.s)()||Object(ps.l)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");vl("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Mb({du:function(t){c?vl("Connection","Not sending because WebChannel is closed:",t):(u||(vl("Connection","Opening WebChannel transport."),a.open(),u=!0),vl("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,pl.EventType.OPEN,function(){c||vl("Connection","WebChannel transport opened.")}),h(a,pl.EventType.CLOSE,function(){c||(c=!0,vl("Connection","WebChannel transport closed"),l.Pu())}),h(a,pl.EventType.ERROR,function(t){c||(c=!0,_l("Connection","WebChannel transport errored:",t),l.Pu(new Rl(Pl.UNAVAILABLE,"The operation could not be completed")))}),h(a,pl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];xl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){vl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Xf[t];if(void 0!==e)return rd(e)}(i),s=r.message;void 0===o&&(o=Pl.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new Rl(o,s)),a.close()}else vl("Connection","WebChannel received:",n),l.yu(n)}}),h(i,dl.STAT_EVENT,function(t){10===t.stat?vl("Connection","Detected buffering proxy"):11===t.stat&&vl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);vl("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then(function(t){return vl("RestConnection","Received: ",t),t},function(e){throw _l("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Vb[t]},t}());function Hb(){return"undefined"!=typeof window?window:null}function zb(){return"undefined"!=typeof document?document:null}function qb(t){return new Nd(t,!0)}var Bb=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&vl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Kb=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new Bb(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===Pl.RESOURCE_EXHAUSTED?(wl(e.toString()),wl("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Pl.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then(function(e){t.Wu===n&&t.rh(e)},function(n){e(function(){var e=new Rl(Pl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(bl.b)(t,void 0,void 0,function(){return Object(bl.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return vl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.Wu===t?n():(vl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),$b=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(bl.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:El()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(xl(void 0===e||"string"==typeof e),Al.fromBase64String(e||"")):(xl(void 0===e||e instanceof Uint8Array),Al.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Pl.UNKNOWN:rd(t.code);return new Rl(e,t.message||"")}(a);n=new kd(r,i,o,s||null)}else if("documentChange"in e){i=zd(t,(r=e.documentChange).document.name),o=Vd(r.document.updateTime);var a=new Ch({mapValue:{fields:r.document.fields}}),u=(s=new Ph(i,o,a,{}),r.targetIds||[]);n=new Sd(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=zd(t,(r=e.documentDelete).document),o=r.readTime?Vd(r.readTime):Jl.min(),a=new Rh(i,o),n=new Sd([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=zd(t,(r=e.documentRemove).document),n=new Sd([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return El();var c=e.filter;i=new ed(r=c.count||0),n=new Td(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Jl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Jl.min():e.readTime?Vd(e.readTime):Jl.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Kd(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Mh(r)?{documents:Xd(t,r)}:{query:Yd(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Ld(t,e.resumeToken):e.Mt.u(Jl.min())>0&&(n.readTime=Dd(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return El()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Kd(this.Kt),e.removeTarget=t,this.eh(e)},e}(Kb),Gb=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(bl.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(xl(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(xl(void 0!==e),t.map(function(t){return function(t,e){var n=Vd(t.updateTime?t.updateTime:e);n.isEqual(Jl.min())&&(n=Vd(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Lf(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Vd(t.commitTime);return this.listener.wh(n,e)}return xl(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Kd(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Jd(e.Kt,t)})};this.eh(n)},e}(Kb),Wb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(bl.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Rl(Pl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===Pl.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===Pl.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),Jb=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(wl(e),this.Ph=!1):vl("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Zb=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(bl.b)(o,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return oy(this)?(vl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(bl.b)(this,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return(e=Sl(t)).Oh.add(4),[4,Yb(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,Xb(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new Jb(n,r)};function Xb(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:if(!oy(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Yb(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Qb(t,e){var n=Sl(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),iy(n)?ry(n):wy(n).Ju()&&ey(n,e))}function ty(t,e){var n=Sl(t),r=wy(n);n.Nh.delete(e),r.Ju()&&ny(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():oy(n)&&n.Mh.set("Unknown"))}function ey(t,e){t.Lh.cn(e.targetId),wy(t).hh(e)}function ny(t,e){t.Lh.cn(e),wy(t).lh(e)}function ry(t){t.Lh=new Id({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),wy(t).start(),t.Mh.yh()}function iy(t){return oy(t)&&!wy(t).Hu()&&t.Nh.size>0}function oy(t){return 0===Sl(t).Oh.size}function sy(t){t.Lh=void 0}function ay(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){return t.Nh.forEach(function(e,n){ey(t,e)}),[2]})})}function uy(t,e){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(n){return sy(t),iy(t)?(t.Mh.ph(e),ry(t)):t.Mh.set("Unknown"),[2]})})}function cy(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,o;return Object(bl.d)(this,function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof kd&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(bl.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),vl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ly(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Sd?t.Lh.wn(e):e instanceof Td?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Jl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,ib(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Al.h,n.Mt)),ny(t,e);var r=new vf(n.target,e,1,n.sequenceNumber);ey(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return vl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ly(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function ly(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r=this;return Object(bl.d)(this,function(i){switch(i.label){case 0:if(!yp(e))throw e;return t.Oh.add(1),[4,Yb(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return ib(t.Sh)}),t.fs.bo(function(){return Object(bl.b)(r,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return vl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,Xb(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function hy(t,e){return e().catch(function(n){return ly(t,n,e)})}function fy(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(bl.d)(this,function(s){switch(s.label){case 0:e=Sl(t),n=_y(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return oy(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,ab(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=_y(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,ly(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return dy(e)&&py(e),[2]}})})}function dy(t){return oy(t)&&!_y(t).Hu()&&t.xh.length>0}function py(t){_y(t).start()}function gy(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){return _y(t).Th(),[2]})})}function by(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n,r;return Object(bl.d)(this,function(i){for(e=_y(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function yy(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i;return Object(bl.d)(this,function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Zp.from(r,e,n),[4,hy(t,function(){return t.Ch.qh(i)})];case 1:return o.sent(),[4,fy(t)];case 2:return o.sent(),[2]}})})}function my(t,e){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(n){switch(n.label){case 0:return e&&_y(t).fh?[4,function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:return nd(r=e.code)&&r!==Pl.ABORTED?(n=t.xh.shift(),_y(t).Xu(),[4,hy(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,fy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return dy(t)&&py(t),[2]}})})}function vy(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return n=Sl(t),e?(n.Oh.delete(2),[4,Xb(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,Yb(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function wy(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Sl(t);return r.mh(),new $b(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:ay.bind(null,t),Iu:uy.bind(null,t),uh:cy.bind(null,t)}),t.Fh.push(function(n){return Object(bl.b)(e,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),iy(t)?ry(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),sy(t),e.label=3;case 3:return[2]}})})})),t.Qh}function _y(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=Sl(t);return r.mh(),new Gb(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:gy.bind(null,t),Iu:my.bind(null,t),Eh:by.bind(null,t),wh:yy.bind(null,t)}),t.Fh.push(function(n){return Object(bl.b)(e,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,fy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(vl("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var Oy=function(){this.jh=void 0,this.listeners=[]},Ey=function(){this.queries=new mg(function(t){return pf(t)},df),this.onlineState="Unknown",this.Wh=new Set};function xy(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(bl.d)(this,function(c){switch(c.label){case 0:if(n=Sl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Oy),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.jh=c.sent(),[3,4];case 3:return a=c.sent(),u=Ep(a,"Initialization of query '"+gf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&Cy(n),[2]}})})}function Sy(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(bl.d)(this,function(a){return n=Sl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function Ty(t,e){for(var n=Sl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.jh=s}}r&&Cy(n)}function ky(t,e,n){var r=Sl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Cy(t){t.Wh.forEach(function(t){t.next()})}var Iy=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Od(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Od.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),jy=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Ay=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return zd(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Wd(this.Kt,t.document,!1):new Rh(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Vd(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Ay(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||yd()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(bl.d)(this,function(o){switch(o.label){case 0:return[4,pb(this.Sh,new Ay(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,gb(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Zg(Object.assign({},this.progress),t))]}})})}}();var Py=function(t){this.key=t},Ry=function(t){this.key=t},Ny=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=yd(),this.Ce=yd(),this.ll=yf(t),this._l=new wd(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new _d,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=of(this.query)&&i.size===this.query.limit?i.last():null,c=sf(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof Ph?e:null;h&&(h=bf(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),of(this.query)||sf(this.query))for(;s.size>this.query.limit;){var l=of(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return El()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new Od(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new _d,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=yd(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new Ry(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new Py(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=yd();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Od.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),Dy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ly=function(t){this.key=t,this.yl=!1},Uy=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new mg(function(t){return pf(t)},df),this.Dl=new Map,this.Cl=[],this.xl=new id(th.J),this.Nl=new Map,this.Ol=new yb,this.Fl={},this.kl=new Map,this.Ml=kg.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Vy(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(bl.d)(this,function(a){switch(a.label){case 0:return n=dm(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,ub(n.Sh,hf(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,My(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&Qb(n.gl,o),a.label=4;case 4:return[2,r]}})})}function My(t,e,n,r){return Object(bl.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(bl.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(bl.b)(this,void 0,void 0,function(){var i,o,s;return Object(bl.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,lb(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(Yy(t,e.targetId,s.ml),s.snapshot)]}})})}(t,e,n,r)},[4,lb(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Ny(e,i.Pc),s=o.dl(i.documents),a=xd.Be(n,r&&"Offline"!==t.onlineState),u=o.Ei(s,t.$l,a),Yy(t,n,u.ml),c=new Dy(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function Fy(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i;return Object(bl.d)(this,function(o){switch(o.label){case 0:return n=Sl(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!df(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,cb(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),ty(n.gl,r.targetId),Zy(n,r.targetId)}).catch(yg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Zy(n,r.targetId),[4,cb(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Hy(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(bl.d)(this,function(a){switch(a.label){case 0:r=pm(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Sl(t),i=Wl.now(),o=e.reduce(function(t,e){return t.add(e.key)},yd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=zf(c,n.get(c.key));null!=l&&s.push(new $f(c.key,l,jh(l.proto.mapValue),Uf.exists(!0)))}return r.Ho.Pi(t,i,s,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new id(Cl)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,em(r,i.oi)];case 3:return a.sent(),[4,fy(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Ep(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function zy(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:n=Sl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ob(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach(function(t,e){var r=n.Nl.get(e);r&&(xl(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?xl(r.yl):t.Ke.size>0&&(xl(r.yl),r.yl=!1))}),[4,em(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,yg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function qy(t,e,n){var r=Sl(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Sl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)}),r&&Cy(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function By(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(bl.d)(this,function(c){switch(c.label){case 0:return(r=Sl(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new id(th.J)).Ht(o,new Rh(o,Jl.min())),a=yd().add(o),u=new Ed(Jl.min(),new Map,new ad(Cl),s,a),[4,zy(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),tm(r),[3,4];case 2:return[4,cb(r.Sh,e,!1).then(function(){return Zy(r,e,n)}).catch(yg)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Ky(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i;return Object(bl.d)(this,function(o){switch(o.label){case 0:n=Sl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,rb(n.Sh,e)];case 2:return i=o.sent(),Jy(n,r,null),Wy(n,r),n.pl.Oa(r,"acknowledged"),[4,em(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,yg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function $y(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i;return Object(bl.d)(this,function(o){switch(o.label){case 0:r=Sl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Sl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.yi(t,e).next(function(e){return xl(null!==e),r=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=o.sent(),Jy(r,e,n),Wy(r,e),r.pl.Oa(e,"rejected",n),[4,em(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,yg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Gy(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(bl.d)(this,function(a){switch(a.label){case 0:oy((n=Sl(t)).gl)||vl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Sl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Ep(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Wy(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function Jy(t,e,n){var r=Sl(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function Zy(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach(function(e){t.Ol.ki(e)||Xy(t,e)})}function Xy(t,e){var n=t.xl.get(e);null!==n&&(ty(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),tm(t))}function Yy(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Py?(t.Ol.sr(o.key,e),Qy(t,o)):o instanceof Ry?(vl("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||Xy(t,o.key)):El()}}function Qy(t,e){var n=e.key;t.xl.get(n)||(vl("SyncEngine","New document in limbo: "+n),t.Cl.push(n),tm(t))}function tm(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Ly(e)),t.xl=t.xl.Ht(e,n),Qb(t.gl,new vf(hf(rf(e.path)),n,2,Gl.U))}}function em(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(bl.d)(this,function(a){switch(a.label){case 0:return r=Sl(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){s.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Yg.cc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(bl.d)(this,function(l){switch(l.label){case 0:n=Sl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return fp.forEach(e,function(e){return fp.forEach(e.rc,function(r){return n.persistence.Ii.sr(t,e.targetId,r)}).next(function(){return fp.forEach(e.oc,function(r){return n.persistence.Ii.rr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!yp(r=l.sent()))throw r;return vl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}})})}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function nm(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:return(n=Sl(t)).currentUser.isEqual(e)?[3,3]:(vl("SyncEngine","User change. New user:",e.R()),[4,nb(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new Rl(Pl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,em(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function rm(t,e){var n=Sl(t),r=n.Nl.get(e);if(r&&r.yl)return yd().add(r.key);var i=yd(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Sl.get(a[s]);i=i.ye(u.view.fl)}return i}function im(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i;return Object(bl.d)(this,function(o){switch(o.label){case 0:return[4,lb((n=Sl(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Yy(n,e.targetId,i.ml),i)]}})})}function om(t){return Object(bl.b)(this,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){return[2,fb((e=Sl(t)).Sh).then(function(t){return em(e,t)})]})})}function sm(t,e,n,r){return Object(bl.b)(this,void 0,void 0,function(){var i,o;return Object(bl.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Sl(t),r=Sl(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):fp.resolve(null)})})}((i=Sl(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,fy(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Jy(i,e,r||null),Wy(i,e),function(t,e){Sl(Sl(t).Ho).Ni(e)}(i.Sh,e)):El(),s.label=4;case 4:return[4,em(i,o)];case 5:return s.sent(),[3,7];case 6:vl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function am(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(bl.d)(this,function(c){switch(c.label){case 0:return dm(n=Sl(t)),pm(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,um(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,vy(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Qb(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return Zy(n,e),cb(n.Sh,e,!0)}),ty(n.gl,e)}),[4,u]);case 4:return c.sent(),[4,um(n,a)];case 5:return c.sent(),function(t){var e=Sl(t);e.Nl.forEach(function(t,n){ty(e.gl,n)}),e.Ol.Mc(),e.Nl=new Map,e.xl=new id(th.J)}(n),n.Ll=!1,[4,vy(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function um(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(bl.d)(this,function(g){switch(g.label){case 0:n=Sl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Dl.get(a=s[o]))&&0!==c.length?[4,ub(n.Sh,hf(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,im(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,hb(n.Sh,a)];case 8:return p=g.sent(),[4,ub(n.Sh,p)];case 9:return u=g.sent(),[4,My(n,cm(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function cm(t){return nf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function lm(t){var e=Sl(t);return Sl(Sl(e.Sh).persistence).Qo()}function hm(t,e,n,r){return Object(bl.b)(this,void 0,void 0,function(){var i,o,s;return Object(bl.d)(this,function(a){switch(a.label){case 0:return(i=Sl(t)).Ll?(vl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,fb(i.Sh)];case 3:return o=a.sent(),s=Ed.$e(e,"current"===n),[4,em(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,cb(i.Sh,e,!0)];case 6:return a.sent(),Zy(i,e,r),[3,8];case 7:El(),a.label=8;case 8:return[2]}})})}function fm(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(bl.d)(this,function(f){switch(f.label){case 0:if(!(r=dm(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(vl("SyncEngine","Adding an already active target "+s),[3,5]):[4,hb(r.Sh,s)]:[3,6];case 2:return a=f.sent(),[4,ub(r.Sh,a)];case 3:return u=f.sent(),[4,My(r,cm(a),u.targetId,!1)];case 4:f.sent(),Qb(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(bl.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,cb(r.Sh,t,!1).then(function(){ty(r.gl,t),Zy(r,t)}).catch(yg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function dm(t){var e=Sl(t);return e.gl.Ch.Bh=zy.bind(null,e),e.gl.Ch.Sn=rm.bind(null,e),e.gl.Ch.$h=By.bind(null,e),e.vl.uh=Ty.bind(null,e.Vl),e.vl.ql=ky.bind(null,e.Vl),e}function pm(t){var e=Sl(t);return e.gl.Ch.qh=Ky.bind(null,e),e.gl.Ch.Uh=$y.bind(null,e),e}var gm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return this.Kt=qb(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return eb(this.persistence,new Qg,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Eb(Sb.ra,this.Kt)},t.prototype.Wl=function(t){return new Db},t.prototype.terminate=function(){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),bm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(bl.c)(e,t),e.prototype.initialize=function(e){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,db(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,pm(this.Xl.fa)];case 4:return n.sent(),[4,fy(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return eb(this.persistence,new Qg,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Ng(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=Jg(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?bg.Xs(this.cacheSizeBytes):bg.ei;return new $g(this.synchronizeTabs,e,t.clientId,n,t.fs,Hb(),zb(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Db},e}(gm),ym=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(bl.c)(e,t),e.prototype.initialize=function(e){return Object(bl.b)(this,void 0,void 0,function(){var n,r=this;return Object(bl.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Nb?(this.pl.fa={nu:sm.bind(null,n),su:hm.bind(null,n),iu:fm.bind(null,n),Qo:lm.bind(null,n),eu:om.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(bl.b)(r,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return[4,am(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=Hb();if(!Nb.jn(e))throw new Rl(Pl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Jg(t.gu.T,t.gu.persistenceKey);return new Nb(e,t.fs,n,t.clientId,t.Yl)},e}(bm),mm=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n=this;return Object(bl.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return qy(n.fa,t,1)},this.gl.Ch.s_=nm.bind(null,this.fa),[4,vy(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Ey},t.prototype.Zl=function(t){var e=qb(t.gu.T),n=new Fb(t.gu);return function(t,e,n){return new Wb(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return qy(s.fa,t,0)},o=Ub.jn()?new Ub:new Lb,new Zb(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Uy(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(bl.b)(this,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return e=Sl(t),vl("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,Yb(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),vm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),wm=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new hp,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new jy(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(bl.b)(this,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Rl(Pl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Ql(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),_m=function(t){this._methodName=t};function Om(t,e,n){if(!n)throw new Rl(Pl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Em(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Rl(Pl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function xm(t,e,n,r){if(!0===e&&!0===r)throw new Rl(Pl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Sm(t){if(!th.Et(t))throw new Rl(Pl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Tm(t){if(th.Et(t))throw new Rl(Pl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function km(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":El()}function Cm(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Rl(Pl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=km(t);throw new Rl(Pl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Im(t,e){if(e<=0)throw new Rl(Pl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var jm=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Rl(Pl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Rl(Pl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,xm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Am=new Map,Pm=function(){function t(t,e){this.w_="(lite)",this.E_=new jm({}),this.T_=!1,t instanceof Fl?(this.I_=t,this.m_=new ql):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Rl(Pl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(t.options.projectId)}(t),this.m_=new Bl(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Rl(Pl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Rl(Pl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new jm(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new ql;switch(t.type){case"gapi":var e=t.client;return xl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new $l(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Rl(Pl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Am.get(this))&&(vl("ComponentProvider","Removing Datastore"),Am.delete(this),t.terminate()),Promise.resolve();var t},t}(),Rm=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Dm(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Nm=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Dm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,rf(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(bl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Rm(this.firestore,null,new th(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Nm);function Lm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Dl&&(t=t._),Om("collection","path",e),t instanceof Pm)return Tm(n=Xl.ct.apply(Xl,Object(bl.g)([e],r))),new Dm(t,null,n);if(!(t instanceof Rm||t instanceof Dm))throw new Rl(Pl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Tm(n=Xl.ct.apply(Xl,Object(bl.g)([t.path],r)).child(Xl.ct(e))),new Dm(t.firestore,null,n)}function Um(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Dl&&(t=t._),1===arguments.length&&(e=kl.t()),Om("doc","path",e),t instanceof Pm)return Sm(n=Xl.ct.apply(Xl,Object(bl.g)([e],r))),new Rm(t,null,new th(n));if(!(t instanceof Rm||t instanceof Dm))throw new Rl(Pl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sm(n=t.D_.child(Xl.ct.apply(Xl,Object(bl.g)([e],r)))),new Rm(t.firestore,t instanceof Dm?t.v_:null,new th(n))}function Vm(t,e){return t instanceof Dl&&(t=t._),e instanceof Dl&&(e=e._),(t instanceof Rm||t instanceof Dm)&&(e instanceof Rm||e instanceof Dm)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Mm(t,e){return t instanceof Dl&&(t=t._),e instanceof Dl&&(e=e._),t instanceof Nm&&e instanceof Nm&&t.firestore===e.firestore&&df(t.C_,e.C_)&&t.v_===e.v_}var Fm=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Rl(Pl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Rl(Pl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Cl(this.x_,t.x_)||Cl(this.N_,t.N_)},t}(),Hm=/^__.*__$/,zm=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new $f(t,this.data,this.zt,e,this.fieldTransforms):new Kf(t,this.data,e,this.fieldTransforms)},t}(),qm=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new $f(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Bm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw El()}}var Km=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return hv(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Bm(this.k_)&&Hm.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),$m=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||qb(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Km({k_:t,methodName:e,W_:n,path:Ql.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Gm(t){var e=t.p_(),n=qb(t.I_);return new $m(t.I_,!!e.ignoreUndefinedProperties,n)}function Wm(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);av("Data must be an object, but it was:",s,r);var a,u,c=ov(r,s);if(o.merge)a=new ih(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=uv(e,f[h],n);if(!s.contains(d))throw new Rl(Pl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");fv(l,d)||l.push(d)}a=new ih(l),u=s.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=s.fieldTransforms;return new zm(new Ch(c),a,u)}var Jm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(_m);function Zm(t,e,n){return new Km({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Xm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.z_=function(t){return new Df(t.path,new kf)},e.prototype.isEqual=function(t){return t instanceof e},e}(_m),Ym=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(bl.c)(e,t),e.prototype.z_=function(t){var e=Zm(this,t,!0),n=this.H_.map(function(t){return iv(t,e)}),r=new Cf(n);return new Df(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(_m),Qm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(bl.c)(e,t),e.prototype.z_=function(t){var e=Zm(this,t,!0),n=this.H_.map(function(t){return iv(t,e)}),r=new jf(n);return new Df(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(_m),tv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(bl.c)(e,t),e.prototype.z_=function(t){var e=new Pf(t.Kt,Of(t.Kt,this.J_));return new Df(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(_m);function ev(t,e,n,r){var i=t.G_(1,e,n);av("Data must be an object, but it was:",i,r);var o=[],s=new Ih;nh(r,function(t,r){var a=lv(e,t,n);r instanceof Dl&&(r=r._);var u=i.U_(a);if(r instanceof Jm)o.push(a);else{var c=iv(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new ih(o);return new qm(s.yt(),a,i.fieldTransforms)}function nv(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[uv(e,r,n)],u=[i];if(o.length%2!=0)throw new Rl(Pl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(uv(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Ih,f=a.length-1;f>=0;--f)if(!fv(l,a[f])){var d=a[f],p=u[f];p instanceof Dl&&(p=p._);var g=s.U_(d);if(p instanceof Jm)l.push(d);else{var b=iv(p,g);null!=b&&(l.push(d),h.set(d,b))}}var y=new ih(l);return new qm(h.yt(),y,s.fieldTransforms)}function rv(t,e,n,r){return void 0===r&&(r=!1),iv(n,t.G_(r?4:3,e))}function iv(t,e){if(t instanceof Dl&&(t=t._),sv(t))return av("Unsupported field value:",e,t),ov(t,e);if(t instanceof _m)return function(t,e){if(!Bm(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=iv(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Dl&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Of(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Wl.fromDate(t);return{timestampValue:Dd(e.Kt,n)}}if(t instanceof Wl)return n=new Wl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Dd(e.Kt,n)};if(t instanceof Fm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nl)return{bytesValue:Ld(e.Kt,t.l)};if(t instanceof Rm){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Md(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+km(t))}(t,e)}function ov(t,e){var n={};return rh(t)?e.path&&e.path.length>0&&e.zt.push(e.path):nh(t,function(t,r){var i=iv(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function sv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Wl||t instanceof Fm||t instanceof Nl||t instanceof Rm||t instanceof _m)}function av(t,e,n){if(!sv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=km(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function uv(t,e,n){if(e instanceof Dl&&(e=e._),e instanceof wm)return e.d_;if("string"==typeof e)return lv(t,e);throw hv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var cv=new RegExp("[~\\*/\\[\\]]");function lv(t,e,n){if(e.search(cv)>=0)throw hv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(wm.bind.apply(wm,Object(bl.g)([void 0],e.split("."))))).d_}catch(r){throw hv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function hv(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Rl(Pl.INVALID_ARGUMENT,(a+=". ")+t+u)}function fv(t,e){return t.some(function(t){return t.isEqual(e)})}var dv=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n=this;return Object(bl.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Rl(Pl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(bl.d)(this,function(u){switch(u.label){case 0:return n=Sl(t),r=Kd(n.Kt)+"/documents",i={documents:e.map(function(t){return Hd(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){xl(!!e.found);var n=zd(t,e.found.name),r=Vd(e.found.updateTime),i=new Ch({mapValue:{fields:e.found.fields}});return new Ph(n,r,i,{})}(t,e):"missing"in e?function(t,e){xl(!!e.missing),xl(!!e.readTime);var n=zd(t,e.missing),r=Vd(e.readTime);return new Rh(n,r)}(t,e):El()}(n.Kt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());xl(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Rh||t instanceof Ph?n.sf(t):El()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Qf(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e=this;return Object(bl.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=th.ft(n);e.mutations.push(new td(r,e.Gt(r)))}),[4,function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i;return Object(bl.d)(this,function(o){switch(o.label){case 0:return n=Sl(t),r=Kd(n.Kt)+"/documents",i={writes:e.map(function(t){return Jd(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Ph)e=t.version;else{if(!(t instanceof Rh))throw El();e=Jl.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Rl(Pl.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Uf.updateTime(e):Uf.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Jl.min()))throw new Rl(Pl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Uf.updateTime(e)}return Uf.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),pv=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Bb(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(bl.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(bl.d)(this,function(r){return t=new dv(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!fh(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!nd(e)}return!1},t}(),gv=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Hl.UNAUTHENTICATED,this.clientId=kl.t(),this._f=function(){},this.N=new hp,this.credentials.S(function(t){vl("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new Rl(Pl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new hp;return this.fs.Tf(function(){return Object(bl.b)(t,void 0,void 0,function(){var t,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ep(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function bv(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(bl.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),vl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.bo(function(){return Object(bl.b)(i,void 0,void 0,function(){return Object(bl.d)(this,function(t){switch(t.label){case 0:return[4,nb(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function yv(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,mv(t)];case 1:return n=i.sent(),vl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:return(n=Sl(t)).fs.Af(),vl("RemoteStore","RemoteStore received new credentials"),r=oy(n),n.Oh.add(3),[4,Yb(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,Xb(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function mv(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(vl("FirestoreClient","Using default OfflineComponentProvider"),[4,bv(t,new gm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function vv(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(vl("FirestoreClient","Using default OnlineComponentProvider"),[4,yv(t,new mm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function wv(t){return mv(t).then(function(t){return t.persistence})}function _v(t){return mv(t).then(function(t){return t.Sh})}function Ov(t){return vv(t).then(function(t){return t.gl})}function Ev(t){return vv(t).then(function(t){return t.fa})}function xv(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return[4,vv(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Vy.bind(null,e.fa),n.Jh=Fy.bind(null,e.fa),n)]}})})}function Sv(t,e,n){var r=this;void 0===n&&(n={});var i=new hp;return t.fs.ys(function(){return Object(bl.b)(r,void 0,void 0,function(){var r;return Object(bl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new vm({next:function(o){e.ys(function(){return Sy(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Rl(Pl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Rl(Pl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Iy(rf(n.path),o,{includeMetadataChanges:!0,sl:!0});return xy(t,s)},[4,xv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}function Tv(t,e,n){var r=this;void 0===n&&(n={});var i=new hp;return t.fs.ys(function(){return Object(bl.b)(r,void 0,void 0,function(){var r;return Object(bl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new vm({next:function(n){e.ys(function(){return Sy(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Rl(Pl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Iy(n,o,{includeMetadataChanges:!0,sl:!0});return xy(t,s)},[4,xv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}var kv=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Bb(this,"async_queue_retry"),this.vf=function(){var e=zb();e&&vl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=zb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=zb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e=this;return Object(bl.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!yp(t=n.sent()))throw t;return vl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,wl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Op.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&El()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(bl.b)(this,void 0,void 0,function(){var t;return Object(bl.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Cv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new kv,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(bl.c)(e,t),e.prototype.b_=function(){return this.Lf||jv(this),this.Lf.terminate()},e}(Pm);function Iv(t){return t.Lf||jv(t),t.Lf.df(),t.Lf}function jv(t){var e=t.p_(),n=function(t,e,n){return new Ml(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new gv(t.m_,t.Mf,n)}function Av(t,e,n){var r=this,i=new hp;return t.fs.enqueue(function(){return Object(bl.b)(r,void 0,void 0,function(){var r;return Object(bl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,bv(t,n)];case 1:return o.sent(),[4,yv(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Pl.FAILED_PRECONDITION||t.code===Pl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Pv(t){if(t.R_||t.P_)throw new Rl(Pl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Rv=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),gh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ah(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(uh(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw El()}},t.prototype.Wf=function(t,e){var n=this,r={};return nh(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Fm(ah(t.latitude),ah(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=lh(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(hh(t));default:return null}},t.prototype.Bf=function(t){var e=sh(t);return new Wl(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Xl.ct(t);xl(lp(n));var r=new Fl(n.get(1),n.get(3)),i=new th(n.X(5));return r.isEqual(e)||wl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Nv=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Rm(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Dv(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Lv("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Dv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Nv);function Lv(t,e){return"string"==typeof e?lv(t,e):e instanceof Dl?e._.d_:e.d_}function Uv(t){if(sf(t)&&0===t.Nt.length)throw new Rl(Pl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vv=function(){};function Mv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(bl.c)(e,t),e.prototype.Yf=function(t){var e=Gm(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new Rl(Pl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Gv(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push($v(r,t,l[c]));a={arrayValue:{values:u}}}else a=$v(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Gv(s,o),a=rv(n,"where",s,"in"===o||"not-in"===o);var h=Fh.create(i,o,a);return function(t,e){if(e.xt()){var n=uf(t);if(null!==n&&!n.isEqual(e.field))throw new Rl(Pl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=af(t);null!==r&&Wv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Rl(Pl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Nm(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new ef(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Vv),Hv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(bl.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Rl(Pl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Rl(Pl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Xh(e,n);return function(t,e){if(null===af(t)){var n=uf(t);null!==n&&Wv(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Nm(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new ef(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Vv),zv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(bl.c)(e,t),e.prototype.Yf=function(t){return new Nm(t.firestore,t.v_,ff(t.C_,this.nd,this.sd))},e}(Vv),qv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(bl.c)(e,t),e.prototype.Yf=function(t){var e=Kv(t,this.type,this.rd,this.od);return new Nm(t.firestore,t.v_,function(t,e){return new ef(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Vv),Bv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(bl.c)(e,t),e.prototype.Yf=function(t){var e=Kv(t,this.type,this.rd,this.od);return new Nm(t.firestore,t.v_,function(t,e){return new ef(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Vv);function Kv(t,e,n,r){if(n[0]instanceof Dl&&(n[0]=n[0]._),n[0]instanceof Nv)return function(t,e,n,r,i){if(!r)throw new Rl(Pl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=lf(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(Oh(e,r.key));else{var c=r.field(u.field);if(ch(c))throw new Rl(Pl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new Rl(Pl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Jh(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Gm(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new Rl(Pl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new Rl(Pl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!cf(t)&&-1!==c.indexOf("/"))throw new Rl(Pl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Xl.ct(c));if(!th.Et(l))throw new Rl(Pl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new th(l);a.push(Oh(e,h))}else{var f=rv(n,r,c);a.push(f)}}return new Jh(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function $v(t,e,n){if(n instanceof Dl&&(n=n._),"string"==typeof n){if(""===n)throw new Rl(Pl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!cf(e)&&-1!==n.indexOf("/"))throw new Rl(Pl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Xl.ct(n));if(!th.Et(r))throw new Rl(Pl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Oh(t,new th(r))}if(n instanceof Rm)return Oh(t,n.S_);throw new Rl(Pl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+km(n)+".")}function Gv(t,e){if(!Array.isArray(t)||0===t.length)throw new Rl(Pl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Rl(Pl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Wv(t,e,n){if(!n.isEqual(e))throw new Rl(Pl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Jv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function Zv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Xv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(bl.c)(e,t),e.prototype.Uf=function(t){return new Nl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Rm(this.firestore,null,e)},e}(Rv),Yv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Qv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(bl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new tw(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Lv("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Nv),tw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Qv),ew=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Yv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new tw(n.zf,n.Hf,r.key,r,new Yv(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Rl(Pl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new tw(t.zf,t.Hf,e.doc.key,e.doc,new Yv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new tw(t.zf,t.Hf,e.doc.key,e.doc,new Yv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:nw(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function nw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return El()}}function rw(t,e){return t instanceof Qv&&e instanceof Qv?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof ew&&e instanceof ew&&t.zf===e.zf&&Mm(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var iw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(bl.c)(e,t),e.prototype.Uf=function(t){return new Nl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Rm(this.firestore,null,e)},e}(Rv);function ow(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Cm(t,Rm);var o=Cm(t.firestore,Cv),s=Gm(o);return e instanceof Dl&&(e=e._),aw(o,[("string"==typeof e||e instanceof wm?nv(s,"updateDoc",t.S_,e,n,r):ev(s,"updateDoc",t.S_,e)).O_(t.S_,Uf.exists(!0))])}function sw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Dl&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Jv(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Jv(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Rm)c=Cm(t.firestore,Cv),l=rf(t.S_.path),u={next:function(e){i[a]&&i[a](uw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Cm(t,Nm);c=Cm(d.firestore,Cv),l=d.C_;var p=new iw(c);u={next:function(t){i[a]&&i[a](new ew(c,p,d,t))},error:i[a+1],complete:i[a+2]},Uv(t.C_)}return function(t,e,n,r){var i=this,o=new vm(r),s=new Iy(e,o,n);return t.fs.ys(function(){return Object(bl.b)(i,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return e=xy,[4,xv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(bl.b)(i,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return e=Sy,[4,xv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Iv(c),l,h,u)}function aw(t,e){return function(t,e){var n=this,r=new hp;return t.fs.ys(function(){return Object(bl.b)(n,void 0,void 0,function(){var n;return Object(bl.d)(this,function(i){switch(i.label){case 0:return n=Hy,[4,Ev(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Iv(t),e)}function uw(t,e,n){var r=n.docs.get(e.S_),i=new iw(t);return new Qv(t,i,e.S_,r,new Yv(n.hasPendingWrites,n.fromCache),e.v_)}var cw=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Gm(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=lw(t,this.zf),i=Zv(r.v_,e,n),o=Wm(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,Uf.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=lw(t,this.zf);return e instanceof Dl&&(e=e._),o="string"==typeof e||e instanceof wm?nv(this.wd,"WriteBatch.update",s.S_,e,n,r):ev(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.O_(s.S_,Uf.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=lw(t,this.zf);return this.fd=this.fd.concat(new Qf(e.S_,Uf.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Rl(Pl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function lw(t,e){if(t instanceof Dl&&(t=t._),t.firestore!==e)throw new Rl(Pl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var hw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(bl.c)(e,t),e.prototype.get=function(e){var n=this,r=lw(e,this.zf),i=new iw(this.zf);return t.prototype.get.call(this,e).then(function(t){return new Qv(n.zf,i,r.S_,t.Jf,new Yv(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Gm(t)}return t.prototype.get=function(t){var e=this,n=lw(t,this.zf),r=new Xv(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return El();var i=t[0];if(i instanceof Rh)return new Nv(e.zf,r,n.S_,null,n.v_);if(i instanceof Ph)return new Nv(e.zf,r,i.key,i,n.v_);throw El()})},t.prototype.set=function(t,e,n){var r=lw(t,this.zf),i=Zv(r.v_,e,n),o=Wm(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=lw(t,this.zf);return e instanceof Dl&&(e=e._),o="string"==typeof e||e instanceof wm?nv(this.wd,"Transaction.update",s.S_,e,n,r):ev(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=lw(t,this.zf);return this.Td.delete(e.S_),this},t}()),fw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Pv(t=Cm(t,Cv));var n=Iv(t),r=t.p_(),i=new mm;return Av(n,i,new bm(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Pv(t=Cm(t,Cv));var e=Iv(t),n=t.p_(),r=new mm;return Av(e,r,new ym(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Rl(Pl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new hp;return t.Mf.Tf(function(){return Object(bl.b)(e,void 0,void 0,function(){var e;return Object(bl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(bl.b)(this,void 0,void 0,function(){return Object(bl.d)(this,function(e){switch(e.label){case 0:return pp.jn()?[4,pp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Jg(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),dw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Fl||(i.md=e),i}return Object(bl.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Cm(t,Pm)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&_l("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(bl.b)(e,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return[4,wv(t)];case 1:return e=r.sent(),[4,Ov(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=Sl(t);return e.Oh.delete(0),Xb(e)}(n))]}})})})}(Iv(Cm(this._,Cv)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(bl.b)(e,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return[4,wv(t)];case 1:return e=r.sent(),[4,Ov(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(bl.b)(this,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return(e=Sl(t)).Oh.add(0),[4,Yb(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(Iv(Cm(this._,Cv)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&xm("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new hp;return t.fs.ys(function(){return Object(bl.b)(e,void 0,void 0,function(){var e;return Object(bl.d)(this,function(r){switch(r.label){case 0:return e=Gy,[4,Ev(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Iv(Cm(this._,Cv)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new vm(e);return t.fs.ys(function(){return Object(bl.b)(n,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Sl(t).Wh.add(e),e.next()},[4,xv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(bl.b)(n,void 0,void 0,function(){var e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Sl(t).Wh.delete(e)},[4,xv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Iv(t=Cm(t,Cv)),Jv(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Rl(Pl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Tw(this,Lm(this._,t))}catch(t){throw mw(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new yw(this,Um(this._,t))}catch(t){throw mw(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Ew(this,function(t,e){if(t=Cm(t,Pm),Om("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Rl(Pl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Nm(t,null,function(t){return new ef(Xl.at(),t)}(e))}(this._,t))}catch(t){throw mw(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new hp;return t.fs.ys(function(){return Object(bl.b)(n,void 0,void 0,function(){var n;return Object(bl.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return vv(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new pv(t.fs,n,e,r).run(),[2]}})})}),r.promise}(Iv(t),function(n){return e(new hw(t,n))})}(this._,function(n){return t(new gw(e,n))})},e.prototype.batch=function(){var t=this;return Iv(this._),new bw(new cw(this._,function(e){return aw(t._,e)}))},e.prototype.loadBundle=function(t){throw new Rl(Pl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Rl(Pl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Dl),pw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(bl.c)(e,t),e.prototype.Uf=function(t){return new Vl(new Nl(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return yw.Ad(e,this.firestore,null)},e}(Rv),gw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new pw(e),r}return Object(bl.c)(e,t),e.prototype.get=function(t){var e=this,n=kw(t);return this._.get(n).then(function(t){return new _w(e.zf,new Qv(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=kw(t);return n?(Em("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=kw(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(bl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=kw(t);return this._.delete(e),this},e}(Dl),bw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.set=function(t,e,n){var r=kw(t);return n?(Em("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=kw(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(bl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=kw(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Dl),yw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new pw(e),r}return Object(bl.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Rl(Pl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Rm(n._,r,new th(t)))},e.Ad=function(t,n,r){return new e(n,new Rm(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Tw(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Tw(this.firestore,Lm(this._,t))}catch(t){throw mw(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Dl&&(t=t._),t instanceof Rm&&Vm(this._,t)},e.prototype.set=function(t,e){e=Em("DocumentReference.set",e);try{return function(t,e,n){t=Cm(t,Rm);var r=Cm(t.firestore,Cv),i=Zv(t.v_,e,n);return aw(r,[Wm(Gm(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,Uf.jt())])}(this._,t,e)}catch(t){throw mw(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ow(this._,t):ow.apply(void 0,Object(bl.g)([this._,t,e],n))}catch(t){throw mw(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return aw(Cm((t=this._).firestore,Cv),[new Qf(t.S_,Uf.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vw(e),i=ww(e,function(e){return new _w(t.firestore,new Qv(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return sw(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Cm(t,Rm);var e=Cm(t.firestore,Cv),n=Iv(e),r=new iw(e);return function(t,e){var n=this,r=new hp;return t.fs.ys(function(){return Object(bl.b)(n,void 0,void 0,function(){var n;return Object(bl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i;return Object(bl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Sl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Ph?n.resolve(i):i instanceof Rh?n.resolve(null):n.reject(new Rl(Pl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ep(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,_v(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Qv(e,r,t.S_,n,new Yv(n instanceof Ph&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Cm(t,Rm);var e=Cm(t.firestore,Cv);return Sv(Iv(e),t.S_,{source:"server"}).then(function(n){return uw(e,t,n)})}(this._):function(t){t=Cm(t,Rm);var e=Cm(t.firestore,Cv);return Sv(Iv(e),t.S_).then(function(n){return uw(e,t,n)})}(this._)).then(function(t){return new _w(e.firestore,new Qv(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Dl);function mw(t,e,n){return t.message=t.message.replace(e,n),t}function vw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Jv(r))return r}return{}}function ww(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Jv(t[0])?t[0]:Jv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var _w=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(bl.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new yw(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return rw(this._,t._)},e}(Dl),Ow=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(_w),Ew=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new pw(e),r}return Object(bl.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Mv(this._,function(t,e,n){var r=e,i=Lv("where",t);return new Fv(i,r,n)}(t,n,r)))}catch(t){throw mw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Mv(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Lv("orderBy",t);return new Hv(r,n)}(t,n)))}catch(t){throw mw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Mv(this._,function(t){return Im("limit",t),new zv("limit",t,"F")}(t)))}catch(t){throw mw(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Mv(this._,function(t){return Im("limitToLast",t),new zv("limitToLast",t,"L")}(t)))}catch(t){throw mw(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qv("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw mw(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qv("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw mw(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bv("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw mw(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bv("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw mw(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Mm(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Cm(t,Nm);var e=Cm(t.firestore,Cv),n=Iv(e),r=new iw(e);return function(t,e){var n=this,r=new hp;return t.fs.ys(function(){return Object(bl.b)(n,void 0,void 0,function(){var n;return Object(bl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(bl.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,lb(t,e,!0)];case 1:return a=u.sent(),r=new Ny(e,a.Pc),i=r.dl(a.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Ep(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,_v(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new ew(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Cm(t,Nm);var e=Cm(t.firestore,Cv),n=Iv(e),r=new iw(e);return Tv(n,t.C_,{source:"server"}).then(function(n){return new ew(e,r,t,n)})}(this._):function(t){t=Cm(t,Nm);var e=Cm(t.firestore,Cv),n=Iv(e),r=new iw(e);return Uv(t.C_),Tv(n,t.C_).then(function(n){return new ew(e,r,t,n)})}(this._)).then(function(t){return new Sw(e.firestore,new ew(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vw(e),i=ww(e,function(e){return new Sw(t.firestore,new ew(t.firestore._,t.Hf,t._,e.ud))});return sw(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Dl),xw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(bl.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ow(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Dl),Sw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(bl.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Ew(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new Ow(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new xw(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new Ow(n.zf,r))})},e.prototype.isEqual=function(t){return rw(this._,t._)},e}(Dl),Tw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(bl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new yw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new yw(this.firestore,void 0===t?Um(this._):Um(this._,t))}catch(t){throw mw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Cm(t.firestore,Cv),r=Um(t),i=Zv(t.v_,e);return aw(n,[Wm(Gm(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,Uf.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new yw(e.firestore,t)})},e.prototype.isEqual=function(t){return Vm(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Ew);function kw(t){return t instanceof Dl&&(t=t._),Cm(t,Rm)}var Cw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(wm.bind.apply(wm,Object(bl.g)([void 0],e))))||this}return Object(bl.c)(e,t),e.documentId=function(){return new e(Ql.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Dl&&(t=t._),t instanceof wm&&this._.d_.isEqual(t.d_)},e}(Dl),Iw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bl.c)(e,t),e.serverTimestamp=function(){var t=new Xm("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Jm("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ym("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qm("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new tv("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Dl);!function(){function t(){this.Pd={},this.yd=new hp,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var jw,Aw=n("/6Yf"),Pw={Firestore:dw,GeoPoint:Fm,Timestamp:Wl,Blob:Vl,Transaction:gw,WriteBatch:bw,DocumentReference:yw,DocumentSnapshot:_w,Query:Ew,QueryDocumentSnapshot:Ow,QuerySnapshot:Sw,CollectionReference:Tw,FieldPath:Cw,FieldValue:Iw,setLogLevel:function(t){yl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Aw.a("firestore",function(t){return function(t,e){return new dw(t,new Cv(t,e),new fw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Pw)))})(jw=fs.a),jw.registerVersion("@firebase/firestore","2.1.2");var Rw=n("VRyK"),Nw=n("qgXg"),Dw=n("Ylt2");class Lw extends Xe.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Uw(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Ye.a;if(this.isStopped||this.hasError?o=Zn.a.EMPTY:(this.observers.push(t),o=new Dw.a(this,t)),r&&t.add(t=new cs.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Nw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Uw{constructor(t,e){this.time=t,this.value=e}}function Vw(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Lw(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Mw(t,e){return e?gn(()=>t,e):gn(()=>t)}var Fw=n("tf+s");const Hw=new r.q("angularfire2.auth.use-emulator"),zw=new r.q("angularfire2.auth.settings"),qw=new r.q("angularfire2.auth.tenant-id"),Bw=new r.q("angularfire2.auth.langugage-code"),Kw=new r.q("angularfire2.auth.use-device-language"),$w=new r.q("angularfire.auth.persistence");let Gw=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new ls.e(i),f=Object(ls.i)(h),d=new Xe.a,p=Object(Ze.a)(void 0).pipe(Object(cs.b)(h.outsideAngular),gn(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(jt.a)(()=>Object(ls.h)(t,i,e)),Object(jt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(ls.g)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Vw({bufferSize:1,refCount:!1}));if(K(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ze.a)(null);else{p.pipe(Wn()).subscribe();const t=p.pipe(gn(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Vw({bufferSize:1,refCount:!1})),e=t=>new Ct.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(gn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(gn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Mw(n),Object(Fw.a)(h.outsideAngular),Object(cs.b)(h.insideAngular)),this.user=t.pipe(Mw(r),Object(Fw.a)(h.outsideAngular),Object(cs.b)(h.insideAngular)),this.idToken=this.user.pipe(gn(t=>t?Object(Pt.a)(t.getIdToken()):Object(Ze.a)(null))),this.idTokenResult=this.user.pipe(gn(t=>t?Object(Pt.a)(t.getIdTokenResult()):Object(Ze.a)(null))),this.credential=Object(Rw.a)(t,d,this.authState.pipe(In(t=>!t))).pipe(Object(jt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Fw.a)(h.outsideAngular),Object(cs.b)(h.insideAngular))}return Object(ls.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ls.c),r.Pb(ls.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Hw,8),r.Pb(zw,8),r.Pb(qw,8),r.Pb(Bw,8),r.Pb(Kw,8),r.Pb($w,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(ls.c),Object(r.Pb)(ls.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Hw,8),Object(r.Pb)(zw,8),Object(r.Pb)(qw,8),Object(r.Pb)(Bw,8),Object(r.Pb)(Kw,8),Object(r.Pb)($w,8))},token:t,providedIn:"any"}),t})();function Ww(t,e){return function(t,e=ns.b){return new Ct.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Jw(t,e){return Ww(t,e).pipe(Object(jt.a)(t=>({payload:t,type:"query"})))}function Zw(t,e){return Jw(t,e).pipe(Sn(void 0),rs(),Object(jt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Xw(t,e,n){return Zw(t,n).pipe(Tn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Yw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Yw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Yw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),ss(),Object(jt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Yw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Qw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(ls.f)(Gw,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class t_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Zw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(jt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Sn(void 0),rs(),In(([t,e])=>e.length>0||!t),Object(jt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Tn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Qw(t);return Xw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Jw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(jt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Pt.a)(this.query.get(t)).pipe(Object(cs.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new e_(this.ref.doc(t),this.afs)}}class e_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=a_(n,e);return new t_(r,i,this.afs)}snapshotChanges(){return Ww(this.ref,this.afs.schedulers.outsideAngular).pipe(Sn(void 0),rs(),Object(jt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(jt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Pt.a)(this.ref.get(t)).pipe(Object(cs.b)(this.afs.schedulers.insideAngular))}}class n_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Zw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(jt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),In(t=>t.length>0),this.afs.keepUnstableUntilFirst):Zw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Tn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Qw(t);return Xw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Jw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(jt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Pt.a)(this.query.get(t)).pipe(Object(cs.b)(this.afs.schedulers.insideAngular))}}const r_=new r.q("angularfire2.enableFirestorePersistence"),i_=new r.q("angularfire2.firestore.persistenceSettings"),o_=new r.q("angularfire2.firestore.settings"),s_=new r.q("angularfire2.firestore.use-emulator");function a_(t,e=(t=>t)){return{query:e(t),ref:t}}let u_=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new ls.e(o),this.keepUnstableUntilFirst=Object(ls.i)(this.schedulers);const c=Object(ls.h)(t,o,e);!hs.a.auth&&u&&Object(ls.k)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(ls.g)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!K(i)){const e=()=>{try{return Object(Pt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(jw){return"undefined"!=typeof console&&console.warn(jw),Object(Ze.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Ze.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=a_(n,e),o=this.schedulers.ngZone.run(()=>r);return new t_(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new n_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new e_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ls.c),r.Pb(ls.b,8),r.Pb(r_,8),r.Pb(o_,8),r.Pb(r.B),r.Pb(r.z),r.Pb(i_,8),r.Pb(s_,8),r.Pb(Hw,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(ls.c),Object(r.Pb)(ls.b,8),Object(r.Pb)(r_,8),Object(r.Pb)(o_,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(i_,8),Object(r.Pb)(s_,8),Object(r.Pb)(Hw,8))},token:t,providedIn:"any"}),t})(),c_=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:r_,useValue:!0},{provide:i_,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[u_]}),t})(),l_=(()=>{class t{constructor(t){this.db=t}readFromLocalStorage(){return Qo}readFromDB(){return new Promise(t=>{this.db.collection("category").valueChanges({idField:"id"}).subscribe(e=>t(e))})}getCategoryEntryOffline(t){let e=new Xo;return Qo.forEach(n=>{t==n.id&&(e=n)}),e}getCategoryEntry(t){return new Promise(e=>{this.db.collection("category").doc(t).valueChanges().subscribe(t=>e(t))})}getUrlDirectory(t,e){return e?t.substring(this.nthLastIndexOf(2,"/",t)+1,t.lastIndexOf("/")):t.substring(t.lastIndexOf("/")+1,t.length)}nthLastIndexOf(t,e,n){return t<=0?n.length:this.nthLastIndexOf(--t,e,n.substring(0,n.lastIndexOf(e)))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function h_(t,e){if(1&t&&(r.Lb(0,"div",16),r.Lb(1,"a",17),r.jc(2),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.dc("routerLink","/",t.link,""),r.yb(1),r.kc(t.name)}}let f_=(()=>{class t{constructor(t){this.categoryService=t}ngOnInit(){this.categoryList=this.categoryService.readFromDB()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(l_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-navbar"]],decls:26,vars:3,consts:[[1,"box"],[1,"navbar","fixed-top","navbar-expand-lg","navbar-light","bg-light","box"],["type","button","data-toggle","collapse","data-target","#navbarTogglerDemo01","aria-controls","navbarTogglerDemo01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarTogglerDemo01",1,"collapse","navbar-collapse"],["routerLink","/",1,"navbar-brand"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"form-inline","my-2","my-lg-0"],[1,"nav-item","pr-4"],["routerLink","/",1,"nav-link"],[1,"nav-item","dropdown","pr-4"],["href","http://example.com","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","dropdown07",1,"dropdown-menu"],["role","listitem",4,"ngFor","ngForOf"],["routerLink","/about",1,"nav-link"],["routerLink","/contact",1,"nav-link"],["role","listitem"],[1,"dropdown-item",3,"routerLink"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"nav",1),r.Lb(2,"button",2),r.Jb(3,"span",3),r.Kb(),r.Lb(4,"div",4),r.Lb(5,"a",5),r.Lb(6,"strong"),r.jc(7,"DOCO SUMMARIES"),r.Kb(),r.Kb(),r.Jb(8,"ul",6),r.Lb(9,"form",7),r.Lb(10,"ul",6),r.Lb(11,"li",8),r.Lb(12,"a",9),r.jc(13,"HOME"),r.Kb(),r.Kb(),r.Lb(14,"li",10),r.Lb(15,"a",11),r.jc(16,"CATEGORIES"),r.Kb(),r.Lb(17,"div",12),r.ic(18,h_,3,2,"div",13),r.Vb(19,"async"),r.Kb(),r.Kb(),r.Lb(20,"li",8),r.Lb(21,"a",14),r.jc(22,"ABOUT"),r.Kb(),r.Kb(),r.Lb(23,"li",8),r.Lb(24,"a",15),r.jc(25,"CONTACT"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(18),r.bc("ngForOf",r.Wb(19,1,e.categoryList)))},directives:[Io,Ge,se,qe,A],pipes:[H],styles:[".box[_ngcontent-%COMP%]{padding:10px 200px;border-bottom:1px solid #d3d3d3}@media screen and (max-width:1000px){.box[_ngcontent-%COMP%]{padding:15px 20px}}"]}),t})(),d_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-about"]],decls:19,vars:0,consts:[[1,"pageContent"],[1,"desc"],["src","../../../assets/images/cabin.jpg","width","100%"]],template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Lb(1,"div",0),r.Lb(2,"h2"),r.jc(3,"About Docosummaries"),r.Kb(),r.Lb(4,"p",1),r.jc(5,"Docosummaries is a place where you can: "),r.Kb(),r.Lb(6,"ul"),r.Lb(7,"li"),r.jc(8,"Learn about new documentaries"),r.Kb(),r.Lb(9,"li"),r.jc(10,"Read blurbs and plot summaries of documentaries"),r.Kb(),r.Lb(11,"li"),r.jc(12,"Find links where you could watch the documentaries online"),r.Kb(),r.Kb(),r.Jb(13,"br"),r.Jb(14,"img",2),r.Jb(15,"br"),r.Jb(16,"br"),r.Lb(17,"p"),r.jc(18,"About page still in progress"),r.Kb(),r.Kb())},directives:[f_],styles:[""]}),t})();function p_(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(jw){o(jw)}}function a(t){try{u(r.throw(t))}catch(jw){o(jw)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}let g_=(()=>{class t{constructor(t){this.db=t}readFromLocalStorage(){return ts}readFromDB(){return new Promise(t=>{this.db.collection("tag").valueChanges({idField:"id"}).subscribe(e=>t(e))})}getTagEntryOffline(t){let e=new Yo;return ts.forEach(n=>{t==n.id&&(e=n)}),e}getTagEntry(t){return new Promise(e=>{this.db.collection("tag").doc(t).valueChanges().subscribe(t=>e(t))})}getTagsForCategory(t,e){let n=[];return t.forEach(t=>{t.category==e&&(n.some(e=>e.id===t.id)||n.push(t))}),n}getUrlDirectory(t){return t.substring(t.lastIndexOf("/")+1,t.length)}readTagsByCategory(t){return p_(this,void 0,void 0,function*(){return this.tagsByCategory=new Array,this.tagsList=yield this.readFromDB(),this.tagsList.forEach(e=>{e.category==t&&this.tagsByCategory.push(e)}),this.tagsByCategory})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),b_=(()=>{class t{constructor(t,e){this.db=t,this.tagService=e}readFromLocalStorage(){return es}readFromDB(){return new Promise(t=>{this.db.collection("documentary").valueChanges({idField:"id"}).subscribe(e=>t(e))})}getAllDocosForCategoryOffline(t,e){let n=Array();return t.forEach(t=>{t.category==e.id&&(n.some(e=>e.link===t.link)||n.push(t))}),n}getAllDocosForCategory(t,e){let n=Array();return t.forEach(t=>{t.category==e.id&&(n.some(e=>e.link===t.link)||(n.push(t),n[n.length-1].categoryObj=e,n[n.length-1].tagObj=this.getAllTagsForDoco(t)))}),n}getAllTagsForDoco(t){let e=new Array;return t.tags.forEach(t=>{this.tagService.getTagEntry(t).then(t=>{e.push(t)})}),e}getAllDocosForTagOffline(t,e){let n=[];return t.forEach(t=>{t.tags.forEach(r=>{r.includes(e)&&(n.some(e=>e.link===t.link)||n.push(t))})}),n}getAllDocosForTag(t,e){let n=[];return t.forEach(t=>{t.tags.forEach(r=>{r.includes(e)&&(n.some(e=>e.link===t.link)||(n.push(t),n[n.length-1].tagObj=this.getAllTagsForDoco(t)))})}),n}addToDB(t,e,n,r,i,o,s){console.log("Adding doco"),this.db.collection("test").add({category:o,description:e,link:"test link",linkToDoco:n,name:t,producer:r,studio:i,tags:s,topic:"blah"})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u_),r.Pb(g_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function y_(t,e){if(1&t&&(r.Lb(0,"option",19),r.jc(1),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.lc(" ",t.id," ")}}function m_(t,e){if(1&t&&(r.Lb(0,"option",19),r.jc(1),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.lc(" ",t.id," ")}}let v_=(()=>{class t{constructor(t,e,n){this.tagService=t,this.docoService=e,this.categoryService=n,this.hideTags=!0}ngOnInit(){this.tagsByCategory=new Array,this.categoryList=this.categoryService.readFromDB()}onAdd(){console.log("Added successfully --\x3e Name: "+this.docoName+", Description: "+this.description+", linkToDoco: "+this.linkToDoco+", producer: "+this.producer+", studio: "+this.studio+", category: "+this.category),console.log(this.tags),this.docoService.addToDB(this.docoName,this.description,this.linkToDoco,this.producer,this.studio,this.category,this.tags)}onCategoryChange(){return p_(this,void 0,void 0,function*(){this.tagsByCategory=yield this.tagService.readTagsByCategory(this.category),this.hideTags=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(g_),r.Ib(b_),r.Ib(l_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-admin"]],decls:43,vars:12,consts:[[1,"pageContent"],[1,"form-group"],["for","docoName"],["type","text","name","docoName","id","docoName","placeholder","Seconds From Disaster: Aircrash",1,"form-control",3,"ngModel","ngModelChange"],["for","description"],["name","description","id","description","rows","3","placeholder","A short description here",1,"form-control",3,"ngModel","ngModelChange"],["for","linkToDoco"],["type","text","name","linkToDoco","id","linkToDoco","placeholder","https://www.youtube.com/watch?v=It1y9bu9VUA",1,"form-control",3,"ngModel","ngModelChange"],["for","producer"],["type","text","name","producer","id","producer","placeholder","Malcolm",1,"form-control",3,"ngModel","ngModelChange"],["for","studio"],["type","text","name","studio","id","studio","placeholder","Falcon",1,"form-control",3,"ngModel","ngModelChange"],["for","category"],["name","category","id","category",1,"form-control",3,"ngModel","change","ngModelChange"],["role","listitem",4,"ngFor","ngForOf"],[1,"form-group",3,"hidden"],["for","tags"],["multiple","","size","10","name","tags","id","tags",1,"form-control",2,"height","100%",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],["role","listitem"]],template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Lb(1,"div",0),r.Jb(2,"hr"),r.Lb(3,"h1"),r.jc(4,"Admin - Add and Edit Docos"),r.Kb(),r.Jb(5,"br"),r.Lb(6,"form"),r.Lb(7,"div",1),r.Lb(8,"label",2),r.jc(9,"Doco Name"),r.Kb(),r.Lb(10,"input",3),r.Sb("ngModelChange",function(t){return e.docoName=t}),r.Kb(),r.Kb(),r.Lb(11,"div",1),r.Lb(12,"label",4),r.jc(13,"Description"),r.Kb(),r.Lb(14,"textarea",5),r.Sb("ngModelChange",function(t){return e.description=t}),r.jc(15,"      "),r.Kb(),r.Kb(),r.Lb(16,"div",1),r.Lb(17,"label",6),r.jc(18,"Link To Doco"),r.Kb(),r.Lb(19,"input",7),r.Sb("ngModelChange",function(t){return e.linkToDoco=t}),r.Kb(),r.Kb(),r.Lb(20,"div",1),r.Lb(21,"label",8),r.jc(22,"Producer"),r.Kb(),r.Lb(23,"input",9),r.Sb("ngModelChange",function(t){return e.producer=t}),r.Kb(),r.Kb(),r.Lb(24,"div",1),r.Lb(25,"label",10),r.jc(26,"Studio"),r.Kb(),r.Lb(27,"input",11),r.Sb("ngModelChange",function(t){return e.studio=t}),r.Kb(),r.Kb(),r.Lb(28,"div",1),r.Lb(29,"label",12),r.jc(30,"Category"),r.Kb(),r.Lb(31,"select",13),r.Sb("change",function(){return e.onCategoryChange()})("ngModelChange",function(t){return e.category=t}),r.Lb(32,"option"),r.jc(33,"Please Select"),r.Kb(),r.ic(34,y_,2,1,"option",14),r.Vb(35,"async"),r.Kb(),r.Kb(),r.Lb(36,"div",15),r.Lb(37,"label",16),r.jc(38,"Tags"),r.Kb(),r.Lb(39,"select",17),r.Sb("ngModelChange",function(t){return e.tags=t}),r.ic(40,m_,2,1,"option",14),r.Kb(),r.Kb(),r.Kb(),r.Lb(41,"button",18),r.Sb("click",function(){return e.onAdd()}),r.jc(42,"(+) Add"),r.Kb(),r.Kb()),2&t&&(r.yb(10),r.bc("ngModel",e.docoName),r.yb(4),r.bc("ngModel",e.description),r.yb(5),r.bc("ngModel",e.linkToDoco),r.yb(4),r.bc("ngModel",e.producer),r.yb(4),r.bc("ngModel",e.studio),r.yb(4),r.bc("ngModel",e.category),r.yb(3),r.bc("ngForOf",r.Wb(35,10,e.categoryList)),r.yb(2),r.bc("hidden",e.hideTags),r.yb(3),r.bc("ngModel",e.tags),r.yb(1),r.bc("ngForOf",e.tagsByCategory))},directives:[f_,Ge,se,qe,Mt,oe,$e,be,ye,_e,A,we],pipes:[H],styles:[""]}),t})(),w_=(()=>{class t{constructor(){}ngOnInit(){}submitFeedback(){console.log("Submit Feedback")}submitContribution(){console.log("Submit Contribution")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-contact"]],decls:14,vars:0,consts:[[1,"pageContent"],[1,"desc"]],template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Lb(1,"div",0),r.Lb(2,"h2"),r.jc(3,"Contact"),r.Kb(),r.Lb(4,"p",1),r.jc(5," Docosummaries is a constantly growing community and knowledge base. We are trying our best to keep adding more content to the site. If you have any feedback, or if you think you could add any suggestions that could help us improve, let us know and we will appreciate it very much and take it into consideration. "),r.Kb(),r.Lb(6,"h4"),r.jc(7,"Making a contribution"),r.Kb(),r.Lb(8,"p"),r.jc(9," You can let us know if there is something that you are unable to search for (i.e. something you know isn't listed). If you want to make a contribution to the knowledge base, you can send us a message with a link to the documentary and we will be happy to include it into our database. If you have a summary about it, that would help us immensely as well :) "),r.Kb(),r.Lb(10,"p"),r.jc(11," If you don't know many details about the documentary, it's okay, fill in as much as you can and we will try to investigate further information about it before adding it to our database. "),r.Kb(),r.Lb(12,"p"),r.jc(13," Forms are still in progress. "),r.Kb(),r.Kb())},directives:[f_],styles:[".form-container[_ngcontent-%COMP%]{border:1px solid #e6e6e6;padding:20px;margin:30px 0 60px}"]}),t})(),__=(()=>{class t{constructor(t,e){this.el=t,this.renderer=e,this.setTitle=!1}ngOnChanges(t){this.content&&(this.setTitle&&this.renderer.setProperty(this.el.nativeElement,"title",this.content),this.renderer.setProperty(this.el.nativeElement,"innerHTML",this.searchedWord&&this.searchedWord.length&&this.classToApply?this.getFormattedText():this.content))}getFormattedText(){const t=new RegExp(`(${this.searchedWord})`,"gi");return this.content.replace(t,`<span class="${this.classToApply}">$1</span>`)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D))},t.\u0275dir=r.Db({type:t,selectors:[["","appHighlight",""]],inputs:{searchedWord:"searchedWord",content:"content",classToApply:"classToApply",setTitle:"setTitle"},features:[r.wb]}),t})(),O_=(()=>{class t{transform(t,e){return t?e?(e=e.toLocaleLowerCase(),t.filter(t=>t.toLocaleLowerCase().includes(e))):t:[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Hb({name:"appFilter",type:t,pure:!0}),t})();function E_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",6),r.Lb(1,"a",7),r.Sb("click",function(){return r.fc(t),r.Ub().onSelect()}),r.jc(2),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit,n=r.Ub();r.bc("searchedWord",n.searchText)("classToApply","font-weight-bold")("setTitle","true")("hidden",""==n.searchText),r.yb(1),r.cc("routerLink",t.substring(t.indexOf("@")+1,t.length)),r.yb(1),r.kc(t.substring(0,t.indexOf(" -@")))}}let x_=(()=>{class t{constructor(t,e,n){this.categoryService=t,this.docoService=e,this.tagService=n,this.searchText="",this.searchString=new Array}ngOnInit(){this.addCatagories(),this.addTags(),this.addDocos(),console.log("Search string created."+this.searchString)}onSelect(){this.searchText=""}addCatagories(){return p_(this,void 0,void 0,function*(){this.categoriesList=yield this.categoryService.readFromDB(),this.categoriesList.forEach(t=>{this.searchString.push(t.name+" (Category) -@"+t.link)})})}addTags(){return p_(this,void 0,void 0,function*(){this.tagsList=yield this.tagService.readFromDB(),this.tagsList.forEach(t=>{this.searchString.push("#"+t.name+" -@"+t.link)})})}addDocos(){return p_(this,void 0,void 0,function*(){this.documentariesList=yield this.docoService.readFromDB();for(let t=0;t<this.documentariesList.length;t++){let e=this.documentariesList[t],n=e.name;n+=" | "+(yield(yield this.categoryService.getCategoryEntry(e.category)).name);for(let r=0;r<this.documentariesList[t].tags.length;r++){let e=this.documentariesList[t].tags[r];n+=" | "+(yield(yield this.tagService.getTagEntry(e)).name)}""!=e.studio&&(n+=" | "+e.studio),n+=" -@/"+e.link,this.searchString.push(n)}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(l_),r.Ib(b_),r.Ib(g_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-search"]],decls:8,vars:10,consts:[[1,"search"],["role","main",1,"content"],[1,"form-group"],["type","email","id","search-text","aria-describedby","search-text","placeholder","What are you looking for?","autofocus","",1,"form-control","searchbox",3,"ngModel","ngModelChange"],[1,"list-group","list-group-flush","searchLinks",3,"hidden"],["class","list-group-item","appHighlight","",3,"searchedWord","classToApply","setTitle","hidden",4,"ngFor","ngForOf"],["appHighlight","",1,"list-group-item",3,"searchedWord","classToApply","setTitle","hidden"],[1,"link",3,"routerLink","click"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"input",3),r.Sb("ngModelChange",function(t){return e.searchText=t}),r.Kb(),r.Kb(),r.Lb(4,"div",4),r.ic(5,E_,3,6,"div",5),r.Vb(6,"slice"),r.Vb(7,"appFilter"),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(3),r.bc("ngModel",e.searchText),r.yb(1),r.bc("hidden",""==e.searchText),r.yb(1),r.bc("ngForOf",r.Yb(6,3,r.Xb(7,7,e.searchString,e.searchText),0,5)))},directives:[Mt,oe,$e,A,__,Io],pipes:[z,O_],styles:[".list-group-item[_ngcontent-%COMP%]{padding:5px}.search[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px;position:relative;z-index:1}.searchLinks[_ngcontent-%COMP%]{border-radius:10px;background-color:#fff;position:absolute;padding:10px;width:900px;box-shadow:5px 10px 28px #353446}@media screen and (max-width:1200px){.searchLinks[_ngcontent-%COMP%]{width:900px}}@media screen and (max-width:1000px){.searchLinks[_ngcontent-%COMP%]{width:700px}}@media screen and (max-width:800px){.searchLinks[_ngcontent-%COMP%]{width:500px}}@media screen and (max-width:600px){.searchLinks[_ngcontent-%COMP%]{width:300px}}@media screen and (max-width:400px){.searchLinks[_ngcontent-%COMP%]{width:200px}}"]}),t})();function S_(t,e){if(1&t&&(r.Lb(0,"span",6),r.Lb(1,"a",7),r.Lb(2,"span",8),r.jc(3),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.cc("routerLink","/"+t.link),r.yb(2),r.kc("#"+t.name)}}function T_(t,e){if(1&t&&(r.Lb(0,"a",7),r.Lb(1,"span",14),r.jc(2),r.Kb(),r.Kb()),2&t){const t=r.Ub().$implicit;r.cc("routerLink",t.link),r.yb(2),r.lc("#",t.name,"")}}function k_(t,e){if(1&t&&(r.Lb(0,"div",6),r.ic(1,T_,3,2,"a",13),r.Kb()),2&t){const t=e.$implicit,n=r.Ub().$implicit;r.yb(1),r.bc("ngIf",t.category===n.id)}}function C_(t,e){if(1&t&&(r.Lb(0,"div",9),r.Lb(1,"div",10),r.Lb(2,"h3"),r.Lb(3,"a",11),r.jc(4),r.Kb(),r.Kb(),r.Lb(5,"p",12),r.jc(6),r.Kb(),r.ic(7,k_,2,1,"div",3),r.Kb(),r.Kb()),2&t){const t=e.$implicit,n=r.Ub();r.yb(3),r.cc("routerLink",t.link),r.yb(1),r.kc(t.name),r.yb(2),r.kc(t.description),r.yb(1),r.bc("ngForOf",n.tagsList)}}let I_=(()=>{class t{constructor(t,e){this.tagService=t,this.categoryService=e}ngOnInit(){this.listItems()}listItems(){return p_(this,void 0,void 0,function*(){yield this.delay(300),this.getCategoryList().then(()=>{this.getTagsList()})})}delay(t){return p_(this,void 0,void 0,function*(){return new Promise(e=>setTimeout(e,t))})}getCategoryList(){return p_(this,void 0,void 0,function*(){this.categoryList=yield this.categoryService.readFromDB()})}getTagsList(){return p_(this,void 0,void 0,function*(){this.tagsList=yield this.tagService.readFromDB()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(g_),r.Ib(l_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:13,vars:6,consts:[[1,"jumbotron"],[1,"jumbo"],[1,"tagslist"],["role","listitem","class","d-inline",4,"ngFor","ngForOf"],[1,"pageContent"],["role","listitem",4,"ngFor","ngForOf"],["role","listitem",1,"d-inline"],[3,"routerLink"],[1,"badge","badge-secondary","mb-3","mt-3","tag"],["role","listitem"],[1,"whiteBox"],[1,"majorHeading",3,"routerLink"],[1,"desc"],[3,"routerLink",4,"ngIf"],[1,"badge","badge-secondary","mb-3","mt-3","tag",2,"font-size","16px"]],template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Lb(1,"div",0),r.Lb(2,"div",1),r.Lb(3,"h1"),r.jc(4,"Doco Summaries"),r.Kb(),r.Lb(5,"p"),r.jc(6," A place where you can learn based on summaries from hundreds of documentaries. Search quick summaries or videos of documentaries of different categories! "),r.Kb(),r.Jb(7,"app-search"),r.Lb(8,"div",2),r.ic(9,S_,4,2,"span",3),r.Vb(10,"slice"),r.Kb(),r.Kb(),r.Kb(),r.Lb(11,"div",4),r.ic(12,C_,8,4,"div",5),r.Kb()),2&t&&(r.yb(9),r.bc("ngForOf",r.Yb(10,2,e.tagsList,0,8)),r.yb(3),r.bc("ngForOf",e.categoryList))},directives:[f_,x_,A,Io,R],pipes:[z],styles:[".jumbotron{background-color:#0f0e17;color:#ebe9e9;border-radius:0}  .jumbotron .tag{background-color:#ff9c2a;padding:20px}  .jumbotron .tag:hover{background-color:#ffc079}.jumbo[_ngcontent-%COMP%]{padding:150px 300px}@media screen and (max-width:1200px){.jumbo[_ngcontent-%COMP%]{padding:50px 10px}}.majorHeading[_ngcontent-%COMP%]{border-bottom:5px solid #ffb055;text-decoration:none;color:#15141b;transition:.3s;line-height:1.6}.majorHeading[_ngcontent-%COMP%]:hover{border-bottom:5px solid #ffd6a7;color:#676572}.tag[_ngcontent-%COMP%]{font-size:16px}"]}),t})();function j_(t,e){if(1&t&&(r.Lb(0,"div",7),r.Lb(1,"a",8),r.Lb(2,"span",9),r.jc(3),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.cc("routerLink","/"+t.link),r.yb(2),r.kc("#"+t.name)}}function A_(t,e){if(1&t&&(r.Lb(0,"div",7),r.Lb(1,"a",8),r.Lb(2,"span",9),r.jc(3),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.cc("routerLink","/"+t.link),r.yb(2),r.kc("#"+t.name)}}function P_(t,e){if(1&t&&(r.Lb(0,"div",10),r.Lb(1,"div",11),r.Lb(2,"h4"),r.Lb(3,"strong"),r.jc(4),r.Kb(),r.Kb(),r.Lb(5,"p"),r.jc(6),r.Kb(),r.Lb(7,"p"),r.jc(8),r.Kb(),r.ic(9,A_,4,2,"div",5),r.Lb(10,"div"),r.Lb(11,"a",8),r.Lb(12,"span",12),r.jc(13,"READ MORE >>"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(4),r.lc(" ",t.name," "),r.yb(2),r.kc(t.description),r.yb(2),r.kc(t.studio),r.yb(1),r.bc("ngForOf",t.tagObj),r.yb(2),r.cc("routerLink",t.link)}}let R_=(()=>{class t{constructor(t,e,n,r){this.route=t,this.categoryService=e,this.tagService=n,this.docoService=r,this.currentCategory={name:"",description:"",link:"",id:""},this.tagsInCategory=[],this.documentariesList=[],this.route.params.subscribe(t=>{this.listDocos()})}ngOnInit(){this.listDocos()}listDocos(){this.currentCategory={name:"",description:"",link:"",id:""};let t=window.location.href;this.categorylinkRoute=this.categoryService.getUrlDirectory(t,!1),this.getAllTags().then(()=>{this.getCurrentCategory().then(()=>{this.getAllDocos()})})}getAllTags(){return p_(this,void 0,void 0,function*(){let t=[];t=yield this.tagService.readFromDB(),this.tagsInCategory=this.tagService.getTagsForCategory(t,"id-"+this.categorylinkRoute)})}getCurrentCategory(){return p_(this,void 0,void 0,function*(){this.categoryService.getCategoryEntry("id-"+this.categorylinkRoute).then(t=>{this.currentCategory=t,this.currentCategory.id="id-"+this.categorylinkRoute,console.log("Entered: "+this.currentCategory.name)})})}getAllDocos(){return p_(this,void 0,void 0,function*(){let t=[];t=yield this.docoService.readFromDB(),this.documentariesList=this.docoService.getAllDocosForCategory(t,this.currentCategory)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ii),r.Ib(l_),r.Ib(g_),r.Ib(b_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-category"]],decls:13,vars:5,consts:[[1,"pageContent"],[1,"breadcrumbs"],["routerLink","/"],[1,"desc"],[1,"margin-b-large"],["role","listitem","class","d-inline",4,"ngFor","ngForOf"],["role","listitem",4,"ngFor","ngForOf"],["role","listitem",1,"d-inline"],[3,"routerLink"],[1,"badge","badge-secondary","mb-3","mt-3","tag"],["role","listitem"],[1,"whiteBox"],[1,"badge","badge-secondary","mb-3","mt-3","readMore"]],template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Lb(1,"div",0),r.Lb(2,"span",1),r.Lb(3,"a",2),r.jc(4,"All Categories"),r.Kb(),r.jc(5),r.Kb(),r.Lb(6,"h2"),r.jc(7),r.Kb(),r.Lb(8,"p",3),r.jc(9),r.Kb(),r.Lb(10,"div",4),r.ic(11,j_,4,2,"div",5),r.Kb(),r.ic(12,P_,14,5,"div",6),r.Kb()),2&t&&(r.yb(5),r.lc(" >> ",e.currentCategory.name," "),r.yb(2),r.kc(e.currentCategory.name),r.yb(2),r.kc(e.currentCategory.description),r.yb(2),r.bc("ngForOf",e.tagsInCategory),r.yb(1),r.bc("ngForOf",e.documentariesList))},directives:[f_,Io,A],styles:[".tag[_ngcontent-%COMP%]{font-size:16px}.majorHeading[_ngcontent-%COMP%], .readMore[_ngcontent-%COMP%]{text-decoration:none}.readMore[_ngcontent-%COMP%]{background-color:#ffb764;font-size:16px;padding:15px 25px}.readMore[_ngcontent-%COMP%]:hover{background-color:#ffc98b;text-decoration:none;color:#fff}"]}),t})();function N_(t,e){if(1&t&&(r.Lb(0,"div",9),r.Lb(1,"a",3),r.Lb(2,"span",10),r.jc(3),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.cc("routerLink","/"+t.link),r.yb(2),r.kc("#"+t.name)}}function D_(t,e){if(1&t&&(r.Lb(0,"div",5),r.Lb(1,"div",6),r.Lb(2,"h4"),r.Lb(3,"strong"),r.jc(4),r.Kb(),r.Kb(),r.Lb(5,"p"),r.jc(6),r.Kb(),r.Lb(7,"p"),r.jc(8),r.Kb(),r.ic(9,N_,4,2,"div",7),r.Lb(10,"div"),r.Lb(11,"a",3),r.Lb(12,"span",8),r.jc(13,"READ MORE >>"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(4),r.kc(t.name),r.yb(2),r.kc(t.description),r.yb(2),r.kc(t.studio),r.yb(1),r.bc("ngForOf",t.tagObj),r.yb(2),r.cc("routerLink",t.link)}}let L_=(()=>{class t{constructor(t,e,n,r){this.route=t,this.categoryService=e,this.tagService=n,this.docoService=r,this.currentCategory={name:"",description:"",link:"",id:""},this.currentTag={name:"",link:"",id:"",category:""},this.documentariesList=[],this.route.params.subscribe(t=>{this.listDocos()})}ngOnInit(){this.listDocos()}listDocos(){this.currentCategory={name:"",description:"",link:"",id:""};let t=window.location.href;this.tagLinkRoute=this.tagService.getUrlDirectory(t),this.categoryLinkRoute=this.categoryService.getUrlDirectory(t,!0),this.getCurrentTag().then(()=>{this.getCurrentCategory().then(()=>{this.getAllDocos()})})}getCurrentTag(){return p_(this,void 0,void 0,function*(){this.tagService.getTagEntry("id-"+this.tagLinkRoute).then(t=>{this.currentTag=t,this.currentTag.id="id-"+this.tagLinkRoute,this.getCurrentCategory()})})}getCurrentCategory(){return p_(this,void 0,void 0,function*(){this.categoryService.getCategoryEntry("id-"+this.categoryLinkRoute).then(t=>{this.currentCategory=t,this.currentCategory.id="id-"+this.tagLinkRoute})})}getAllDocos(){return p_(this,void 0,void 0,function*(){let t=[];t=yield this.docoService.readFromDB(),this.documentariesList=this.docoService.getAllDocosForTag(t,this.currentTag.id)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ii),r.Ib(l_),r.Ib(g_),r.Ib(b_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-tag"]],decls:12,vars:5,consts:[[1,"pageContent"],[1,"breadcrumbs"],["routerLink","/"],[3,"routerLink"],["role","listitem",4,"ngFor","ngForOf"],["role","listitem"],[1,"whiteBox"],["role","listitem","class","d-inline",4,"ngFor","ngForOf"],[1,"badge","badge-secondary","mb-3","mt-3","readMore"],["role","listitem",1,"d-inline"],[1,"badge","badge-secondary","mb-3","mt-3","tag"]],template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Lb(1,"div",0),r.Lb(2,"span",1),r.Lb(3,"a",2),r.jc(4,"All Categories"),r.Kb(),r.jc(5," >> "),r.Lb(6,"a",3),r.jc(7),r.Kb(),r.jc(8),r.Kb(),r.Lb(9,"h2"),r.jc(10),r.Kb(),r.ic(11,D_,14,5,"div",4),r.Kb()),2&t&&(r.yb(6),r.dc("routerLink","/",e.currentCategory.link,""),r.yb(1),r.kc(e.currentCategory.name),r.yb(1),r.lc(" >> ",e.currentTag.name," "),r.yb(2),r.lc("",e.currentTag.name," Documentaries"),r.yb(1),r.bc("ngForOf",e.documentariesList))},directives:[f_,Io,A],styles:[".readMore[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%]{font-size:16px}.readMore[_ngcontent-%COMP%]{background-color:#ffb764;padding:15px 25px}.readMore[_ngcontent-%COMP%]:hover{background-color:#ffc98b;text-decoration:none;color:#fff}"]}),t})();var U_=n("DlQD");class V_{}class M_{}class F_{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof F_?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new F_;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof F_?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class H_{encodeKey(t){return z_(t)}encodeValue(t){return z_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function z_(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class q_{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new H_,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new q_({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function B_(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function K_(t){return"undefined"!=typeof Blob&&t instanceof Blob}function $_(t){return"undefined"!=typeof FormData&&t instanceof FormData}class G_{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new F_),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new q_,this.urlWithParams=e}serializeBody(){return null===this.body?null:B_(this.body)||K_(this.body)||$_(this.body)||"string"==typeof this.body?this.body:this.body instanceof q_?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$_(this.body)?null:K_(this.body)?this.body.type||null:B_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof q_?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new G_(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var W_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class J_{constructor(t,e=200,n="OK"){this.headers=t.headers||new F_,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Z_ extends J_{constructor(t={}){super(t),this.type=W_.ResponseHeader}clone(t={}){return new Z_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class X_ extends J_{constructor(t={}){super(t),this.type=W_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new X_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Y_ extends J_{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Q_(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let tO=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof G_)r=t;else{let i=void 0;i=n.headers instanceof F_?n.headers:new F_(n.headers);let o=void 0;n.params&&(o=n.params instanceof q_?n.params:new q_({fromObject:n.params})),r=new G_(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Ze.a)(r).pipe(Ln(t=>this.handler.handle(t)));if(t instanceof G_||"events"===n.observe)return i;const o=i.pipe(In(t=>t instanceof X_));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(jt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(jt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(jt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(jt.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new q_).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Q_(n,e))}post(t,e,n={}){return this.request("POST",t,Q_(n,e))}put(t,e,n={}){return this.request("PUT",t,Q_(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(V_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class eO{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const nO=new r.q("HTTP_INTERCEPTORS");let rO=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const iO=/^\)\]\}',?\n/;class oO{}let sO=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),aO=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ct.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new F_(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Z_({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(iO,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new X_({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new Y_({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new Y_({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:W_.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:W_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:W_.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(oO))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const uO=new r.q("XSRF_COOKIE_NAME"),cO=new r.q("XSRF_HEADER_NAME");class lO{}let hO=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=I(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(r.B),r.Pb(uO))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),fO=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(lO),r.Pb(cO))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),dO=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(nO,[]);this.chain=t.reduceRight((t,e)=>new eO(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(M_),r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),pO=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:fO,useClass:rO}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:uO,useValue:e.cookieName}:[],e.headerName?{provide:cO,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[fO,{provide:nO,useExisting:fO,multi:!0},{provide:lO,useClass:hO},{provide:uO,useValue:"XSRF-TOKEN"},{provide:cO,useValue:"X-XSRF-TOKEN"}]}),t})(),gO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[tO,{provide:V_,useClass:dO},aO,{provide:M_,useExisting:aO},sO,{provide:oO,useExisting:sO}],imports:[[pO.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const bO=["*"];class yO{}const mO=new r.q("SECURITY_CONTEXT");let vO=(()=>{class t{constructor(t,e,n,r,i){this.platform=t,this.securityContext=e,this.http=n,this.sanitizer=i,this.initialMarkedOptions={renderer:new U_.Renderer},this.options=r}get options(){return this._options}set options(t){this._options=Object.assign(Object.assign({},this.initialMarkedOptions),t)}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}compile(t,e=!1,n=!1,r=this.options){const i=this.trimIndentation(t),o=e?this.decodeHtml(i):i,s=n?this.renderEmoji(o):o,a=Object(U_.parse)(s,r);return this.sanitizer.sanitize(this.securityContext,a)||""}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Object(jt.a)(e=>this.handleExtension(t,e)))}highlight(t){if(B(this.platform)&&"undefined"!=typeof Prism){t||(t=document);const e=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(e,t=>t.classList.add("language-none")),Prism.highlightAllUnder(t)}}renderKatex(t,e){if(!B(this.platform))return t;if("undefined"==typeof katex||void 0===katex.renderToString)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");return t.replace(/\$([^\s][^$]*?[^\s])\$/gm,(t,n)=>katex.renderToString(n,e))}decodeHtml(t){if(!B(this.platform))return t;const e=document.createElement("textarea");return e.innerHTML=t,e.value}handleExtension(t,e){const n=t?t.split("?")[0].split(".").splice(-1).join():null;return"md"!==n?"```"+n+"\n"+e+"\n```":e}renderEmoji(t){if(!B(this.platform))return t;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}trimIndentation(t){if(!t)return"";let e;return t.split("\n").map(t=>{let n=e;return t.length>0&&(n=isNaN(n)?t.search(/\S|$/):Math.min(t.search(/\S|$/),n)),isNaN(e)&&(e=n),n?t.substring(n):t}).join("\n")}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.B),r.Pb(mO),r.Pb(tO,8),r.Pb(yO,8),r.Pb(wt))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();var wO=function(t){return t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",t}({});let _O=(()=>{class t{constructor(t,e){this.element=t,this.markdownService=e,this.error=new r.n,this.load=new r.n,this.ready=new r.n,this._emoji=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}ngOnChanges(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){this.data||this.src||this.handleTransclusion()}render(t,e=!1){let n=this.markdownService.compile(t,e,this.emoji);n=this.katex?this.markdownService.renderKatex(n,this.katexOptions):n,this.element.nativeElement.innerHTML=n,this.handlePlugins(),this.markdownService.highlight(this.element.nativeElement),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&""+t!="false"}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe(t=>{this.render(t),this.load.emit(t)},t=>this.error.emit(t))}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.lineHighlight&&(this.setPluginClass(this.element.nativeElement,wO.LineHighlight),this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset})),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,wO.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,e){const n=t.querySelectorAll("pre");for(let r=0;r<n.length;r++){const t=e instanceof Array?e:[e];n.item(r).classList.add(...t)}}setPluginOptions(t,e){const n=t.querySelectorAll("pre");for(let r=0;r<n.length;r++)Object.keys(e).forEach(t=>{const i=e[t];if(i){const e=this.toLispCase(t);n.item(r).setAttribute(e,i.toString())}})}toLispCase(t){const e=t.match(/([A-Z])/g);if(!e)return t;let n=t.toString();for(let r=0,i=e.length;r<i;r++)n=n.replace(new RegExp(e[r]),"-"+e[r].toLowerCase());return"-"===n.slice(0,1)&&(n=n.slice(1)),n}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(vO))},t.\u0275cmp=r.Cb({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{emoji:"emoji",katex:"katex",lineHighlight:"lineHighlight",lineNumbers:"lineNumbers",data:"data",src:"src",katexOptions:"katexOptions",line:"line",lineOffset:"lineOffset",start:"start"},outputs:{error:"error",load:"load",ready:"ready"},features:[r.wb],ngContentSelectors:bO,decls:1,vars:0,template:function(t,e){1&t&&(r.ac(),r.Zb(0))},encapsulation:2}),t})(),OO=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[vO,e&&e.loader||[],e&&e.markedOptions||[],{provide:mO,useValue:e&&null!=e.sanitize?e.sanitize:r.H.HTML}]}}static forChild(){return{ngModule:t}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})();function EO(t,e){if(1&t&&(r.Lb(0,"div",9),r.Lb(1,"a",3),r.Lb(2,"span",10),r.jc(3),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.cc("routerLink","/"+t.link),r.yb(2),r.kc("#"+t.name)}}const xO=[{path:"admin",component:v_},{path:"about",component:d_},{path:"contact",component:w_},{path:"",component:I_},{path:":cat",component:R_},{path:":cat/:tag",component:L_},{path:":cat/article/:article",component:(()=>{class t{constructor(t,e,n,r){this.route=t,this.docoService=e,this.categoryService=n,this.tagService=r,this.currentCategory={name:"",description:"",link:"",id:""},this.relatedTags=[],this.currentDoco=new Zo,this.route.params.subscribe(t=>{this.articleName=t.article,this.getCurrentDoco().then(()=>{this.getCurrentCategory()})})}ngOnInit(){this.articleName=this.route.snapshot.paramMap.get("article"),this.post="./assets/articles/"+this.articleName+".md",this.getCurrentDoco().then(()=>{this.getCurrentCategory(),this.getRelatedTags()})}getCurrentDoco(){return p_(this,void 0,void 0,function*(){this.documentariesList=yield this.docoService.readFromDB(),this.documentariesList.forEach(t=>{t.link.toString().includes(this.articleName)&&(this.currentDoco=t)})})}getRelatedTags(){return p_(this,void 0,void 0,function*(){let t=[];t=yield this.tagService.readFromDB(),t.forEach(t=>{this.currentDoco.tags.includes(t.id)&&this.relatedTags.push(t)})})}getCurrentCategory(){return p_(this,void 0,void 0,function*(){this.currentCategory=yield this.categoryService.getCategoryEntry(this.currentDoco.category)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ii),r.Ib(b_),r.Ib(l_),r.Ib(g_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-documentary"]],decls:33,vars:11,consts:[[1,"pageContent"],[1,"breadcrumbs"],["routerLink","/"],[3,"routerLink"],[1,"whiteBox"],[3,"href"],[1,"tagslist"],["role","listitem","class","d-inline",4,"ngFor","ngForOf"],["markdown","",3,"src"],["role","listitem",1,"d-inline"],[1,"badge","badge-secondary","mb-3","mt-3","tag"]],template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Lb(1,"div",0),r.Lb(2,"span",1),r.Lb(3,"a",2),r.jc(4,"All Categories"),r.Kb(),r.jc(5," >> "),r.Lb(6,"a",3),r.jc(7),r.Kb(),r.jc(8),r.Kb(),r.Lb(9,"h2"),r.jc(10),r.Kb(),r.Jb(11,"br"),r.Lb(12,"div",4),r.Lb(13,"p"),r.Lb(14,"b"),r.jc(15,"Description:"),r.Kb(),r.jc(16),r.Kb(),r.Lb(17,"p"),r.Lb(18,"b"),r.jc(19,"Find on Youtube: "),r.Kb(),r.Lb(20,"a",5),r.jc(21),r.Kb(),r.Kb(),r.Lb(22,"p"),r.Lb(23,"b"),r.jc(24,"Producer:"),r.Kb(),r.jc(25),r.Kb(),r.Lb(26,"p"),r.Lb(27,"b"),r.jc(28,"Studio:"),r.Kb(),r.jc(29),r.Kb(),r.Lb(30,"div",6),r.ic(31,EO,4,2,"div",7),r.Kb(),r.Jb(32,"div",8),r.Kb(),r.Kb()),2&t&&(r.yb(6),r.dc("routerLink","/",e.currentCategory.link,""),r.yb(1),r.kc(e.currentCategory.name),r.yb(1),r.lc(" >> ",e.currentDoco.name," "),r.yb(2),r.kc(e.currentDoco.name),r.yb(6),r.lc(" ",e.currentDoco.description,""),r.yb(4),r.cc("href",e.currentDoco.linkToDoco,r.gc),r.yb(1),r.kc(e.currentDoco.linkToDoco),r.yb(4),r.lc(" ",e.currentDoco.producer,""),r.yb(4),r.lc(" ",e.currentDoco.studio,""),r.yb(2),r.bc("ngForOf",e.relatedTags),r.yb(1),r.bc("src",e.post))},directives:[f_,Io,A,_O],styles:[".tag[_ngcontent-%COMP%]{font-size:16px}"]}),t})()}];let SO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[Ho.forRoot(xO)],Ho]}),t})(),TO=(()=>{class t{constructor(){this.title="docosummaries"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:[Ao],styles:[".content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]{padding:1.5rem;border:solid #f8f9fa;position:relative;margin:1rem;min-width:500px}"]}),t})();class kO{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new CO(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class CO extends en.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Xe.a,n.set(e,i);const t=new jO(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new jO(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new IO(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class IO extends en.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class jO extends Ct.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new Zn.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new AO(n)),e.add(r.subscribe(t)),e}}class AO extends Zn.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}const PO=new r.q("angularfire2.analytics.analyticsCollectionEnabled"),RO=new r.q("angularfire2.analytics.appVersion"),NO=new r.q("angularfire2.analytics.appName"),DO=new r.q("angularfire2.analytics.debugMode"),LO=new r.q("angularfire2.analytics.config");let UO=(()=>{class t{constructor(t,e,r,i,o,s,a,u){if(this.analyticsInitialized=new Promise(()=>{}),B(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),o&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),s&&this.updateConfig(s),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const c=Object(Ze.a)(void 0).pipe(Object(cs.b)(new ls.e(u).outsideAngular),gn(()=>B(a)?u.runOutsideAngular(()=>n.e(4).then(n.bind(null,"AAub"))):fn.a),Object(jt.a)(()=>Object(ls.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,s,o])),Vw({bufferSize:1,refCount:!1}));return Object(ls.j)(this,c,u)}updateConfig(t){return p_(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ls.d),r.Pb(PO,8),r.Pb(RO,8),r.Pb(NO,8),r.Pb(DO,8),r.Pb(LO,8),r.Pb(r.B),r.Pb(r.z))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(ls.d),Object(r.Pb)(PO,8),Object(r.Pb)(RO,8),Object(r.Pb)(NO,8),Object(r.Pb)(DO,8),Object(r.Pb)(LO,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z))},token:t,providedIn:"any"}),t})();Object(ls.f)(UO,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]);let VO=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],K(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(UO),r.Pb(r.B),r.Pb(Gw),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const MO="screen_class";let FO=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const HO={},zO=t=>{const e=[t.screen_class,t.outlet].join("#");if(HO.hasOwnProperty(e))return HO[e];{const t=FO++;return HO[e]=t,t}};let qO=(()=>{class t{constructor(t,e,n,r,i,o,s){if(!e||!B(i))return this;o.runOutsideAngular(()=>{const i=e.events.pipe(In(t=>t instanceof pr));var o;this.disposable=i.pipe(gn(t=>{var i;const o=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",s=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!s)return Object(Ze.a)(null);let a=s;for(;a.firstChild;)a=a.firstChild;const u=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",c={screen_name:u,page_path:"/"+o,firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};n&&(c.page_title=n.getTitle());let l=s.component;if(l){if(l===Ri){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return Object(Ze.a)(Object.assign(Object.assign({},c),{[MO]:l}));if(l){const t=r.resolveComponentFactory(l);return Object(Ze.a)(Object.assign(Object.assign({},c),{[MO]:t.selector}))}return Object(Ze.a)(null)}),In(t=>t),Object(jt.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:zO(t)},t)),(o=t=>t.outlet,t=>t.lift(new kO(o,void 0,void 0,void 0))),Object(Dn.a)(e=>e.pipe(ss((t,e)=>JSON.stringify(t)===JSON.stringify(e)),Sn(void 0),rs(),Object(jt.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),gn(e=>p_(this,void 0,void 0,function*(){return s&&(yield s.initialized),yield t.logEvent("screen_view",e)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(UO),r.Pb(Co,8),r.Pb(kt,8),r.Pb(r.j),r.Pb(r.B),r.Pb(r.z),r.Pb(VO,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),BO=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(UO),r.Pb(qO,8),r.Pb(VO,8))},providers:[UO]}),t})();class KO{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new $O(t,this.dueTime,this.scheduler))}}class $O extends en.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(GO,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function GO(t){t.debouncedNext()}var WO="firebasestorage.googleapis.com",JO=function(t){function e(n,r){var i=t.call(this,QO(n),"Firebase Storage: "+r+" ("+QO(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(bl.c)(e,t),e.prototype.codeEquals=function(t){return QO(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(ps.c),ZO="canceled",XO="invalid-argument",YO="unsupported-environment";function QO(t){return"storage/"+t}function tE(){return new JO("unknown","An unknown error occurred, please check the error payload for server response.")}function eE(){return new JO(ZO,"User canceled the upload/download.")}function nE(){return new JO("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function rE(t){return new JO(XO,t)}function iE(){return new JO("app-deleted","The Firebase app was deleted.")}function oE(t){return new JO("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sE(t,e){return new JO("invalid-format","String does not match format '"+t+"': "+e)}function aE(t){throw new JO("internal-error","Internal error: "+t)}var uE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},cE=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function lE(t,e){switch(t){case uE.RAW:return new cE(hE(e));case uE.BASE64:case uE.BASE64URL:return new cE(fE(t,e));case uE.DATA_URL:return new cE((n=new dE(e)).base64?fE(uE.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(jw){throw sE(uE.DATA_URL,"Malformed data URL.")}return hE(e)}(n.rest),new dE(e).contentType)}var n;throw tE()}function hE(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function fE(t,e){switch(t){case uE.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw sE(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case uE.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw sE(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(jw){throw sE(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var dE=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw sE(uE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),pE="running",gE="pausing",bE="paused",yE="success",mE="canceling",vE="canceled",wE="error",_E={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function OE(t){switch(t){case pE:case gE:case mE:return _E.RUNNING;case bE:return _E.PAUSED;case yE:return _E.SUCCESS;case vE:return _E.CANCELED;case wE:default:return _E.ERROR}}var EE=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),xE=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=EE.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=EE.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=EE.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw aE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw aE("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw aE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(jw){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw aE("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),SE=function(){function t(){}return t.prototype.createXhrIo=function(){return new xE},t}();function TE(t){return"string"==typeof t||t instanceof String}function kE(t){return CE()&&t instanceof Blob}function CE(){return"undefined"!=typeof Blob}function IE(t,e,n,r){if(r<e)throw new JO(XO,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new JO(XO,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function jE(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function AE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=jE();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(CE())return new Blob(t);throw new JO(YO,"This browser doesn't seem to support creating Blobs")}var PE=function(){function t(t,e){var n=0,r="";kE(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(kE(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(CE()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(AE.apply(null,r))}var i=e.map(function(t){return TE(t)?lE(uE.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),RE=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(jw){return new t(e,"")}if(""===n.path)return n;throw new JO("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=WO.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new JO("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function NE(t){var e,n;try{e=JSON.parse(t)}catch(jw){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function DE(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function LE(t){return"https://"+WO+"/v0"+t}function UE(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function VE(t,e){return e}var ME=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||VE}}(),FE=null;function HE(){if(FE)return FE;var t=[];t.push(new ME("bucket")),t.push(new ME("generation")),t.push(new ME("metageneration")),t.push(new ME("name","fullPath",!0));var e=new ME("name");e.xform=function(t,e){return function(t){return!TE(t)||t.length<2?t:DE(t)}(e)},t.push(e);var n=new ME("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new ME("timeCreated")),t.push(new ME("updated")),t.push(new ME("md5Hash",null,!0)),t.push(new ME("cacheControl",null,!0)),t.push(new ME("contentDisposition",null,!0)),t.push(new ME("contentEncoding",null,!0)),t.push(new ME("contentLanguage",null,!0)),t.push(new ME("contentType",null,!0)),t.push(new ME("metadata","customMetadata",!0)),FE=t}function zE(t,e,n){var r=NE(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new RE(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function qE(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var BE=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function KE(t){if(!t)throw tE()}function $E(t,e){return function(n,r){var i=zE(t,r,e);return KE(null!==i),i}}function GE(t){return function(e,n){var r;return(r=401===e.getStatus()?new JO("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new JO("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new JO("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function WE(t){var e=GE(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new JO("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function JE(t,e,n){var r=LE(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new BE(r,"GET",$E(t,n),i);return o.errorHandler=WE(e),o}function ZE(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var XE=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function YE(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(jw){KE(!1)}return KE(!!n&&-1!==(e||["active"]).indexOf(n)),n}var QE=262144,tx=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),ex=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function nx(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var rx=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=HE(),this._resumable=this._shouldDoResumable(this._blob),this._state=pE,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(ZO)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(wE))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(ZO)?r.completeTransitions_():(r._error=t,r._transition(wE))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===pE&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case pE:t(n);break;case mE:e._transition(vE);break;case gE:e._transition(bE)}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=ZE(e,r,i),a={name:s.fullPath},u=LE(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=qE(s,n),h=new BE(u,"POST",function(t){var e;YE(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(jw){KE(!1)}return KE(TE(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=GE(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new BE(n,"POST",function(t){var e=YE(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(jw){KE(!1)}n||KE(!1);var i=Number(n);return KE(!isNaN(i)),new XE(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=GE(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=QE*this._chunkMultiplier,n=new XE(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new XE(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new JO("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw nE();var p=new BE(n,"POST",function(t,n){var i,s=YE(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?$E(e,o)(t,n):null,new XE(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=GE(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(jw){return t._error=jw,void t._transition(wE)}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(yE)):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){QE*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=JE(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition(yE)},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=ZE(e,r,i),c=qE(u,n),l=PE.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw nE();var h={name:u.fullPath},f=LE(o),d=t.maxUploadRetryTime,p=new BE(f,"POST",$E(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=GE(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(yE)},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case mE:case gE:this._state=t,void 0!==this._request&&this._request.cancel();break;case pE:var e=this._state===bE;this._state=t,e&&(this._notifyObservers(),this._start());break;case bE:this._state=t,this._notifyObservers();break;case vE:this._error=eE(),this._state=t,this._notifyObservers();break;case wE:case yE:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case gE:this._transition(bE);break;case mE:this._transition(vE);break;case pE:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=OE(this._state);return new ex(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new tx(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(OE(this._state)){case _E.SUCCESS:nx(this._resolve.bind(null,this.snapshot))();break;case _E.CANCELED:case _E.ERROR:nx(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(OE(this._state)){case _E.RUNNING:case _E.PAUSED:t.next&&nx(t.next.bind(t,this.snapshot))();break;case _E.SUCCESS:t.complete&&nx(t.complete.bind(t))();break;case _E.CANCELED:case _E.ERROR:t.error&&nx(t.error.bind(t,this._error))();break;default:t.error&&nx(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===bE||this._state===gE;return t&&this._transition(pE),t},t.prototype.pause=function(){var t=this._state===pE;return t&&this._transition(gE),t},t.prototype.cancel=function(){var t=this._state===pE||this._state===gE;return t&&this._transition(mE),t},t}(),ix=function(){function t(t,e){this._service=t,this._location=e instanceof RE?e:RE.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new RE(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return DE(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new RE(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw oE(t)},t}();function ox(t){var e={prefixes:[],items:[]};return sx(t,e).then(function(){return e})}function sx(t,e,n){return Object(bl.b)(this,void 0,void 0,function(){var r,i,o;return Object(bl.d)(this,function(s){switch(s.label){case 0:return[4,ax(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,sx(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function ax(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r,i;return Object(bl.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&IE("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=LE(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new BE(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=NE(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new RE(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new RE(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return KE(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=GE(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function ux(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new RE(t._location.bucket,n);return new ix(t.storage,r)}var cx=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),lx=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new cx(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new cx(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new cx(t,i,i._ref))}:{next:e.next?function(t){return e.next(new cx(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),hx=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new fx(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new fx(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),fx=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(ux(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new lx(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new rx(t,new PE(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=uE.RAW),this._throwIfRoot("putString"),new lx(function(t,e,n,r){void 0===n&&(n=uE.RAW),t._throwIfRoot("putString");var i=lE(n,e),o=Object(bl.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new rx(t,new PE(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return ox(this._delegate).then(function(e){return new hx(e,t.storage)})},t.prototype.list=function(t){var e=this;return ax(this._delegate,t).then(function(t){return new hx(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=JE(t.storage,t._location,HE()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(bl.b)(this,void 0,void 0,function(){var n,r;return Object(bl.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=LE(e.fullServerUrl()),o=qE(n,r),s=t.maxOperationRetryTime,a=new BE(i,"PATCH",$E(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=WE(e),a}(t.storage,t._location,e,HE()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=LE(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new BE(r,"GET",function(t,e){return function(n,r){var i=zE(t,r,e);return KE(null!==i),function(t,e){var n=NE(e);if(null===n)return null;if(!TE(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return LE("/b/"+i(t.bucket)+"/o/"+i(n))+UE({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=WE(e),o}(t.storage,t._location,HE()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new JO("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(bl.b)(this,void 0,void 0,function(){var e,n;return Object(bl.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=LE(e.fullServerUrl()),r=new BE(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=WE(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw oE(t)},t}(),dx=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),px=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(jw){o(jw)}else null!==s?((r=tE()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?iE():eE():new JO("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new gx(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new gx(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===EE.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new gx(s,n))}else{var a=n.getErrorCode()===EE.ABORT;e(!1,new gx(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(bl.g)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(bl.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),gx=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function bx(t){return/^[A-Za-z]+:\/\//.test(t)}function yx(t,e){if(t instanceof _x){var n=t;if(null==n._bucket)throw new JO("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new ix(n,n._bucket);return null!=e?yx(r,e):r}if(void 0!==e){if(e.includes(".."))throw rE('`path` param cannot contain ".."');return ux(t,e)}return t}function mx(t,e){if(e&&bx(e)){if(t instanceof _x)return new ix(t,e);throw rE("To use ref(service, url), the first argument must be a Storage instance.")}return yx(t,e)}var vx,wx,_x=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?RE.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:RE.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){IE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){IE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(bl.b)(this,void 0,void 0,function(){var t,e;return Object(bl.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new ix(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new dx(iE());var r=function(t,e,n,r){var i=UE(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==fs.a?fs.a.SDK_VERSION:"AppManager")}(s),new px(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),Ox=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(bx(t))throw rE("ref() expected a child path but got a URL, use refFromURL instead.");return new fx(mx(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!bx(t))throw rE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{RE.makeFromUrl(t)}catch(jw){throw rE("refFromUrl() expected a valid full URL but got an invalid one.")}return new fx(mx(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function Ex(t){const e=function(t){return new Ct.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=ns.a){return n=>n.lift(new KO(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(jt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function xx(t,e,n){return{getDownloadURL:()=>Object(Ze.a)(void 0).pipe(Object(cs.b)(e.outsideAngular),gn(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Ze.a)(void 0).pipe(Object(cs.b)(e.outsideAngular),gn(()=>t.getMetadata()),n),delete:()=>Object(Pt.a)(t.delete()),child:r=>xx(t.child(r),e,n),updateMetadata:e=>Object(Pt.a)(t.updateMetadata(e)),put:(e,n)=>Ex(t.put(e,n)),putString:(e,n,r)=>Ex(t.putString(e,n,r)),listAll:()=>Object(Pt.a)(t.listAll())}}wx={TaskState:_E,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:uE,Storage:_x,Reference:fx},(vx=fs.a).INTERNAL.registerComponent(new Aw.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Ox(n,new _x(n,r,new SE,e))},"PUBLIC").setServiceProps(wx).setMultipleInstances(!0)),vx.registerVersion("@firebase/storage","0.4.2");const Sx=new r.q("angularfire2.storageBucket"),Tx=new r.q("angularfire2.storage.maxUploadRetryTime"),kx=new r.q("angularfire2.storage.maxOperationRetryTime");let Cx=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new ls.e(i),this.keepUnstableUntilFirst=Object(ls.i)(this.schedulers);const a=Object(ls.h)(t,i,e);this.storage=Object(ls.g)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return xx(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return xx(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return xx(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ls.c),r.Pb(ls.b,8),r.Pb(Sx,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Tx,8),r.Pb(kx,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(ls.c),Object(r.Pb)(ls.b,8),Object(r.Pb)(Sx,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Tx,8),Object(r.Pb)(kx,8))},token:t,providedIn:"any"}),t})(),Ix=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),jx=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Cx],imports:[Ix]}),t})(),Ax=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[q,Ho,Je]]}),t})(),Px=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[TO]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[Ax,St,SO,Je,ls.a.initializeApp(i),BO,c_,jx,gO,OO.forRoot({loader:tO,sanitize:r.H.NONE})]]}),t})();Object(r.S)(),Et().bootstrapModule(Px).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);