(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("uXP2"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},DlQD:function(t,e,n){t.exports=function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,n){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}var r=function(t,e){return function(t){function e(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:e,changeDefaults:function(e){t.exports.defaults=e}}}(e={exports:{}}),e.exports}(),i=/[&<>"']/,o=/[&<>"']/g,s=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=function(t){return u[t]},l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(t){return t.replace(l,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}var f=/(^|[^\[])\^/g,d=/[^\w:]/g,p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,g={},b=/^[^:]+:\/*[^/]*$/,m=/^([^:]+:)[\s\S]*$/,y=/^([^:]+:\/*[^/]*)[\s\S]*$/;function v(t,e,n){var r=t.length;if(0===r)return"";for(var i=0;i<r;){var o=t.charAt(r-i-1);if(o!==e||n){if(o===e||!n)break;i++}else i++}return t.substr(0,r-i)}var w=function(t,e){if(e){if(i.test(t))return t.replace(o,c)}else if(s.test(t))return t.replace(a,c);return t},_=h,O=function(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},x=r.defaults,E=v,S=function(t,e){var n=t.replace(/\|/g,function(t,e,n){for(var r=!1,i=e;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},T=w;function C(t,e,n){var r=e.href,i=e.title?T(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");return"!"!==t[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:o}:{type:"image",raw:n,href:r,title:i,text:T(o)}}var k=function(){function t(t){this.options=t||x}var e=t.prototype;return e.space=function(t){var e=this.rules.block.newline.exec(t);if(e)return e[0].length>1?{type:"space",raw:e[0]}:{raw:"\n"}},e.code=function(t,e){var n=this.rules.block.code.exec(t);if(n){var r=e[e.length-1];if(r&&"paragraph"===r.type)return{raw:n[0],text:n[0].trimRight()};var i=n[0].replace(/^ {4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:E(i,"\n")}}},e.fences=function(t){var e=this.rules.block.fences.exec(t);if(e){var n=e[0],r=function(t,e){var n=t.match(/^(\s+)(?:```)/);if(null===n)return e;var r=n[1];return e.split("\n").map(function(t){var e=t.match(/^\s+/);return null===e?t:e[0].length>=r.length?t.slice(r.length):t}).join("\n")}(n,e[3]||"");return{type:"code",raw:n,lang:e[2]?e[2].trim():e[2],text:r}}},e.heading=function(t){var e=this.rules.block.heading.exec(t);if(e){var n=e[2].trim();if(/#$/.test(n)){var r=E(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n}}},e.nptable=function(t){var e=this.rules.block.nptable.exec(t);if(e){var n={type:"table",header:S(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[],raw:e[0]};if(n.header.length===n.align.length){var r,i=n.align.length;for(r=0;r<i;r++)n.align[r]=/^ *-+: *$/.test(n.align[r])?"right":/^ *:-+: *$/.test(n.align[r])?"center":/^ *:-+ *$/.test(n.align[r])?"left":null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=S(n.cells[r],n.header.length);return n}}},e.hr=function(t){var e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}},e.blockquote=function(t){var e=this.rules.block.blockquote.exec(t);if(e){var n=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],text:n}}},e.list=function(t){var e=this.rules.block.list.exec(t);if(e){var n,r,i,o,s,a,u,c,l=e[0],h=e[2],f=h.length>1,d={type:"list",raw:l,ordered:f,start:f?+h.slice(0,-1):"",loose:!1,items:[]},p=e[0].match(this.rules.block.item),g=!1,b=p.length;i=this.rules.block.listItemStart.exec(p[0]);for(var m=0;m<b;m++){if(l=n=p[m],m!==b-1){if((o=this.rules.block.listItemStart.exec(p[m+1]))[1].length>i[0].length||o[1].length>3){p.splice(m,2,p[m]+"\n"+p[m+1]),m--,b--;continue}(!this.options.pedantic||this.options.smartLists?o[2][o[2].length-1]!==h[h.length-1]:f===(1===o[2].length))&&(s=p.slice(m+1).join("\n"),d.raw=d.raw.substring(0,d.raw.length-s.length),m=b-1),i=o}r=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(r-=n.length,n=n.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+r+"}","gm"),"")),a=g||/\n\n(?!\s*$)/.test(n),m!==b-1&&(g="\n"===n.charAt(n.length-1),a||(a=g)),a&&(d.loose=!0),this.options.gfm&&(c=void 0,(u=/^\[[ xX]\] /.test(n))&&(c=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),d.items.push({type:"list_item",raw:l,task:u,checked:c,loose:a,text:n})}return d}},e.html=function(t){var e=this.rules.block.html.exec(t);if(e)return{type:this.options.sanitize?"paragraph":"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):T(e[0]):e[0]}},e.def=function(t){var e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},e.table=function(t){var e=this.rules.block.table.exec(t);if(e){var n={type:"table",header:S(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=e[0];var r,i=n.align.length;for(r=0;r<i;r++)n.align[r]=/^ *-+: *$/.test(n.align[r])?"right":/^ *:-+: *$/.test(n.align[r])?"center":/^ *:-+ *$/.test(n.align[r])?"left":null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=S(n.cells[r].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},e.lheading=function(t){var e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1]}},e.paragraph=function(t){var e=this.rules.block.paragraph.exec(t);if(e)return{type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]}},e.text=function(t,e){var n=this.rules.block.text.exec(t);if(n){var r=e[e.length-1];return r&&"text"===r.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}},e.escape=function(t){var e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:T(e[1])}},e.tag=function(t,e,n){var r=this.rules.inline.tag.exec(t);if(r)return!e&&/^<a /i.test(r[0])?e=!0:e&&/^<\/a>/i.test(r[0])&&(e=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:e,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):T(r[0]):r[0]}},e.link=function(t){var e=this.rules.inline.link.exec(t);if(e){var n=e[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=E(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var i=function(t,e){if(-1===t.indexOf(e[1]))return-1;for(var n=t.length,r=0,i=0;i<n;i++)if("\\"===t[i])i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&--r<0)return i;return-1}(e[2],"()");if(i>-1){var o=(0===e[0].indexOf("!")?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,o).trim(),e[3]=""}}var s=e[2],a="";if(this.options.pedantic){var u=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);u&&(s=u[1],a=u[3])}else a=e[3]?e[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(n)?s.slice(1):s.slice(1,-1)),C(e,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:a?a.replace(this.rules.inline._escapes,"$1"):a},e[0])}},e.reflink=function(t,e){var n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=e[r.toLowerCase()])||!r.href){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return C(n,r,n[0])}},e.strong=function(t,e,n){void 0===n&&(n="");var r=this.rules.inline.strong.start.exec(t);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){e=e.slice(-1*t.length);var i,o="**"===r[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(o.lastIndex=0;null!=(r=o.exec(e));)if(i=this.rules.inline.strong.middle.exec(e.slice(0,r.index+3)))return{type:"strong",raw:t.slice(0,i[0].length),text:t.slice(2,i[0].length-2)}}},e.em=function(t,e,n){void 0===n&&(n="");var r=this.rules.inline.em.start.exec(t);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){e=e.slice(-1*t.length);var i,o="*"===r[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(o.lastIndex=0;null!=(r=o.exec(e));)if(i=this.rules.inline.em.middle.exec(e.slice(0,r.index+2)))return{type:"em",raw:t.slice(0,i[0].length),text:t.slice(1,i[0].length-1)}}},e.codespan=function(t){var e=this.rules.inline.code.exec(t);if(e){var n=e[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=T(n,!0),{type:"codespan",raw:e[0],text:n}}},e.br=function(t){var e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}},e.del=function(t){var e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2]}},e.autolink=function(t,e){var n,r,i=this.rules.inline.autolink.exec(t);if(i)return r="@"===i[2]?"mailto:"+(n=T(this.options.mangle?e(i[1]):i[1])):n=T(i[1]),{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},e.url=function(t,e){var n;if(n=this.rules.inline.url.exec(t)){var r,i;if("@"===n[2])i="mailto:"+(r=T(this.options.mangle?e(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=T(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},e.inlineText=function(t,e,n){var r,i=this.rules.inline.text.exec(t);if(i)return r=e?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):T(i[0]):i[0]:T(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:r}},t}(),I={exec:function(){}},j=function(t,e){t=t.source||t,e=e||"";var n={replace:function(e,r){return r=(r=r.source||r).replace(f,"$1"),t=t.replace(e,r),n},getRegex:function(){return new RegExp(t,e)}};return n},A=O,P={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:I,table:I,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};P.def=j(P.def).replace("label",P._label).replace("title",P._title).getRegex(),P.bullet=/(?:[*+-]|\d{1,9}[.)])/,P.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,P.item=j(P.item,"gm").replace(/bull/g,P.bullet).getRegex(),P.listItemStart=j(/^( *)(bull)/).replace("bull",P.bullet).getRegex(),P.list=j(P.list).replace(/bull/g,P.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+P.def.source+")").getRegex(),P._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",P._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,P.html=j(P.html,"i").replace("comment",P._comment).replace("tag",P._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),P.paragraph=j(P._paragraph).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",P._tag).getRegex(),P.blockquote=j(P.blockquote).replace("paragraph",P.paragraph).getRegex(),P.normal=A({},P),P.gfm=A({},P.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),P.gfm.nptable=j(P.gfm.nptable).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",P._tag).getRegex(),P.gfm.table=j(P.gfm.table).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",P._tag).getRegex(),P.pedantic=A({},P.normal,{html:j("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",P._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:I,paragraph:j(P.normal._paragraph).replace("hr",P.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",P.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var R={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:I,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:I,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};R.punctuation=j(R.punctuation).replace(/punctuation/g,R._punctuation).getRegex(),R._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",R._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",R._comment=j(P._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),R.em.start=j(R.em.start).replace(/punctuation/g,R._punctuation).getRegex(),R.em.middle=j(R.em.middle).replace(/punctuation/g,R._punctuation).replace(/overlapSkip/g,R._overlapSkip).getRegex(),R.em.endAst=j(R.em.endAst,"g").replace(/punctuation/g,R._punctuation).getRegex(),R.em.endUnd=j(R.em.endUnd,"g").replace(/punctuation/g,R._punctuation).getRegex(),R.strong.start=j(R.strong.start).replace(/punctuation/g,R._punctuation).getRegex(),R.strong.middle=j(R.strong.middle).replace(/punctuation/g,R._punctuation).replace(/overlapSkip/g,R._overlapSkip).getRegex(),R.strong.endAst=j(R.strong.endAst,"g").replace(/punctuation/g,R._punctuation).getRegex(),R.strong.endUnd=j(R.strong.endUnd,"g").replace(/punctuation/g,R._punctuation).getRegex(),R.blockSkip=j(R._blockSkip,"g").getRegex(),R.overlapSkip=j(R._overlapSkip,"g").getRegex(),R._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,R._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,R._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,R.autolink=j(R.autolink).replace("scheme",R._scheme).replace("email",R._email).getRegex(),R._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,R.tag=j(R.tag).replace("comment",R._comment).replace("attribute",R._attribute).getRegex(),R._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,R._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,R._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,R.link=j(R.link).replace("label",R._label).replace("href",R._href).replace("title",R._title).getRegex(),R.reflink=j(R.reflink).replace("label",R._label).getRegex(),R.reflinkSearch=j(R.reflinkSearch,"g").replace("reflink",R.reflink).replace("nolink",R.nolink).getRegex(),R.normal=A({},R),R.pedantic=A({},R.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:j(/^!?\[(label)\]\((.*?)\)/).replace("label",R._label).getRegex(),reflink:j(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",R._label).getRegex()}),R.gfm=A({},R.normal,{escape:j(R.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),R.gfm.url=j(R.gfm.url,"i").replace("email",R.gfm._extended_email).getRegex(),R.breaks=A({},R.gfm,{br:j(R.br).replace("{2,}","*").getRegex(),text:j(R.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var N={block:P,inline:R},D=r.defaults,L=N.block,U=N.inline,V=function(t,e){if(e<1)return"";for(var n="";e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t};function M(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function F(t){var e,n,r="",i=t.length;for(e=0;e<i;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var q=function(){function e(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||D,this.options.tokenizer=this.options.tokenizer||new k,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var e={block:L.normal,inline:U.normal};this.options.pedantic?(e.block=L.pedantic,e.inline=U.pedantic):this.options.gfm&&(e.block=L.gfm,e.inline=this.options.breaks?U.breaks:U.gfm),this.tokenizer.rules=e}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n,r,i=e.prototype;return i.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(t,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function(t,e,n){var r,i,o,s;for(void 0===e&&(e=[]),void 0===n&&(n=!0),t=t.replace(/^ +$/gm,"");t;)if(r=this.tokenizer.space(t))t=t.substring(r.raw.length),r.type&&e.push(r);else if(r=this.tokenizer.code(t,e))t=t.substring(r.raw.length),r.type?e.push(r):((s=e[e.length-1]).raw+="\n"+r.raw,s.text+="\n"+r.text);else if(r=this.tokenizer.fences(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.heading(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.nptable(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.hr(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.blockquote(t))t=t.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),e.push(r);else if(r=this.tokenizer.list(t)){for(t=t.substring(r.raw.length),o=r.items.length,i=0;i<o;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);e.push(r)}else if(r=this.tokenizer.html(t))t=t.substring(r.raw.length),e.push(r);else if(n&&(r=this.tokenizer.def(t)))t=t.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.lheading(t))t=t.substring(r.raw.length),e.push(r);else if(n&&(r=this.tokenizer.paragraph(t)))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.text(t,e))t=t.substring(r.raw.length),r.type?e.push(r):((s=e[e.length-1]).raw+="\n"+r.raw,s.text+="\n"+r.text);else if(t){var a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return e},i.inline=function(t){var e,n,r,i,o,s,a=t.length;for(e=0;e<a;e++)switch((s=t[e]).type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},i=s.header.length,n=0;n<i;n++)s.tokens.header[n]=[],this.inlineTokens(s.header[n],s.tokens.header[n]);for(i=s.cells.length,n=0;n<i;n++)for(o=s.cells[n],s.tokens.cells[n]=[],r=0;r<o.length;r++)s.tokens.cells[n][r]=[],this.inlineTokens(o[r],s.tokens.cells[n][r]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(i=s.items.length,n=0;n<i;n++)this.inline(s.items[n].tokens)}return t},i.inlineTokens=function(t,e,n,r){var i;void 0===e&&(e=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var o,s,a,u=t;if(this.tokens.links){var c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(u));)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,o.index)+"["+V("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(u));)u=u.slice(0,o.index)+"["+V("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;t;)if(s||(a=""),s=!1,i=this.tokenizer.escape(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.tag(t,n,r))t=t.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,e.push(i);else if(i=this.tokenizer.link(t))t=t.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),e.push(i);else if(i=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),e.push(i);else if(i=this.tokenizer.strong(t,u,a))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.em(t,u,a))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.codespan(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.br(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.del(t))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.autolink(t,F))t=t.substring(i.raw.length),e.push(i);else if(n||!(i=this.tokenizer.url(t,F))){if(i=this.tokenizer.inlineText(t,r,M))t=t.substring(i.raw.length),a=i.raw.slice(-1),s=!0,e.push(i);else if(t){var l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}throw new Error(l)}}else t=t.substring(i.raw.length),e.push(i);return e},n=e,r=[{key:"rules",get:function(){return{block:L,inline:U}}}],null&&t(n.prototype,null),r&&t(n,r),e}(),z=r.defaults,H=function(t,e,n){if(t){var r;try{r=decodeURIComponent(h(n)).replace(d,"").toLowerCase()}catch(i){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!p.test(n)&&(n=function(t,e){g[" "+t]||(g[" "+t]=b.test(t)?t+"/":v(t,"/",!0));var n=-1===(t=g[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(m,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(y,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(i){return null}return n},B=w,K=function(){function t(t){this.options=t||z}var e=t.prototype;return e.code=function(t,e,n){var r=(e||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(t,r);null!=i&&i!==t&&(n=!0,t=i)}return r?'<pre><code class="'+this.options.langPrefix+B(r,!0)+'">'+(n?t:B(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:B(t,!0))+"</code></pre>\n"},e.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},e.html=function(t){return t},e.heading=function(t,e,n,r){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+r.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},e.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.list=function(t,e,n){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"},e.listitem=function(t){return"<li>"+t+"</li>\n"},e.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.paragraph=function(t){return"<p>"+t+"</p>\n"},e.table=function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},e.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},e.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},e.strong=function(t){return"<strong>"+t+"</strong>"},e.em=function(t){return"<em>"+t+"</em>"},e.codespan=function(t){return"<code>"+t+"</code>"},e.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.del=function(t){return"<del>"+t+"</del>"},e.link=function(t,e,n){if(null===(t=H(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<a href="'+B(t)+'"';return e&&(r+=' title="'+e+'"'),r+">"+n+"</a>"},e.image=function(t,e,n){if(null===(t=H(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+(this.options.xhtml?"/>":">")},e.text=function(t){return t},t}(),$=function(){function t(){}var e=t.prototype;return e.strong=function(t){return t},e.em=function(t){return t},e.codespan=function(t){return t},e.del=function(t){return t},e.html=function(t){return t},e.text=function(t){return t},e.link=function(t,e,n){return""+n},e.image=function(t,e,n){return""+n},e.br=function(){return""},t}(),G=function(){function t(){this.seen={}}var e=t.prototype;return e.serialize=function(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},e.getNextSafeSlug=function(t,e){var n=t,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[t];do{n=t+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return e||(this.seen[t]=r,this.seen[n]=0),n},e.slug=function(t,e){void 0===e&&(e={});var n=this.serialize(t);return this.getNextSafeSlug(n,e.dryrun)},t}(),W=r.defaults,J=_,Z=function(){function t(t){this.options=t||W,this.options.renderer=this.options.renderer||new K,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new $,this.slugger=new G}t.parse=function(e,n){return new t(n).parse(e)},t.parseInline=function(e,n){return new t(n).parseInline(e)};var e=t.prototype;return e.parse=function(t,e){void 0===e&&(e=!0);var n,r,i,o,s,a,u,c,l,h,f,d,p,g,b,m,y,v,w="",_=t.length;for(n=0;n<_;n++)switch((h=t[n]).type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(h.tokens),h.depth,J(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",u="",o=h.header.length,r=0;r<o;r++)u+=this.renderer.tablecell(this.parseInline(h.tokens.header[r]),{header:!0,align:h.align[r]});for(c+=this.renderer.tablerow(u),l="",o=h.cells.length,r=0;r<o;r++){for(u="",s=(a=h.tokens.cells[r]).length,i=0;i<s;i++)u+=this.renderer.tablecell(this.parseInline(a[i]),{header:!1,align:h.align[i]});l+=this.renderer.tablerow(u)}w+=this.renderer.table(c,l);continue;case"blockquote":l=this.parse(h.tokens),w+=this.renderer.blockquote(l);continue;case"list":for(f=h.ordered,d=h.start,p=h.loose,o=h.items.length,l="",r=0;r<o;r++)m=(b=h.items[r]).checked,y=b.task,g="",b.task&&(v=this.renderer.checkbox(m),p?b.tokens.length>0&&"text"===b.tokens[0].type?(b.tokens[0].text=v+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&"text"===b.tokens[0].tokens[0].type&&(b.tokens[0].tokens[0].text=v+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",text:v}):g+=v),g+=this.parse(b.tokens,p),l+=this.renderer.listitem(g,y,m);w+=this.renderer.list(l,f,d);continue;case"html":w+=this.renderer.html(h.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(l=h.tokens?this.parseInline(h.tokens):h.text;n+1<_&&"text"===t[n+1].type;)l+="\n"+((h=t[++n]).tokens?this.parseInline(h.tokens):h.text);w+=e?this.renderer.paragraph(l):l;continue;default:var O='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(O);throw new Error(O)}return w},e.parseInline=function(t,e){e=e||this.renderer;var n,r,i="",o=t.length;for(n=0;n<o;n++)switch((r=t[n]).type){case"escape":i+=e.text(r.text);break;case"html":i+=e.html(r.text);break;case"link":i+=e.link(r.href,r.title,this.parseInline(r.tokens,e));break;case"image":i+=e.image(r.href,r.title,r.text);break;case"strong":i+=e.strong(this.parseInline(r.tokens,e));break;case"em":i+=e.em(this.parseInline(r.tokens,e));break;case"codespan":i+=e.codespan(r.text);break;case"br":i+=e.br();break;case"del":i+=e.del(this.parseInline(r.tokens,e));break;case"text":i+=e.text(r.text);break;default:var s='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(s);throw new Error(s)}return i},t}(),X=O,Y=function(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},Q=w,tt=r.getDefaults,et=r.changeDefaults,nt=r.defaults;function rt(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(n=e,e=null),e=X({},rt.defaults,e||{}),Y(e),n){var r,i=e.highlight;try{r=q.lex(t,e)}catch(u){return n(u)}var o=function(t){var o;if(!t)try{o=Z.parse(r,e)}catch(u){t=u}return e.highlight=i,t?n(t):n(null,o)};if(!i||i.length<3)return o();if(delete e.highlight,!r.length)return o();var s=0;return rt.walkTokens(r,function(t){"code"===t.type&&(s++,setTimeout(function(){i(t.text,t.lang,function(e,n){if(e)return o(e);null!=n&&n!==t.text&&(t.text=n,t.escaped=!0),0==--s&&o()})},0))}),void(0===s&&o())}try{var a=q.lex(t,e);return e.walkTokens&&rt.walkTokens(a,e.walkTokens),Z.parse(a,e)}catch(u){if(u.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Q(u.message+"",!0)+"</pre>";throw u}}return rt.options=rt.setOptions=function(t){return X(rt.defaults,t),et(rt.defaults),rt},rt.getDefaults=tt,rt.defaults=nt,rt.use=function(t){var e=X({},t);if(t.renderer&&function(){var n=rt.defaults.renderer||new K,r=function(e){var r=n[e];n[e]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=t.renderer[e].apply(n,o);return!1===a&&(a=r.apply(n,o)),a}};for(var i in t.renderer)r(i);e.renderer=n}(),t.tokenizer&&function(){var n=rt.defaults.tokenizer||new k,r=function(e){var r=n[e];n[e]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=t.tokenizer[e].apply(n,o);return!1===a&&(a=r.apply(n,o)),a}};for(var i in t.tokenizer)r(i);e.tokenizer=n}(),t.walkTokens){var n=rt.defaults.walkTokens;e.walkTokens=function(e){t.walkTokens(e),n&&n(e)}}rt.setOptions(e)},rt.walkTokens=function(t,e){for(var r,i=n(t);!(r=i()).done;){var o=r.value;switch(e(o),o.type){case"table":for(var s,a=n(o.tokens.header);!(s=a()).done;)rt.walkTokens(s.value,e);for(var u,c=n(o.tokens.cells);!(u=c()).done;)for(var l,h=n(u.value);!(l=h()).done;)rt.walkTokens(l.value,e);break;case"list":rt.walkTokens(o.items,e);break;default:o.tokens&&rt.walkTokens(o.tokens,e)}}},rt.parseInline=function(t,e){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=X({},rt.defaults,e||{}),Y(e);try{var n=q.lexInline(t,e);return e.walkTokens&&rt.walkTokens(n,e.walkTokens),Z.parseInline(n,e)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Q(r.message+"",!0)+"</pre>";throw r}},rt.Parser=Z,rt.parser=Z.parse,rt.Renderer=K,rt.TextRenderer=$,rt.Lexer=q,rt.lexer=q.lex,rt.Tokenizer=k,rt.Slugger=G,rt.parse=rt,rt}()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return cn}),n.d(e,"b",function(){return yu}),n.d(e,"c",function(){return du}),n.d(e,"d",function(){return hu}),n.d(e,"e",function(){return fu}),n.d(e,"f",function(){return hc}),n.d(e,"g",function(){return ec}),n.d(e,"h",function(){return da}),n.d(e,"i",function(){return Iu}),n.d(e,"j",function(){return Fs}),n.d(e,"k",function(){return _u}),n.d(e,"l",function(){return Bs}),n.d(e,"m",function(){return xr}),n.d(e,"n",function(){return Wa}),n.d(e,"o",function(){return ao}),n.d(e,"p",function(){return vn}),n.d(e,"q",function(){return un}),n.d(e,"r",function(){return Eo}),n.d(e,"s",function(){return aa}),n.d(e,"t",function(){return ua}),n.d(e,"u",function(){return wu}),n.d(e,"v",function(){return Ea}),n.d(e,"w",function(){return rc}),n.d(e,"x",function(){return xa}),n.d(e,"y",function(){return Zu}),n.d(e,"z",function(){return Pu}),n.d(e,"A",function(){return wn}),n.d(e,"B",function(){return mu}),n.d(e,"C",function(){return bu}),n.d(e,"D",function(){return $s}),n.d(e,"E",function(){return Ks}),n.d(e,"F",function(){return Cr}),n.d(e,"G",function(){return Ws}),n.d(e,"H",function(){return yr}),n.d(e,"I",function(){return On}),n.d(e,"J",function(){return sc}),n.d(e,"K",function(){return va}),n.d(e,"L",function(){return Mu}),n.d(e,"M",function(){return ln}),n.d(e,"N",function(){return Zs}),n.d(e,"O",function(){return Js}),n.d(e,"P",function(){return Ta}),n.d(e,"Q",function(){return V}),n.d(e,"R",function(){return Xu}),n.d(e,"S",function(){return Wu}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return Gu}),n.d(e,"V",function(){return cc}),n.d(e,"W",function(){return zu}),n.d(e,"X",function(){return vu}),n.d(e,"Y",function(){return co}),n.d(e,"Z",function(){return Ts}),n.d(e,"ab",function(){return br}),n.d(e,"bb",function(){return Qn}),n.d(e,"cb",function(){return zn}),n.d(e,"db",function(){return Bn}),n.d(e,"eb",function(){return Wn}),n.d(e,"fb",function(){return $n}),n.d(e,"gb",function(){return Kn}),n.d(e,"hb",function(){return Gn}),n.d(e,"ib",function(){return Os}),n.d(e,"jb",function(){return uc}),n.d(e,"kb",function(){return xs}),n.d(e,"lb",function(){return Es}),n.d(e,"mb",function(){return Hn}),n.d(e,"nb",function(){return H}),n.d(e,"ob",function(){return No}),n.d(e,"pb",function(){return Zo}),n.d(e,"qb",function(){return Jo}),n.d(e,"rb",function(){return _s}),n.d(e,"sb",function(){return At}),n.d(e,"tb",function(){return m}),n.d(e,"ub",function(){return qn}),n.d(e,"vb",function(){return To}),n.d(e,"wb",function(){return St}),n.d(e,"xb",function(){return Us}),n.d(e,"yb",function(){return di}),n.d(e,"zb",function(){return Mo}),n.d(e,"Ab",function(){return cs}),n.d(e,"Bb",function(){return au}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return at}),n.d(e,"Eb",function(){return x}),n.d(e,"Fb",function(){return E}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return ut}),n.d(e,"Ib",function(){return zo}),n.d(e,"Jb",function(){return Go}),n.d(e,"Kb",function(){return $o}),n.d(e,"Lb",function(){return Ko}),n.d(e,"Mb",function(){return Wo}),n.d(e,"Nb",function(){return rn}),n.d(e,"Ob",function(){return ms}),n.d(e,"Pb",function(){return Pn}),n.d(e,"Qb",function(){return on}),n.d(e,"Rb",function(){return lu}),n.d(e,"Sb",function(){return Xo}),n.d(e,"Tb",function(){return uu}),n.d(e,"Ub",function(){return ts}),n.d(e,"Vb",function(){return za}),n.d(e,"Wb",function(){return Ha}),n.d(e,"Xb",function(){return Ba}),n.d(e,"Yb",function(){return Ka}),n.d(e,"Zb",function(){return rs}),n.d(e,"ac",function(){return ns}),n.d(e,"bc",function(){return Ho}),n.d(e,"cc",function(){return is}),n.d(e,"dc",function(){return os}),n.d(e,"ec",function(){return su}),n.d(e,"fc",function(){return Zt}),n.d(e,"gc",function(){return vr}),n.d(e,"hc",function(){return ot}),n.d(e,"ic",function(){return qo}),n.d(e,"jc",function(){return ps}),n.d(e,"kc",function(){return gs}),n.d(e,"lc",function(){return bs});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function b(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function m(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(m).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function y(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const v=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return m(this())},t}function _(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(v)&&t.__forward_ref__===w}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function S(t){return T(t,k)||T(t,j)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(A))?t[I]:null}const k=g({"\u0275prov":g}),I=g({"\u0275inj":g}),j=g({ngInjectableDef:g}),A=g({ngInjectorDef:g});var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let R;function N(t){const e=R;return R=t,e}function D(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&P.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${m(t)}]`)}function L(t){return{toString:t}.toString()}var U=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),V=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z="undefined"!=typeof global&&global,H=M||z||F||q,B={},K=[],$=g({"\u0275cmp":g}),G=g({"\u0275dir":g}),W=g({"\u0275pipe":g}),J=g({"\u0275mod":g}),Z=g({"\u0275loc":g}),X=g({"\u0275fac":g}),Y=g({__NG_ELEMENT_ID__:g});let Q=0;function tt(t){return L(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===U.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||K,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||V.Emulated,id:"c",styles:t.styles||K,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Q++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[G]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||K,declarations:t.declarations||K,imports:t.imports||K,exports:t.exports||K,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&L(()=>{rt[t.id]=t.type}),e}function ot(t,e){return L(()=>{const n=lt(t,!0);n.declarations=e.declarations||K,n.imports=e.imports||K,n.exports=e.exports||K})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[$]||null}function lt(t,e){const n=t[J]||null;if(!n&&!0===e)throw new Error(`Type ${m(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function bt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(X)?t[X]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function xt(t,e){const n=e?" in "+e:"";throw new wt("201",`No provider for ${Ot(t)} found${n}`)}class Et{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function St(){return Tt}function Tt(t){return t.type.prototype.ngOnChanges&&(t.setInput=kt),Ct}function Ct(){const t=It(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function kt(t,e,n,r){const i=It(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Et(u&&u.currentValue,e,s===B),t[r]=e}function It(t){return t.__ngSimpleChanges__||null}St.ngInherit=!0;let jt=void 0;function At(t){jt=t}function Pt(t){return!!t.listen}const Rt={createRenderer:(t,e)=>void 0!==jt?jt:"undefined"!=typeof document?document:void 0};function Nt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Nt(e[t])}function Lt(t,e){return Nt(e[t.index])}function Ut(t,e){return t.data[e]}function Vt(t,e){return t[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function qt(t){return 4==(4&t[2])}function zt(t){return 128==(128&t[2])}function Ht(t,e){return null==e?null:t[e]}function Bt(t){t[18]=0}function Kt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const $t={lFrame:pe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return $t.bindingsEnabled}function Wt(){return $t.lFrame.lView}function Jt(){return $t.lFrame.tView}function Zt(t){$t.lFrame.contextLView=t}function Xt(){let t=Yt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yt(){return $t.lFrame.currentTNode}function Qt(t,e){const n=$t.lFrame;n.currentTNode=t,n.isParent=e}function te(){return $t.lFrame.isParent}function ee(){$t.lFrame.isParent=!1}function ne(){return $t.isInCheckNoChangesMode}function re(t){$t.isInCheckNoChangesMode=t}function ie(){const t=$t.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function oe(){return $t.lFrame.bindingIndex++}function se(t,e){const n=$t.lFrame;n.bindingIndex=n.bindingRootIndex=t,ae(e)}function ae(t){$t.lFrame.currentDirectiveIndex=t}function ue(){return $t.lFrame.currentQueryIndex}function ce(t){$t.lFrame.currentQueryIndex=t}function le(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function he(t,e,n){if(n&P.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&P.Host||(r=le(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=$t.lFrame=de();return r.currentTNode=e,r.lView=t,!0}function fe(t){const e=de(),n=t[1];$t.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function de(){const t=$t.lFrame,e=null===t?null:t.child;return null===e?pe(t):e}function pe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ge(){const t=$t.lFrame;return $t.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const be=ge;function me(){const t=ge();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ye(){return $t.lFrame.selectedIndex}function ve(t){$t.lFrame.selectedIndex=t}function we(){const t=$t.lFrame;return Ut(t.tView,t.selectedIndex)}function _e(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Oe(t,e,n){Se(t,e,3,n)}function xe(t,e,n,r){(3&t[2])===n&&Se(t,e,n,r)}function Ee(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Se(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Te(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Te(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ce=-1;class ke{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ie(t,e,n){const r=Pt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ae(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function je(t){return 3===t||4===t||6===t}function Ae(t){return 64===t.charCodeAt(0)}function Pe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Re(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Re(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ne(t){return t!==Ce}function De(t){return 32767&t}function Le(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ue=!0;function Ve(t){const e=Ue;return Ue=t,e}let Me=0;function Fe(t,e){const n=ze(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,qe(r.data,t),qe(e,null),qe(r.blueprint,null));const i=He(t,e),o=t.injectorIndex;if(Ne(i)){const t=De(i),n=Le(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ze(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function He(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ce;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ce}function Be(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Me++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Ke(t,e,n){if(n&P.Optional)return t;xt(e,"NodeInjector")}function $e(t,e,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&P.Optional):D(e,r,n&P.Optional)}finally{N(o)}}return Ke(r,e,n)}function Ge(t,e,n,r=P.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Je:e}(n);if("function"==typeof o){if(!he(e,t,r))return r&P.Host?Ke(i,n,r):$e(e,n,r,i);try{const t=o();if(null!=t||r&P.Optional)return t;xt(n)}finally{be()}}else if("number"==typeof o){let i=null,s=ze(t,e),a=Ce,u=r&P.Host?e[16][6]:null;for((-1===s||r&P.SkipSelf)&&(a=-1===s?He(t,e):e[s+8],a!==Ce&&tn(r,!1)?(i=e[1],s=De(a),e=Le(a,e)):s=-1);-1!==s;){const t=e[1];if(Qe(o,s,t.data)){const t=Ze(s,e,n,i,r,u);if(t!==We)return t}a=e[s+8],a!==Ce&&tn(r,e[1].data[s+8]===u)&&Qe(o,s,e)?(i=t,s=De(a),e=Le(a,e)):s=-1}}}return $e(e,n,r,i)}const We={};function Je(){return new en(Xt(),Wt())}function Ze(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Xe(a,s,n,null==r?bt(a)&&Ue:r!=s&&0!=(3&a.type),i&P.Host&&o===a);return null!==u?Ye(e,s,u,a):We}function Xe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&yt(t)&&t.type===n)return u}return null}function Ye(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof ke){const s=i;s.resolving&&function(t,e){throw new wt("200","Circular dependency in DI detected for "+t)}(Ot(o[n]));const a=Ve(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;he(t,r,P.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Tt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),Ve(a),s.resolving=!1,be()}}return i}function Qe(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function tn(t,e){return!(t&P.Self||t&P.Host&&e)}class en{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ge(this._tNode,this._lView,t,void 0,e)}}function nn(t){const e=t;if(O(t))return()=>{const t=nn(_(e));return t?t():null};let n=vt(e);if(null===n){const t=C(e);n=t&&t.factory}return n||null}function rn(t){return L(()=>{const e=t.prototype.constructor,n=e[X]||nn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||nn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function on(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(je(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Xt(),t)}const sn="__parameters__";function an(t,e,n){return L(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(sn)?t[sn]:Object.defineProperty(t,sn,{value:[]})[sn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class un{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=x({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const cn=new un("AnalyzeForEntryComponents"),ln=Function;function hn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),hn(r,e)):e!==t&&e.push(r)}return e}function fn(t,e){t.forEach(t=>Array.isArray(t)?fn(t,e):e(t))}function dn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function bn(t,e,n){let r=yn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function mn(t,e){const n=yn(t,e);if(n>=0)return t[1|n]}function yn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const vn=an("Inject",t=>({token:t})),wn=an("Optional"),_n=an("Self"),On=an("SkipSelf"),xn=an("Host"),En={},Sn=/\n/gm,Tn="__source",Cn=g({provide:String,useValue:g});let kn,In=void 0;function jn(t){const e=In;return In=t,e}function An(t,e=P.Default){if(void 0===In)throw new Error("inject() must be called from an injection context");return null===In?D(t,void 0,e):In.get(t,e&P.Optional?null:void 0,e)}function Pn(t,e=P.Default){return(R||An)(_(t),e)}function Rn(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=P.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof wn||"Optional"===i.ngMetadataName||i===wn?n|=P.Optional:i instanceof On||"SkipSelf"===i.ngMetadataName||i===On?n|=P.SkipSelf:i instanceof _n||"Self"===i.ngMetadataName||i===_n?n|=P.Self:i instanceof xn||"Host"===i.ngMetadataName||i===xn?n|=P.Host:t=i instanceof vn||i===vn?i.token:i}e.push(Pn(t,n))}else e.push(Pn(r))}return e}function Nn(t){var e;return(null===(e=function(){if(void 0===kn&&(kn=null,H.trustedTypes))try{kn=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return kn}())||void 0===e?void 0:e.createHTML(t))||t}class Dn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Ln extends Dn{getTypeName(){return"HTML"}}class Un extends Dn{getTypeName(){return"Style"}}class Vn extends Dn{getTypeName(){return"Script"}}class Mn extends Dn{getTypeName(){return"URL"}}class Fn extends Dn{getTypeName(){return"ResourceURL"}}function qn(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function zn(t,e){const n=Hn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Hn(t){return t instanceof Dn&&t.getTypeName()||null}function Bn(t){return new Ln(t)}function Kn(t){return new Un(t)}function $n(t){return new Vn(t)}function Gn(t){return new Mn(t)}function Wn(t){return new Fn(t)}class Jn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Nn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Nn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Nn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Xn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qn(t){return(t=String(t)).match(Xn)||t.match(Yn)?t:"unsafe:"+t}function tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const nr=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=tr("rp,rt"),or=er(ir,rr),sr=er(nr,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(ir,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),or),ar=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=tr("srcset"),cr=er(ar,ur,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=tr("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!cr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ar[o]&&(s=Qn(s)),ur[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Qn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(fr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gr;function br(t,e){let n=null;try{gr=gr||function(t){const e=new Zn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Nn(""),"text/html")}catch(t){return!1}}()?new Jn(e):e}(t);let r=e?String(e):"";n=gr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=gr.getInertBodyElement(r)}while(r!==o);return(new hr).sanitizeChildren(mr(n)||n)}finally{if(n){const t=mr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function mr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function vr(t){const e=function(){const t=Wt();return t&&t[12]}();return e?e.sanitize(yr.URL,t)||"":zn(t,"URL")?qn(t):Qn(_t(t))}function wr(t){return t.ngDebugContext}function _r(t){return t.ngOriginalError}function Or(t,...e){t.error(...e)}class xr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Or}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?wr(t)?wr(t):this._findContext(_r(t)):null}_findOriginalError(t){let e=_r(t);for(;e&&_r(e);)e=_r(e);return e}}function Er(t,e){t.__ngContext__=e}const Sr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function Tr(t){return t instanceof Function?t():t}var Cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function kr(t,e){return(void 0)(t,e)}function Ir(t){const e=t[3];return pt(e)?e[3]:e}function jr(t){return Pr(t[13])}function Ar(t){return Pr(t[4])}function Pr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Rr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=Nt(r);0===t&&null!==n?null==i?qr(e,n,a):Fr(e,n,a,i||null,!0):1===t&&null!==n?Fr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Hr(t,e);r&&function(t,e,n,r){Pt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Nt(n)&&Rr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Zr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Nr(t,e,n){return Pt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Dr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Kt(i,-1)),n.splice(r,1)}function Lr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Dr(o,r),e>0&&(t[n-1][4]=r[4]);const s=pn(t,ft+e);Zr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ur(t,e){if(!(256&e[2])){const n=e[11];Pt(n)&&n.destroyNode&&Zr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Vr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Vr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Vr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Vr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ke)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Nt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Pt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Dr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Mr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===V.None||e===V.Emulated)return null}return Lt(r,n)}(t,e.parent,n)}function Fr(t,e,n,r,i){Pt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function qr(t,e,n){Pt(t)?t.appendChild(e,n):e.appendChild(n)}function zr(t,e,n,r,i){null!==r?Fr(t,e,n,r,i):qr(t,e,n)}function Hr(t,e){return Pt(t)?t.parentNode(e):e.parentNode}function Br(t,e,n){return Kr(t,e,n)}let Kr=function(t,e,n){return 40&t.type?Lt(t,n):null};function $r(t,e,n,r){const i=Mr(t,r,e),o=e[11],s=Br(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)zr(o,i,n[a],s,!1);else zr(o,i,n,s,!1)}function Gr(t,e){if(null!==e){const n=e.type;if(3&n)return Lt(e,t);if(4&n)return Wr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Gr(t,n);{const n=t[e.index];return pt(n)?Wr(-1,n):Nt(n)}}if(32&n)return kr(e,t)()||Nt(t[e.index]);{const n=t[16],r=n[6],i=Ir(n),o=r.projection[e.projection];return null!=o?Gr(i,o):Gr(t,e.next)}}return null}function Wr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Gr(t,r)}return e[7]}function Jr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Er(Nt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Jr(t,e,n.child,r,i,o,!1),Rr(e,t,i,a,o);else if(32&u){const s=kr(n,r);let u;for(;u=s();)Rr(e,t,i,u,o);Rr(e,t,i,a,o)}else 16&u?Xr(t,e,r,n,i,o):Rr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Zr(t,e,n,r,i,o){Jr(n,r,t.firstChild,e,i,o,!1)}function Xr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Rr(e,t,i,a[u],o);else Jr(t,e,a,s[3],i,o,!0)}function Yr(t,e,n){Pt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Qr(t,e,n){Pt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ti(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ei="ng-template";function ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ti(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 4===t.type&&t.value!==ei}function ii(t,e,n){return e===(4!==t.type||n?t.value:ei)}function oi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(je(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ii(t,u,n)||""===u&&1===e.length){if(si(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ni(t.attrs,c,n)){if(si(r))return!1;s=!0}continue}const l=ai(8&r?"class":u,i,ri(t),n);if(-1===l){if(si(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ti(e,c,0)||2&r&&c!==t){if(si(r))return!1;s=!0}}}}else{if(!s&&!si(r)&&!si(u))return!1;if(s&&si(u))continue;s=!1,r=u|1&r}}return si(r)||s}function si(t){return 0==(1&t)}function ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ui(t,e,n=!1){for(let r=0;r<e.length;r++)if(oi(t,e[r],n))return!0;return!1}function ci(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function li(t,e){return t?":not("+e.trim()+")":e}function hi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||si(s)||(e+=li(o,i),i=""),r=s,o=o||!si(r);n++}return""!==i&&(e+=li(o,i)),e}const fi={};function di(t){pi(Jt(),Wt(),ye()+t,ne())}function pi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Oe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&xe(e,r,0,n)}ve(n)}function gi(t,e){return t<<17|e<<2}function bi(t){return t>>17&32767}function mi(t){return 2|t}function yi(t){return(131068&t)>>2}function vi(t,e){return-131069&t|e<<2}function wi(t){return 1|t}function _i(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ce(i),n.contentQueries(2,e[o],o)}}}function Oi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Bt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function xi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Yt(),s=te(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),$t.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=$t.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Qt(o,!0),o}function Ei(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Si(t,e,n){fe(e);try{const r=t.viewQuery;null!==r&&to(1,r,n);const i=t.template;null!==i&&ki(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_i(t,e),t.staticViewQueries&&to(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ji(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,me()}}function Ti(t,e,n,r){const i=e[2];if(256==(256&i))return;fe(e);const o=ne();try{Bt(e),$t.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ki(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Oe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&xe(e,n,0,null),Ee(e,0)}if(function(t){for(let e=jr(t);null!==e;e=Ar(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Kt(r,1),n[2]|=1024}}}(e),function(t){for(let e=jr(t);null!==e;e=Ar(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];zt(n)&&Ti(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&_i(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Oe(e,n)}else{const n=t.contentHooks;null!==n&&xe(e,n,1),Ee(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ve(~r);else{const i=r,o=n[++t],s=n[++t];se(o,i),s(2,e[i])}}}finally{ve(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&to(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Oe(e,n)}else{const n=t.viewHooks;null!==n&&xe(e,n,2),Ee(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Kt(e[3],-1))}finally{me()}}function Ci(t,e,n,r){const i=e[10],o=!ne(),s=qt(e);try{o&&!s&&i.begin&&i.begin(),s&&Si(t,e,r),Ti(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ki(t,e,n,r,i){const o=ye();try{ve(-1),2&r&&e.length>ht&&pi(t,e,ht,ne()),n(r,i)}finally{ve(o)}}function Ii(t,e,n){Gt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Fe(n,e),Er(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=yt(r);o&&Hi(e,n,r);const u=Ye(e,t,a,n);Er(u,e),null!==s&&Bi(0,a-i,u,r,0,s),o&&(Mt(n.index,e)[8]=u)}}(t,e,n,Lt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=$t.lFrame.currentDirectiveIndex;try{ve(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ae(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Vi(r,i)}}finally{ve(-1),ae(s)}}(t,e,n))}function ji(t,e,n=Lt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ai(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Pi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Pi(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:fi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ri(t,e,n,r){const i=no(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ro(t).push(r,i.length-1))}function Ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Di(t,e,n,r,i,o,s,a){const u=Lt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(oo(t,n,c,r,i),bt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Pt(o)?o.setProperty(u,r,i):Ae(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Li(t,e,n,r){let i=!1;if(Gt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ui(n,s.selectors,!1)&&(i||(i=[]),Be(Fe(n,e),t,s.type),yt(s)?(Mi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,qi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ei(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Pe(n.mergedAttrs,c.hostAttrs),zi(t,n,e,u,c),Fi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ri(e)?null:Ki(n,i);o.push(c),s=Ni(n,u,s),a=Ni(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Pe(n.mergedAttrs,n.attrs),i}function Ui(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Vi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Mi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Fi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function qi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new ke(o,yt(i),null);t.blueprint[r]=s,n[r]=s,Ui(t,e,0,r,Ei(t,n,i.hostVars,fi),i)}function Hi(t,e,n){const r=Lt(e,t),i=Ai(n),o=t[10],s=Zi(t,Oi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Bi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ki(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function $i(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=Mt(e,t);if(zt(n)){const t=n[1];80&n[2]?Ti(t,n,t.template,n[8]):n[5]>0&&Wi(n)}}function Wi(t){for(let n=jr(t);null!==n;n=Ar(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ti(t,e,t.template,e[8])}else e[5]>0&&Wi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);zt(r)&&r[5]>0&&Wi(r)}}function Ji(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Si(r,n,n[8])}function Zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xi(t){for(;t;){t[2]|=64;const e=Ir(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Yi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ti(t,e,t.template,n)}catch(i){throw io(e,i),i}finally{r.end&&r.end()}}function Qi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ft(n),i=r[1];Ci(i,r,i.template,n)}}(t[8])}function to(t,e,n){ce(0),e(t,n)}const eo=(()=>Promise.resolve(null))();function no(t){return t[7]||(t[7]=[])}function ro(t){return t.cleanup||(t.cleanup=[])}function io(t,e){const n=t[9],r=n?n.get(xr,null):null;r&&r.handleError(e)}function oo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function so(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=y(i,t):2==o&&(r=y(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ao=new un("INJECTOR",-1);class uo{get(t,e=En){if(e===En){const e=new Error(`NullInjectorError: No provider for ${m(t)}!`);throw e.name="NullInjectorError",e}return e}}const co=new un("Set Injector scope."),lo={},ho={},fo=[];let po=void 0;function go(){return void 0===po&&(po=new uo),po}function bo(t,e=null,n=null,r){return new mo(t,n,e||go(),r)}class mo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&fn(e,n=>this.processProvider(n,t,e)),fn([t],t=>this.processInjectorType(t,[],i)),this.records.set(ao,wo(void 0,this));const o=this.records.get(co);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:m(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=En,n=P.Default){this.assertNotDestroyed();const r=jn(this);try{if(!(n&P.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof un)&&S(t);e=n&&this.injectableDefInScope(n)?wo(yo(t),lo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&P.Self?go():this.parent).get(t,e=n&P.Optional&&e===En?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(m(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Tn]&&i.unshift(e[Tn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=m(e);if(Array.isArray(e))i=e.map(m).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):m(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Sn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{jn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(m(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{fn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];fn(r,t=>this.processProvider(t,n,r||fo))}}this.injectorDefTypes.add(o),this.records.set(o,wo(r.factory,lo));const a=r.providers;if(null!=a&&!s){const e=t;fn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Oo(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return _o(t)?wo(void 0,t.useValue):wo(vo(t),lo)}(t);if(Oo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=wo(void 0,lo,!0),e.factory=()=>Rn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===lo&&(e.value=ho,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function yo(t){const e=S(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;const r=C(t);if(null!==r)return r.factory;if(t instanceof un)throw new Error(`Token ${m(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=gn(e,"?");throw new Error(`Can't resolve all parameters for ${m(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[k]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function vo(t,e,n){let r=void 0;if(Oo(t)){const e=_(t);return vt(e)||yo(e)}if(_o(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Rn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Pn(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||yo(e);r=()=>new e(...Rn(t.deps))}var i;return r}function wo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _o(t){return null!==t&&"object"==typeof t&&Cn in t}function Oo(t){return"function"==typeof t}const xo=function(t,e,n){return function(t,e=null,n=null,r){const i=bo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Eo=(()=>{class t{static create(t,e){return Array.isArray(t)?xo(t,e,""):xo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=En,t.NULL=new uo,t.\u0275prov=x({token:t,providedIn:"any",factory:()=>Pn(ao)}),t.__NG_ELEMENT_ID__=-1,t})();function So(t,e){_e(Ft(t)[1],Xt())}function To(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Co(t.inputs),e.declaredInputs=Co(t.declaredInputs),e.outputs=Co(t.outputs);const n=i.hostBindings;n&&jo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&ko(t,o),s&&Io(t,s),b(t.inputs,i.inputs),b(t.declaredInputs,i.declaredInputs),b(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===To&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pe(i.hostAttrs,n=Pe(n,i.hostAttrs))}}(r)}function Co(t){return t===B?{}:t===K?[]:t}function ko(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Io(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function jo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ao=null;function Po(){if(!Ao){const t=H.Symbol;if(t&&t.iterator)Ao=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ao=n)}}}return Ao}class Ro{constructor(t){this.wrapped=t}static wrap(t){return new Ro(t)}static unwrap(t){return Ro.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ro}}function No(t){return!!Do(t)&&(Array.isArray(t)||!(t instanceof Map)&&Po()in t)}function Do(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Lo(t,e,n){return t[e]=n}function Uo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Vo(t,e,n,r){const i=Uo(t,e,n);return Uo(t,e+1,r)||i}function Mo(t,e,n,r){const i=Wt();return Uo(i,oe(),e)&&(Jt(),function(t,e,n,r,i,o){const s=Lt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Pt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?_t(o):s(o,r||"",i);Pt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(we(),i,t,e,n,r)),Mo}function Fo(t,e,n,r){return Uo(t,oe(),n)?e+_t(n)+r:fi}function qo(t,e,n,r,i,o,s,a){const u=Wt(),c=Jt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=xi(e,t,4,s||null,Ht(c,a));Li(e,n,l,Ht(c,u)),_e(e,l);const h=l.tViews=Pi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Qt(h,!1);const f=u[11].createComment("");$r(c,u,f,h),Er(f,u),Zi(u,u[l]=$i(f,u,f,h)),mt(h)&&Ii(c,u,h),null!=s&&ji(u,h,a)}function zo(t,e=P.Default){const n=Wt();return null===n?Pn(t,e):Ge(Xt(),n,_(t),e)}function Ho(t,e,n){const r=Wt();return Uo(r,oe(),e)&&Di(Jt(),we(),r,t,e,r[11],n,!1),Ho}function Bo(t,e,n,r,i){const o=i?"class":"style";oo(t,n,e.inputs[o],o,r)}function Ko(t,e,n,r){const i=Wt(),o=Jt(),s=ht+t,a=i[11],u=i[s]=Nr(a,e,$t.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=xi(e,t,2,i,Ht(a,o));return Li(e,n,u,Ht(a,s)),null!==u.attrs&&so(u,u.attrs,!1),null!==u.mergedAttrs&&so(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Ie(a,u,l);const h=c.classes;null!==h&&Qr(a,u,h);const f=c.styles;null!==f&&Yr(a,u,f),64!=(64&c.flags)&&$r(o,i,u,c),0===$t.lFrame.elementDepthCount&&Er(u,i),$t.lFrame.elementDepthCount++,mt(c)&&(Ii(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&ji(i,c)}function $o(){let t=Xt();te()?ee():(t=t.parent,Qt(t,!1));const e=t;$t.lFrame.elementDepthCount--;const n=Jt();n.firstCreatePass&&(_e(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Bo(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Bo(n,e,Wt(),e.stylesWithoutHost,!1)}function Go(t,e,n,r){Ko(t,e,n,r),$o()}function Wo(){return Wt()}function Jo(t){return!!t&&"function"==typeof t.then}function Zo(t){return!!t&&"function"==typeof t.subscribe}function Xo(t,e,n=!1,r){const i=Wt(),o=Jt(),s=Xt();return function(t,e,n,r,i,o,s=!1,a){const u=mt(r),c=t.firstCreatePass&&ro(t),l=no(e);let h=!0;if(3&r.type){const f=Lt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,b=a?t=>a(Nt(t[r.index])).target:r.index;if(Pt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Qo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,b,g,g+1)}}else o=Qo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,b,g,s)}else o=Qo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Xo}function Yo(t,e,n){try{return!1!==e(n)}catch(r){return io(t,r),!1}}function Qo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&Xi(s);let a=Yo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Yo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function ts(t=1){return function(t){return($t.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,$t.lFrame.contextLView))[8]}(t)}function es(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ui(t,o,!0):ci(r,o))return i}else n=i}return n}function ns(t){const e=Wt()[16][6];if(!e.projection){const n=e.projection=gn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?es(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function rs(t,e=0,n){const r=Wt(),i=Jt(),o=xi(i,ht+t,16,null,n||null);null===o.projection&&(o.projection=e),ee(),64!=(64&o.flags)&&function(t,e,n){Xr(e[11],0,e,n,Mr(t,n,e),Br(n.parent||e[6],n,e))}(i,r,o)}function is(t,e,n){return os(t,"",e,"",n),is}function os(t,e,n,r,i){const o=Wt(),s=Fo(o,e,n,r);return s!==fi&&Di(Jt(),we(),o,t,s,o[11],i,!1),os}const ss=[];function as(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?bi(o):yi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];us(t[a],e)&&(u=!0,t[a+1]=r?wi(n):mi(n)),a=r?bi(n):yi(n)}u&&(t[n+1]=r?mi(o):wi(o))}function us(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&yn(t,e)>=0}function cs(t,e){return function(t,e,n,r){const i=Wt(),o=Jt(),s=function(t){const e=$t.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ye()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=$t.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=hs(n=ls(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ls(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==yi(r))return t[bi(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=ls(null,t,e,n[1],r),n=hs(n,e.attrs,r),function(t,e,n,r){t[bi(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=hs(r,t[o].hostAttrs,true);return hs(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=bi(s),u=yi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||yn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=bi(t[a+1]);t[r+1]=gi(e,a),0!==e&&(t[e+1]=vi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=gi(a,0),0!==a&&(t[a+1]=vi(t[a+1],r)),a=r;else t[r+1]=gi(u,0),0===a?a=r:t[u+1]=vi(t[u+1],r),u=r;l&&(t[r+1]=mi(t[r+1])),as(t,c,r,!0),as(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&yn(o,e)>=0&&(n[r+1]=wi(n[r+1]))}(e,c,t,r),s=gi(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==fi&&Uo(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ds(1==(1&c)?fs(u,e,n,i,yi(c),s):void 0)||(ds(o)||function(t){return 2==(2&t)}(c)&&(o=fs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Pt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Dt(ye(),n),i,o))}(o,o.data[ye()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=m(qn(t))),t}(e),true,s)}(t,e),cs}function ls(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=hs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function hs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bn(t,s,!!n||e[++o]))}return void 0===t?null:t}function fs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===fi&&(l=c?ss:void 0);let h=c?mn(l,r):u===r?l:void 0;if(o&&!ds(h)&&(h=mn(e,r)),ds(h)&&(a=h,s))return a;const f=t[i+1];i=s?bi(f):yi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=mn(t,r))}return a}function ds(t){return void 0!==t}function ps(t,e=""){const n=Wt(),r=Jt(),i=t+ht,o=r.firstCreatePass?xi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Pt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);$r(r,n,s,o),Qt(o,!1)}function gs(t){return bs("",t,""),gs}function bs(t,e,n){const r=Wt(),i=Fo(r,t,e,n);return i!==fi&&function(t,e,n){const r=Dt(e,t);!function(t,e,n){Pt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ye(),i),bs}function ms(t,e,n){const r=Wt();return Uo(r,oe(),e)&&Di(Jt(),we(),r,t,e,r[11],n,!0),ms}const ys=void 0;var vs=["en",[["a","p"],["AM","PM"],ys],[["AM","PM"],ys,ys],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ys,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ys,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ys,"{1} 'at' {0}",ys],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ws={};function _s(t,e,n){"string"!=typeof e&&(n=e,e=t[Ts.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ws[e]=t,n&&(ws[e][Ts.ExtraData]=n)}function Os(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ss(e);if(n)return n;const r=e.split("-")[0];if(n=Ss(r),n)return n;if("en"===r)return vs;throw new Error(`Missing locale data for the locale "${t}".`)}function xs(t){return Os(t)[Ts.CurrencyCode]||null}function Es(t){return Os(t)[Ts.PluralCase]}function Ss(t){return t in ws||(ws[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),ws[t]}var Ts=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Cs="en-US";let ks=Cs;function Is(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ks=t.toLowerCase().replace(/_/g,"-"))}function js(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)js(t[o],e,n,r,i);else{const o=Jt(),s=Wt();let a=Oo(t)?t:_(t.provide),u=vo(t);const c=Xt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Oo(t)||!t.multi){const r=new ke(u,i,zo),d=Rs(a,e,i?l:l+f,h);-1===d?(Be(Fe(c,s),o,a),As(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Rs(a,e,l+f,h),p=Rs(a,e,l,l+f),g=d>=0&&n[d],b=p>=0&&n[p];if(i&&!b||!i&&!g){Be(Fe(c,s),o,a);const l=function(t,e,n,r,i){const o=new ke(t,n,zo);return o.multi=[],o.index=e,o.componentProviders=0,Ps(o,i,r&&!n),o}(i?Ds:Ns,n.length,i,r,u);!i&&b&&(n[p].providerFactory=l),As(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else As(o,t,d>-1?d:p,Ps(n[i?p:d],u,!i&&r));!i&&r&&b&&n[p].componentProviders++}}}function As(t,e,n,r){const i=Oo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Ps(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Rs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ns(t,e,n,r){return Ls(this.multi,[])}function Ds(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ye(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ls(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ls(i,o);return o}function Ls(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Us(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Jt();if(r.firstCreatePass){const i=yt(t);js(n,r.data,r.blueprint,i,!0),js(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Vs{}class Ms{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${m(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Fs=(()=>{class t{}return t.NULL=new Ms,t})();function qs(...t){}function zs(t,e){return new Bs(Lt(t,e))}const Hs=function(){return zs(Xt(),Wt())};let Bs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Hs,t})();class Ks{}let $s=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Gs(),t})();const Gs=function(){const t=Wt(),e=Mt(Xt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Ws=(()=>{class t{}return t.\u0275prov=x({token:t,providedIn:"root",factory:()=>null}),t})();class Js{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Zs=new Js("11.0.6");class Xs{constructor(){}supports(t){return No(t)}create(t){return new Qs(t)}}const Ys=(t,e)=>e;class Qs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ys}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ra(n,r,i)?e:n,s=ra(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!No(t))throw new Error(`Error trying to diff '${m(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Po()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ta(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new na),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new na),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ta{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ea{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class na{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ea,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ra(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ia{constructor(){}supports(t){return t instanceof Map||Do(t)}create(){return new oa}}class oa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Do(t)))throw new Error(`Error trying to diff '${m(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new sa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class sa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let aa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new On,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=x({token:t,providedIn:"root",factory:()=>new t([new Xs])}),t})(),ua=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new On,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=x({token:t,providedIn:"root",factory:()=>new t([new ia])}),t})();function ca(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Nt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ca(e[1],e,n,r)}const s=n.type;if(8&s)ca(t,e,n.child,r);else if(32&s){const t=kr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Ir(t);ca(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class la{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return ca(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ur(this._lView[1],this._lView)}onDestroy(t){Ri(this._lView[1],this._lView,null,t)}markForCheck(){Xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){re(!0);try{Yi(t,e,n)}finally{re(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Zr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ha extends la{constructor(t){super(t),this._view=t}detectChanges(){Qi(this._view)}checkNoChanges(){!function(t){re(!0);try{Qi(t)}finally{re(!1)}}(this._view)}get context(){return null}}const fa=pa;let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=fa,t.__ChangeDetectorRef__=!0,t})();function pa(t=!1){return function(t,e,n){if(!n&&bt(t)){const n=Mt(t.index,e);return new la(n,n)}return 47&t.type?new la(e[16],e):null}(Xt(),Wt(),t)}const ga=[new ia],ba=new aa([new Xs]),ma=new ua(ga),ya=function(){return Oa(Xt(),Wt())};let va=(()=>{class t{}return t.__NG_ELEMENT_ID__=ya,t})();const wa=va,_a=class extends wa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Oi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Si(e,n,t),new la(n)}};function Oa(t,e){return 4&t.type?new _a(e,t,zs(t,e)):null}class xa{}class Ea{}const Sa=function(){return Aa(Xt(),Wt())};let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t})();const Ca=Ta,ka=class extends Ca{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return zs(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const t=He(this._hostTNode,this._hostLView);if(Ne(t)){const e=Le(t,this._hostLView),n=De(t);return new en(e[1].data[n+8],e)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ia(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(xa,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ka(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],dn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Wr(i,o),a=n[11],u=Hr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Zr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),dn(ja(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ia(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);n&&(pn(ja(this._lContainer),e),Ur(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);return n&&null!=pn(ja(this._lContainer),e)?new la(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ia(t){return t[8]}function ja(t){return t[8]||(t[8]=[])}function Aa(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Nt(r);else{const n=e[11];i=n.createComment("");const r=Lt(t,e);Fr(n,Hr(n,r),i,function(t,e){return Pt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=$i(r,e,i,t),Zi(e,n)}return new ka(n,t,e)}const Pa={};class Ra extends Fs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new La(e,this.ngModule)}}function Na(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Da=new un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Sr});class La extends Vs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(hi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Na(this.componentDef.inputs)}get outputs(){return Na(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Pa,i);return o!==Pa||r===Pa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ks,Rt),s=i.get(Ws,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Pt(t))return t.selectRootElement(e,n===V.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Nr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Sr,clean:eo,playerHandler:null,flags:0},f=Pi(0,null,null,1,0,null,null,null,null,null),d=Oi(null,f,h,l,null,null,o,a,s,i);let p,g;fe(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=xi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(so(a,u,!0),null!==t&&(Ie(i,t,u),null!==a.classes&&Qr(i,t,a.classes),null!==a.styles&&Yr(i,t,a.styles)));const c=r.createRenderer(t,e),l=Oi(n,Ai(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Be(Fe(a,n),s,e.type),Mi(s,a),qi(a,n.length,1)),Zi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ie(a,c,["ng-version",Zs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!si(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ie(a,c,t),e&&e.length>0&&Qr(a,c,e.join(" "))}if(g=Ut(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Xt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zi(t,r,e,Ei(t,e,1,null),n));const i=Ye(e,t,r.directiveStart,r);Er(i,e);const o=Lt(r,e);return o&&Er(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Xt();e.contentQueries(1,s,t.directiveStart)}const a=Xt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ve(a.index),Ui(n[1],a,0,a.directiveStart,a.directiveEnd,e),Vi(e,s)),s}(t,this.componentDef,d,h,[So]),Si(f,d,null)}finally{me()}return new Ua(this.componentType,p,zs(g,d),d,g)}}class Ua extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ha(r),this.componentType=t}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Va=new Map;class Ma extends xa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ra(this);const n=lt(t),r=t[Z]||null;r&&Is(r),this._bootstrapComponents=Tr(n.bootstrap),this._r3Injector=bo(t,e,[{provide:xa,useValue:this},{provide:Fs,useValue:this.componentFactoryResolver}],m(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Eo.THROW_IF_NOT_FOUND,n=P.Default){return t===Eo||t===xa||t===ao?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Fa extends Ea{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${m(e)} vs ${m(e.name)}`)}(i,Va.get(i),n),Va.set(i,n));const o=Tr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ma(this.moduleType,t)}}function qa(t,e){const n=t[e];return n===fi?void 0:n}function za(t,e){const n=Jt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new wt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=vt(r.type)),s=N(zo);try{const t=Ve(!1),e=o();return Ve(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Wt(),i,e),e}finally{N(s)}}function Ha(t,e,n){const r=t+ht,i=Wt(),o=Vt(i,r);return Ga(i,$a(i,r)?function(t,e,n,r,i,o){const s=e+n;return Uo(t,s,i)?Lo(t,s+1,o?r.call(o,i):r(i)):qa(t,s+1)}(i,ie(),e,o.transform,n,o):o.transform(n))}function Ba(t,e,n,r){const i=t+ht,o=Wt(),s=Vt(o,i);return Ga(o,$a(o,i)?function(t,e,n,r,i,o,s){const a=e+n;return Vo(t,a,i,o)?Lo(t,a+2,s?r.call(s,i,o):r(i,o)):qa(t,a+2)}(o,ie(),e,s.transform,n,r,s):s.transform(n,r))}function Ka(t,e,n,r,i){const o=t+ht,s=Wt(),a=Vt(s,o);return Ga(s,$a(s,o)?function(t,e,n,r,i,o,s,a){const u=e+n;return function(t,e,n,r,i){const o=Vo(t,e,n,r);return Uo(t,e+2,i)||o}(t,u,i,o,s)?Lo(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):qa(t,u+3)}(s,ie(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function $a(t,e){return t[1].data[e].pure}function Ga(t,e){return Ro.isWrapped(e)&&(e=Ro.unwrap(e),t[$t.lFrame.bindingIndex]=fi),e}const Wa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Ja(){return this._results[Po()]()}class Za{constructor(){this.dirty=!0,this._results=[],this.changes=new Wa,this.length=0;const t=Po(),e=Za.prototype;e[t]||(e[t]=Ja)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=hn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Xa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Xa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ya{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ya(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==cu(t,e).matches&&this.queries[e].setDirty()}}class Qa{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class tu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new tu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class eu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new eu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,nu(e,i)),this.matchTNodeWithReadOption(t,e,Xe(e,t,i,!1,!1))}else n===va?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Bs||r===Ta||r===va&&4&e.type)this.addMatch(e.index,-2);else{const n=Xe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function nu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ru(t,e,n,r){return-1===n?function(t,e){return 11&t.type?zs(t,e):4&t.type?Oa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Bs?zs(e,t):n===va?Oa(e,t):n===Ta?Aa(e,t):void 0}(t,e,r):Ye(t,t[1],n,e)}function iu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:ru(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function ou(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=iu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&ou(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];ou(n[1],n,i,r)}}}}}return r}function su(t){const e=Wt(),n=Jt(),r=ue();ce(r+1);const i=cu(n,r);if(t.dirty&&qt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?ou(n,e,r,[]):iu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function au(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new tu),t.queries.track(new eu(e,n))}(t,new Qa(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Za;Ri(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ya),e[19].queries.push(new Xa(n))}(t,e)}(Jt(),Wt(),e,n,r,0,Xt(),t)}function uu(){return t=Wt(),e=ue(),t[19].queries[e].queryList;var t,e}function cu(t,e){return t.queries.getByIndex(e)}function lu(t=P.Default){const e=pa(!0);if(null!=e||t&P.Optional)return e;xt("ChangeDetectorRef")}const hu=new un("Application Initializer");let fu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=qs,this.reject=qs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Jo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Pn(hu,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const du=new un("AppId"),pu={provide:du,useFactory:function(){return`${gu()}${gu()}${gu()}`},deps:[]};function gu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bu=new un("Platform Initializer"),mu=new un("Platform ID"),yu=new un("appBootstrapListener");let vu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const wu=new un("LocaleId"),_u=new un("DefaultCurrencyCode");class Ou{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const xu=function(t){return new Fa(t)},Eu=xu,Su=function(t){return Promise.resolve(xu(t))},Tu=function(t){const e=xu(t),n=Tr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new La(n)),t},[]);return new Ou(e,n)},Cu=Tu,ku=function(t){return Promise.resolve(Tu(t))};let Iu=(()=>{class t{constructor(){this.compileModuleSync=Eu,this.compileModuleAsync=Su,this.compileModuleAndAllComponentsSync=Cu,this.compileModuleAndAllComponentsAsync=ku}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const ju=(()=>Promise.resolve(0))();function Au(t){"undefined"==typeof Zone?ju.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Pu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wa(!1),this.onMicrotaskEmpty=new Wa(!1),this.onStable=new Wa(!1),this.onError=new Wa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Du(t),Nu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Du(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Lu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Uu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Lu(t),e.invoke(r,i,o,s,a)}finally{Uu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Du(t),Nu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ru,qs,qs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ru={};function Nu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Du(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Lu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Uu(t){t._nesting--,Nu(t)}class Vu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wa,this.onMicrotaskEmpty=new Wa,this.onStable=new Wa,this.onError=new Wa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Mu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pu.assertNotInAngularZone(),Au(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Au(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Pn(Pu))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})(),Fu=(()=>{class t{constructor(){this._applications=new Map,Bu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Bu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();class qu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function zu(t){Bu=t}let Hu,Bu=new qu,Ku=!0,$u=!1;function Gu(){return $u=!0,Ku}function Wu(){if($u)throw new Error("Cannot enable prod mode after platform setup.");Ku=!1}const Ju=new un("AllowMultipleToken");class Zu{constructor(t,e){this.name=t,this.token=e}}function Xu(t,e,n=[]){const r="Platform: "+e,i=new un(r);return(e=[])=>{let o=Yu();if(!o||o.injector.get(Ju,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:co,useValue:"platform"});!function(t){if(Hu&&!Hu.destroyed&&!Hu.injector.get(Ju,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Hu=t.get(Qu);const e=t.get(bu,null);e&&e.forEach(t=>t())}(Eo.create({providers:t,name:r}))}return function(t){const e=Yu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Yu(){return Hu&&!Hu.destroyed?Hu:null}let Qu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Vu:("zone.js"===t?void 0:t)||new Pu({enableLongStackTrace:Gu(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Pu,useValue:n}];return n.run(()=>{const e=Eo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(xr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{nc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Jo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(fu);return t.runInitializers(),t.donePromise.then(()=>(Is(i.injector.get(wu,Cs)||Cs),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=tc({},e);return function(t,e,n){const r=new Fa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ec);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${m(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Pn(Eo))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function tc(t,e){return Array.isArray(e)?e.reduce(tc,t):Object.assign(Object.assign({},t),e)}let ec=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Pu.assertNotInAngularZone(),Au(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Pu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Vs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(xa),i=n.create(Eo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Mu,null),a=s&&i.injector.get(Fu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),nc(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),Gu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;nc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Pn(Pu),Pn(vu),Pn(Eo),Pn(xr),Pn(Fs),Pn(fu))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function nc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class rc{}class ic{}const oc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let sc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||oc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>ac(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ac(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Pn(Iu),Pn(ic,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function ac(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const uc=function(t){return null},cc=Xu(null,"core",[{provide:mu,useValue:"unknown"},{provide:Qu,deps:[Eo]},{provide:Fu,deps:[]},{provide:vu,deps:[]}]),lc=[{provide:ec,useClass:ec,deps:[Pu,vu,Eo,xr,Fs,fu]},{provide:Da,deps:[Pu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:fu,useClass:fu,deps:[[new wn,hu]]},{provide:Iu,useClass:Iu,deps:[]},pu,{provide:aa,useFactory:function(){return ba},deps:[]},{provide:ua,useFactory:function(){return ma},deps:[]},{provide:wu,useFactory:function(t){return Is(t=t||"undefined"!=typeof $localize&&$localize.locale||Cs),t},deps:[[new vn(wu),new wn,new On]]},{provide:_u,useValue:"USD"}];let hc=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=E({factory:function(e){return new(e||t)(Pn(ec))},providers:lc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return w}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return y}),n.d(e,"e",function(){return C}),n.d(e,"f",function(){return x}),n.d(e,"g",function(){return E}),n.d(e,"h",function(){return i}),n.d(e,"i",function(){return o}),n.d(e,"j",function(){return a}),n.d(e,"k",function(){return l}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return d}),n.d(e,"n",function(){return p}),n.d(e,"o",function(){return b}),n.d(e,"p",function(){return u}),n.d(e,"q",function(){return c}),n.d(e,"r",function(){return f}),n.d(e,"s",function(){return g}),n.d(e,"t",function(){return m});var r=n("uXP2");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}function b(){return"indexedDB"in self&&null!=indexedDB}function m(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function y(){return!(!navigator||!navigator.cookieEnabled)}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,w.prototype.create),o}return Object(r.c)(e,t),e}(Error),w=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?_(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function _(t,e){return t.replace(O,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var O=/\{\$([^}]+)}/g;function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function T(){}function C(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return m}),n.d(e,"g",function(){return S}),n.d(e,"h",function(){return O}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return b}),n.d(e,"k",function(){return x});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],b=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),m=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.q("angularfire2.app.options"),v=new u.q("angularfire2.app.nameOrConfig");class w{}const _=new u.O("6.1.4");function O(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const x=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:w,useFactory:O,deps:[y,u.z,[new u.A,v]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function b(t,e=0){return function(n){return n.lift(new m(t,e))}}class m{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},uXP2:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("uXP2"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.h)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var b=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.f)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.f)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.i)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(b){u={error:b}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.i)(e,t)},createSubscribe:s.g,ErrorFactory:s.b,deepExtend:s.i}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.k)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=b.initializeApp;b.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.q)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var w=b;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new m(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyAtEb_thlfuE48qKlKdUdRf42cmTuvYgaE",authDomain:"docusummaries.firebaseapp.com",projectId:"docusummaries",storageBucket:"docusummaries.appspot.com",messagingSenderId:"754961246857",appId:"1:754961246857:web:f4bad64b3c791faaaff458",measurementId:"G-0E3Y8SW1VF"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Pb)(a).location;return new w(Object(r.Pb)(u),e&&e.origin||"")}const v=new r.q("appBaseHref");let w=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(v,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(v,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(m),r.Pb(u))},t.normalizeQueryParams=b,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:x,token:t,providedIn:"root"}),t})();function x(){return new O(Object(r.Pb)(m),Object(r.Pb)(u))}function E(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.lb;class C{}let k=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function I(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class j{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new j(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new P(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new P(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class P{constructor(t,e){this.record=t,this.view=e}}let R=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}function L(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(t)}'`)}class U{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class V{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const M=new V,F=new U;let q=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return M;if(Object(r.pb)(e))return F;throw L(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb())},t.\u0275pipe=r.Hb({name:"async",type:t,pure:!1}),t})(),z=(()=>{class t{transform(e,n,r){if(null==e)return null;if(!this.supports(e))throw L(t,e);return e.slice(n,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Hb({name:"slice",type:t,pure:!1}),t})(),H=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:C,useClass:k}]}),t})();function B(t){return"browser"===t}function K(t){return"server"===t}let $=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new G(Object(r.Pb)(a),window)}),t})();class G{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=W(this.window.history)||W(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function W(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class J extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new J,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=X||(X=document.querySelector("base"),X)?X.getAttribute("href"):null;return null==e?null:(n=e,Z||(Z=document.createElement("a")),Z.setAttribute("href",n),"/"===Z.pathname.charAt(0)?Z.pathname:"/"+Z.pathname);var n}resetBaseElement(){X=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return I(document.cookie,t)}}let Z,X=null;const Y=new r.q("TRANSITION_ID"),Q=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Y,a,r.r],multi:!0}];class tt{static init(){Object(r.W)(new tt)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const et=new r.q("EventManagerPlugins");let nt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(et),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let it=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),ot=(()=>{class t extends it{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},at=/%COMP%/g;function ut(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ut(t,i,n):(i=i.replace(at,t),n.push(i))}return n}function ct(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let lt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ht(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ft(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new dt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ut(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(nt),r.Pb(ot),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class ht{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(st[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=st[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=st[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ct(n)):this.eventManager.addEventListener(t,e,ct(n))}}class ft extends ht{constructor(t,e,n,r){super(t),this.component=n;const i=ut(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(at,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(at,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class dt extends ht{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ut(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let pt=(()=>{class t extends rt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const gt=["alt","control","meta","shift"],bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vt=(()=>{class t extends rt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(gt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&mt.hasOwnProperty(e)&&(e=mt[e]))}return bt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),gt.forEach(r=>{r!=n&&(0,yt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),wt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:function(){return Object(r.Pb)(_t)},token:t,providedIn:"root"}),t})(),_t=(()=>{class t extends wt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.cb)(e,"HTML")?Object(r.ub)(e):Object(r.ab)(this._doc,String(e));case r.H.STYLE:return Object(r.cb)(e,"Style")?Object(r.ub)(e):e;case r.H.SCRIPT:if(Object(r.cb)(e,"Script"))return Object(r.ub)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.mb)(e),Object(r.cb)(e,"URL")?Object(r.ub)(e):Object(r.bb)(String(e));case r.H.RESOURCE_URL:if(Object(r.cb)(e,"ResourceURL"))return Object(r.ub)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.db)(t)}bypassSecurityTrustStyle(t){return Object(r.gb)(t)}bypassSecurityTrustScript(t){return Object(r.fb)(t)}bypassSecurityTrustUrl(t){return Object(r.hb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.eb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:function(){return t=Object(r.Pb)(r.o),new _t(t.get(a));var t},token:t,providedIn:"root"}),t})();const Ot=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){J.makeCurrent(),tt.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],xt=Object(r.R)(r.V,"browser",Ot),Et=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:et,useClass:pt,multi:!0,deps:[a,r.z,r.B]},{provide:et,useClass:vt,multi:!0,deps:[a]},[],{provide:lt,useClass:lt,deps:[nt,ot,r.c]},{provide:r.E,useExisting:lt},{provide:it,useExisting:ot},{provide:ot,useClass:ot,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:nt,useClass:nt,deps:[et,r.z]},[]];let St=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Y,useExisting:r.c},Q]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:Et,imports:[H,r.f]}),t})();function Tt(){return new Ct(Object(r.Pb)(a))}let Ct=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:Tt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var kt=n("HDdC"),It=n("DH7j"),jt=n("lJxs"),At=n("XoHu"),Pt=n("Cfvw");function Rt(t,e){return new kt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(Pt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Nt=new r.q("NgValueAccessor"),Dt={provide:Nt,useExisting:Object(r.T)(()=>Lt),multi:!0};let Lt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([Dt])]}),t})();const Ut={provide:Nt,useExisting:Object(r.T)(()=>Mt),multi:!0},Vt=new r.q("CompositionEventMode");let Mt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Vt,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([Ut])]}),t})();function Ft(t){return null==t||0===t.length}function qt(t){return null!=t&&"number"==typeof t.length}const zt=new r.q("NgValidators"),Ht=new r.q("NgAsyncValidators"),Bt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Kt{static min(t){return e=>{if(Ft(e.value)||Ft(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ft(e.value)||Ft(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ft(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ft(t.value)||Bt.test(t.value)?null:{email:!0}}static minLength(t){return e=>Ft(e.value)||!qt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>qt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Kt.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ft(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter($t);return 0==e.length?null:function(t){return Wt(Jt(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter($t);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(It.a)(e))return Rt(e,null);if(Object(At.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Rt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Rt(t=1===t.length&&Object(It.a)(t[0])?t[0]:t,null).pipe(Object(jt.a)(t=>e(...t)))}return Rt(t,null)}(Jt(t,e).map(Gt)).pipe(Object(jt.a)(Wt))}}}function $t(t){return null!=t}function Gt(t){const e=Object(r.qb)(t)?Object(Pt.a)(t):t;return Object(r.pb)(e),e}function Wt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Jt(t,e){return e.map(e=>e(t))}function Zt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Xt(t){return null!=t?Kt.compose(Zt(t)):null}function Yt(t){return null!=t?Kt.composeAsync(Zt(t)):null}function Qt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let te=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Xt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),ee=(()=>{class t extends te{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ne(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const ne=r.Nb(ee);class re extends te{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ie{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let oe=(()=>{class t extends ie{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(re,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),se=(()=>{class t extends ie{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ee,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const ae={provide:Nt,useExisting:Object(r.T)(()=>ue),multi:!0};let ue=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([ae])]}),t})();const ce={provide:Nt,useExisting:Object(r.T)(()=>he),multi:!0};let le=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),he=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(re),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(le),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([ce])]}),t})();const fe={provide:Nt,useExisting:Object(r.T)(()=>de),multi:!0};let de=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([fe])]}),t})();const pe={provide:Nt,useExisting:Object(r.T)(()=>be),multi:!0};function ge(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let be=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=ge(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([pe])]}),t})(),me=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ge(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(be,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const ye={provide:Nt,useExisting:Object(r.T)(()=>we),multi:!0};function ve(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let we=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([ye])]}),t})(),_e=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ve(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ve(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(we,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Oe(t,e){Ee(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Se(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Se(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function xe(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ee(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Qt(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(Qt(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();xe(e._rawValidators,n),xe(e._rawAsyncValidators,n)}}function Se(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Te=[Lt,de,ue,be,we,he];function Ce(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ke="VALID",Ie="INVALID",je="PENDING",Ae="DISABLED";function Pe(t){return(Le(t)?t.validators:t)||null}function Re(t){return Array.isArray(t)?Xt(t):t||null}function Ne(t,e){return(Le(e)?e.asyncValidators:t)||null}function De(t){return Array.isArray(t)?Yt(t):t||null}function Le(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ue{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Re(this._rawValidators),this._composedAsyncValidatorFn=De(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ke}get invalid(){return this.status===Ie}get pending(){return this.status==je}get disabled(){return this.status===Ae}get enabled(){return this.status!==Ae}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Re(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=De(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=je,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ae,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ke,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ke&&this.status!==je||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ae:ke}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=je,this._hasOwnPendingAsyncValidator=!0;const e=Gt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Me?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Fe&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Ae:this.errors?Ie:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(je)?je:this._anyControlsHaveStatus(Ie)?Ie:ke}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Le(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ve extends Ue{constructor(t=null,e,n){super(Pe(e),Ne(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ce(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ce(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Me extends Ue{constructor(t,e,n){super(Pe(e),Ne(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ve?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Fe extends Ue{constructor(t,e,n){super(Pe(e),Ne(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ve?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const qe={provide:ee,useExisting:Object(r.T)(()=>He)},ze=(()=>Promise.resolve(null))();let He=(()=>{class t extends ee{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Me({},Xt(t),Yt(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ze.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Oe(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ze.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Ce(this._directives,t)})}addFormGroup(t){ze.then(()=>{const e=this._findContainer(t.path),n=new Me({});(function(t,e){Ee(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ze.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ze.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(zt,10),r.Ib(Ht,10))},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([qe]),r.vb]}),t})();const Be={provide:re,useExisting:Object(r.T)(()=>$e)},Ke=(()=>Promise.resolve(null))();let $e=(()=>{class t extends re{constructor(t,e,n,i){super(),this.control=new Ve,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Mt?n=t:(e=t,Te.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Oe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ke.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ke.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ee,9),r.Ib(zt,10),r.Ib(Ht,10),r.Ib(Nt,10))},t.\u0275dir=r.Db({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([Be]),r.vb,r.wb]}),t})(),Ge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),We=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),Je=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[le],imports:[We]}),t})();var Ze=n("LRne"),Xe=n("XNiG"),Ye=n("9ppp");class Qe extends Xe.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ye.a;return this._value}next(t){super.next(this._value=t)}}var tn=n("z+Ro"),en=n("7o/Q");class nn extends en.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class rn extends en.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var on=n("SeVD");function sn(t,e,n,r,i=new rn(t,n,r)){if(!i.closed)return e instanceof kt.a?e.subscribe(i):Object(on.a)(e)(i)}var an=n("yCtX");const un={};class cn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ln(t,this.resultSelector))}}class ln extends nn{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(un),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(sn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===un?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const hn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var fn=n("EY2u");function dn(t){return new kt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Pt.a)(n):Object(fn.b)()).subscribe(e)})}var pn=n("zx2A");function gn(t,e){return"function"==typeof e?n=>n.pipe(gn((n,r)=>Object(Pt.a)(t(n,r)).pipe(Object(jt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new bn(t))}class bn{constructor(t){this.project=t}call(t,e){return e.subscribe(new mn(t,this.project))}}class mn extends pn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new pn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(pn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const yn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function vn(t){return e=>0===t?Object(fn.b)():e.lift(new wn(t))}class wn{constructor(t){if(this.total=t,this.total<0)throw new yn}call(t,e){return e.subscribe(new _n(t,this.total))}}class _n extends en.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}var On=n("bHdf");function xn(){return Object(On.a)(1)}function En(...t){return xn()(Object(Ze.a)(...t))}function Sn(...t){const e=t[t.length-1];return Object(tn.a)(e)?(t.pop(),n=>En(t,n,e)):e=>En(t,e)}function Tn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Cn(t,e,n))}}class Cn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new kn(t,this.accumulator,this.seed,this.hasSeed))}}class kn extends en.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function In(t,e){return function(n){return n.lift(new jn(t,e))}}class jn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new An(t,this.predicate,this.thisArg))}}class An extends en.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Pn(t){return function(e){const n=new Rn(t),r=e.lift(n);return n.caught=r}}class Rn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Nn(t,this.selector,this.caught))}}class Nn extends pn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new pn.a(this);this.add(r);const i=Object(pn.c)(n,r);i!==r&&this.add(i)}}}var Dn=n("5+tZ");function Ln(t,e){return Object(Dn.a)(t,e,1)}function Un(t){return function(e){return 0===t?Object(fn.b)():e.lift(new Vn(t))}}class Vn{constructor(t){if(this.total=t,this.total<0)throw new yn}call(t,e){return e.subscribe(new Mn(t,this.total))}}class Mn extends en.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Fn(t=Hn){return e=>e.lift(new qn(t))}class qn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new zn(t,this.errorFactory))}}class zn extends en.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Tw){t=Tw}this.destination.error(t)}}}function Hn(){return new hn}function Bn(t=null){return e=>e.lift(new Kn(t))}class Kn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new $n(t,this.defaultValue))}}class $n extends en.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Gn=n("SpAZ");function Wn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?In((e,n)=>t(e,n,r)):Gn.a,vn(1),n?Bn(e):Fn(()=>new hn))}var Jn=n("vkgz"),Zn=n("quSY");class Xn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Yn(t,this.callback))}}class Yn extends en.a{constructor(t,e){super(t),this.add(new Zn.a(e))}}class Qn{constructor(t,e){this.id=t,this.url=e}}class tr extends Qn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class er extends Qn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nr extends Qn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rr extends Qn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ir extends Qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class or extends Qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sr extends Qn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ar extends Qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ur extends Qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const br="primary";class mr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function yr(t){return new mr(t)}function vr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function wr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _r(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Or(t[i],e[i]))return!1;return!0}function Or(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function xr(t){return Array.prototype.concat.apply([],t)}function Er(t){return t.length>0?t[t.length-1]:null}function Sr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Tr(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(Pt.a)(Promise.resolve(t)):Object(Ze.a)(t)}function Cr(t,e,n){return n?function(t,e){return _r(t,e)}(t.queryParams,e.queryParams)&&kr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Or(t[n],e[n]))}(t.queryParams,e.queryParams)&&Ir(t.root,e.root)}function kr(t,e){if(!Nr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!kr(t.children[n],e.children[n]))return!1}return!0}function Ir(t,e){return jr(t,e,e.segments)}function jr(t,e,n){if(t.segments.length>n.length)return!!Nr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Nr(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ir(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Nr(t.segments,r)&&!!t.children.primary&&jr(t.children.primary,e,i)}}class Ar{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yr(this.queryParams)),this._queryParamMap}toString(){return Ur.serialize(this)}}class Pr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Sr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vr(this)}}class Rr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=yr(this.parameters)),this._parameterMap}toString(){return Kr(this)}}function Nr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Dr{}class Lr{parse(t){const e=new Zr(t);return new Ar(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Mr(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${qr(e)}=${qr(t)}`).join("&"):`${qr(e)}=${qr(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Ur=new Lr;function Vr(t){return t.segments.map(t=>Kr(t)).join("/")}function Mr(t,e){if(!t.hasChildren())return Vr(t);if(e){const e=t.children.primary?Mr(t.children.primary,!1):"",n=[];return Sr(t.children,(t,e)=>{e!==br&&n.push(`${e}:${Mr(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Sr(t.children,(t,r)=>{r===br&&(n=n.concat(e(t,r)))}),Sr(t.children,(t,r)=>{r!==br&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===br?[Mr(t.children.primary,!1)]:[`${n}:${Mr(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Vr(t)}/${e[0]}`:`${Vr(t)}/(${e.join("//")})`}}function Fr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qr(t){return Fr(t).replace(/%3B/gi,";")}function zr(t){return Fr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hr(t){return decodeURIComponent(t)}function Br(t){return Hr(t.replace(/\+/g,"%20"))}function Kr(t){return`${zr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${zr(t)}=${zr(e[t])}`).join("")}`;var e}const $r=/^[^\/()?;=#]+/;function Gr(t){const e=t.match($r);return e?e[0]:""}const Wr=/^[^=?&#]+/,Jr=/^[^?&#]+/;class Zr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pr([],{}):new Pr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Pr(t,e)),n}parseSegment(){const t=Gr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Rr(Hr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Gr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Gr(this.remaining);t&&(n=t,this.capture(n))}t[Hr(e)]=Hr(n)}parseQueryParam(t){const e=function(t){const e=t.match(Wr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Jr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Br(e),i=Br(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Gr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=br);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Pr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Xr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Yr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Yr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Qr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Qr(t,this._root).map(t=>t.value)}}function Yr(t,e){if(t===e.value)return e;for(const n of e.children){const e=Yr(t,n);if(e)return e}return null}function Qr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Qr(t,n);if(r.length)return r.unshift(e),r}return[]}class ti{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ei(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ni extends Xr{constructor(t,e){super(t),this.snapshot=e,ui(this,t)}toString(){return this.snapshot.toString()}}function ri(t,e){const n=function(t,e){const n=new si([],{},{},"",{},br,e,null,t.root,-1,{});return new ai("",new ti(n,[]))}(t,e),r=new Qe([new Rr("",{})]),i=new Qe({}),o=new Qe({}),s=new Qe({}),a=new Qe(""),u=new ii(r,i,s,a,o,br,e,n.root);return u.snapshot=n.root,new ni(new ti(u,[]),n)}class ii{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(jt.a)(t=>yr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(jt.a)(t=>yr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oi(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class si{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ai extends Xr{constructor(t,e){super(e),this.url=t,ui(this,e)}toString(){return ci(this._root)}}function ui(t,e){e.value._routerState=t,e.children.forEach(e=>ui(t,e))}function ci(t){const e=t.children.length>0?` { ${t.children.map(ci).join(", ")} } `:"";return`${t.value}${e}`}function li(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_r(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),_r(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_r(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),_r(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hi(t,e){return _r(t.params,e.params)&&function(t,e){return Nr(t,e)&&t.every((t,n)=>_r(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||hi(t.parent,e.parent))}function fi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return fi(t,e,r);return fi(t,e)})}(t,e,n);return new ti(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return di(e,t),t}{const n=new ii(new Qe((r=e.value).url),new Qe(r.params),new Qe(r.queryParams),new Qe(r.fragment),new Qe(r.data),r.outlet,r.component,r),i=e.children.map(e=>fi(t,e));return new ti(n,i)}}var r}function di(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)di(t.children[n],e.children[n])}function pi(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function gi(t){return"object"==typeof t&&null!=t&&t.outlets}function bi(t,e,n,r,i){let o={};return r&&Sr(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Ar(n.root===t?e:mi(n.root,t,e),o,i)}function mi(t,e,n){const r={};return Sr(t.children,(t,i)=>{r[i]=t===e?n:mi(t,e,n)}),new Pr(t.segments,r)}class yi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&pi(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(gi);if(r&&r!==Er(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function wi(t,e,n){if(t||(t=new Pr([],{})),0===t.segments.length&&t.hasChildren())return _i(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(gi(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Si(a,u,e))return o;r+=2}else{if(!Si(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Pr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Pr(t.segments.slice(r.pathIndex),t.children),_i(e,0,i)}return r.match&&0===i.length?new Pr(t.segments,{}):r.match&&!t.hasChildren()?Oi(t,e,n):r.match?_i(t,0,i):Oi(t,e,n)}function _i(t,e,n){if(0===n.length)return new Pr(t.segments,{});{const r=function(t){return gi(t[0])?t[0].outlets:{[br]:t}}(n),i={};return Sr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=wi(t.children[r],e,n))}),Sr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Pr(t.segments,i)}}function Oi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(gi(o)){const t=xi(o.outlets);return new Pr(r,t)}if(0===i&&pi(n[0])){r.push(new Rr(t.segments[e].path,n[0])),i++;continue}const s=gi(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&pi(a)?(r.push(new Rr(s,Ei(a))),i+=2):(r.push(new Rr(s,{})),i++)}return new Pr(r,{})}function xi(t){const e={};return Sr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Oi(new Pr([],{}),0,t))}),e}function Ei(t){const e={};return Sr(t,(t,n)=>e[n]=""+t),e}function Si(t,e,n){return t==n.path&&_r(e,n.parameters)}class Ti{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),li(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=ei(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Sr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=ei(t),i=t.value.component?n.children:e;Sr(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=ei(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new pr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new fr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(li(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ci(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ci(t){li(t.value),t.children.forEach(Ci)}class ki{constructor(t,e){this.routes=t,this.module=e}}function Ii(t){return"function"==typeof t}function ji(t){return t instanceof Ar}const Ai=Symbol("INITIAL_VALUE");function Pi(){return gn(t=>function(...t){let e=void 0,n=void 0;return Object(tn.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(It.a)(t[0])&&(t=t[0]),Object(an.a)(t,n).lift(new cn(e))}(...t.map(t=>t.pipe(vn(1),Sn(Ai)))).pipe(Tn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ai)return t;if(r===Ai&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ji(r))return r}return t},t)},Ai),In(t=>t!==Ai),Object(jt.a)(t=>ji(t)?t:!0===t),vn(1)))}let Ri=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[Ao]},encapsulation:2}),t})();function Ni(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Di(r,Li(e,r))}}function Di(t,e){t.children&&Ni(t.children,e)}function Li(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ui(t){const e=t.children&&t.children.map(Ui),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==br&&(n.component=Ri),n}function Vi(t){return t.outlet||br}function Mi(t,e){const n=t.filter(t=>Vi(t)===e);return n.push(...t.filter(t=>Vi(t)!==e)),n}const Fi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qi(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Fi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||wr)(n,t,e);if(!i)return Object.assign({},Fi);const o={};Sr(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function zi(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Hi(t,e,n)&&Vi(n)!==br)}(t,n,r)){const i=new Pr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Vi(o)!==br){const n=new Pr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Vi(o)]=n}return i}(t,e,r,new Pr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Hi(t,e,n))}(t,n,r)){const o=new Pr(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Hi(t,n,a)&&!i[Vi(a)]){const n=new Pr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Vi(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Pr(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Hi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Bi(t,e,n,r){return!!(Vi(t)===r||r!==br&&Hi(e,n,t))&&("**"===t.path||qi(e,t,n).matched)}function Ki(t,e,n){return 0===e.length&&!t.children[n]}class $i{constructor(t){this.segmentGroup=t||null}}class Gi{constructor(t){this.urlTree=t}}function Wi(t){return new kt.a(e=>e.error(new $i(t)))}function Ji(t){return new kt.a(e=>e.error(new Gi(t)))}function Zi(t){return new kt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Xi{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=zi(this.urlTree.root,[],[],this.config).segmentGroup,e=new Pr(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,br).pipe(Object(jt.a)(t=>this.createUrlTree(Yi(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pn(t=>{if(t instanceof Gi)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof $i)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,br).pipe(Object(jt.a)(e=>this.createUrlTree(Yi(e),t.queryParams,t.fragment))).pipe(Pn(t=>{if(t instanceof $i)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Pr([],{[br]:t}):t;return new Ar(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(jt.a)(t=>new Pr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Pt.a)(r).pipe(Ln(r=>{const i=n.children[r],o=Mi(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(jt.a)(t=>({segment:t,outlet:r})))}),Tn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?In((e,n)=>t(e,n,r)):Gn.a,Un(1),n?Bn(e):Fn(()=>new hn))}())}expandSegment(t,e,n,r,i,o){return Object(Pt.a)(n).pipe(Ln(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Pn(t=>{if(t instanceof $i)return Object(Ze.a)(null);throw t}))),Wn(t=>!!t),Pn((t,n)=>{if(t instanceof hn||"EmptyError"===t.name){if(Ki(e,r,i))return Object(Ze.a)(new Pr([],{}));throw new $i(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Bi(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Wi(e):Wi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ji(i):this.lineralizeSegments(n,i).pipe(Object(Dn.a)(n=>{const i=new Pr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=qi(e,r,i);if(!s)return Wi(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ji(l):this.lineralizeSegments(r,l).pipe(Object(Dn.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(jt.a)(t=>(n._loadedConfig=t,new Pr(r,{})))):Object(Ze.a)(new Pr(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=qi(e,n,r);if(!o)return Wi(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Dn.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=zi(e,s,u,o),l=new Pr(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(jt.a)(t=>new Pr(s,t)));if(0===o.length&&0===c.length)return Object(Ze.a)(new Pr(s,{}));const h=Vi(n)===i;return this.expandSegment(r,l,o,c,h?br:i,!0).pipe(Object(jt.a)(t=>new Pr(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ze.a)(new ki(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ze.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Dn.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(jt.a)(t=>(e._loadedConfig=t,t))):function(t){return new kt.a(e=>e.error(vr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ze.a)(new ki([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ze.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Ii(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Ii(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Tr(o)});return Object(Ze.a)(i).pipe(Pi(),Object(Jn.a)(t=>{if(!ji(t))return;const e=vr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(jt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ze.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Zi(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ar(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Sr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Sr(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Pr(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Yi(t){const e={};for(const[n,r]of Object.entries(t.children)){const t=Yi(r);(t.segments.length>0||t.hasChildren())&&(e[n]=t)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Pr(t.segments.concat(e.segments),e.children)}return t}(new Pr(t.segments,e))}class Qi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class to{constructor(t,e){this.component=t,this.route=e}}function eo(t,e,n){const r=t._root;return ro(r,e?e._root:null,n,[r.value])}function no(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ro(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ei(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Nr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nr(t.url,e.url)||!_r(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hi(t,e)||!_r(t.queryParams,e.queryParams);case"paramsChange":default:return!hi(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Qi(r)):(o.data=s.data,o._resolvedData=s._resolvedData),ro(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new to(a.outlet.component,s))}else s&&io(e,a,i),i.canActivateChecks.push(new Qi(r)),ro(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Sr(o,(t,e)=>io(t,n.getContext(e),i)),i}function io(t,e,n){const r=ei(t),i=t.value;Sr(r,(t,r)=>{io(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new to(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function oo(t,e){return null!==t&&e&&e(new dr(t)),Object(Ze.a)(!0)}function so(t,e){return null!==t&&e&&e(new hr(t)),Object(Ze.a)(!0)}function ao(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ze.a)(!0);const i=r.map(r=>dn(()=>{const i=no(r,e,n);let o;if(function(t){return t&&Ii(t.canActivate)}(i))o=Tr(i.canActivate(e,t));else{if(!Ii(i))throw new Error("Invalid CanActivate guard");o=Tr(i(e,t))}return o.pipe(Wn())}));return Object(Ze.a)(i).pipe(Pi())}function uo(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>dn(()=>{const i=e.guards.map(i=>{const o=no(i,e.node,n);let s;if(function(t){return t&&Ii(t.canActivateChild)}(o))s=Tr(o.canActivateChild(r,t));else{if(!Ii(o))throw new Error("Invalid CanActivateChild guard");s=Tr(o(r,t))}return s.pipe(Wn())});return Object(Ze.a)(i).pipe(Pi())}));return Object(Ze.a)(i).pipe(Pi())}class co{}function lo(t){return new kt.a(e=>e.error(t))}class ho{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=zi(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,br);if(null===e)return null;const n=new si([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},br,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ti(n,e),i=new ai(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=oi(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Mi(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!fo(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===br?-1:e.value.outlet===br?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Ki(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Bi(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Er(n).parameters:{};i=new si(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bo(t),Vi(t),t.component,t,po(e),go(e)+n.length,mo(t))}else{const r=qi(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new si(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bo(t),Vi(t),t.component,t,po(e),go(e)+o.length,mo(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=zi(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new ti(i,t)]}if(0===a.length&&0===c.length)return[new ti(i,[])];const l=Vi(t)===r,h=this.processSegment(a,u,c,l?br:r);return null===h?null:[new ti(i,h)]}}function fo(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function po(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function go(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function bo(t){return t.data||{}}function mo(t){return t.resolve||{}}function yo(t){return function(e){return e.pipe(gn(e=>{const n=t(e);return n?Object(Pt.a)(n).pipe(Object(jt.a)(()=>e)):Object(Pt.a)([e])}))}}class vo extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const wo=new r.q("ROUTES");class _o{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(jt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new ki(xr(r.injector.get(wo)).map(Ui),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Pt.a)(this.loader.load(t)):Tr(t()).pipe(Object(Dn.a)(t=>t instanceof r.v?Object(Ze.a)(t):Object(Pt.a)(this.compiler.compileModuleAsync(t))))}}class Oo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xo,this.attachRef=null}}class xo{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Oo,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Eo{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function So(t){throw t}function To(t,e,n){return e.parse("/")}function Co(t,e){return Object(Ze.a)(null)}let ko=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Xe.a,this.errorHandler=So,this.malformedUriErrorHandler=To,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Co,afterPreactivation:Co},this.urlHandlingStrategy=new Eo,this.routeReuseStrategy=new vo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Ar(new Pr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new _o(s,a,t=>this.triggerEvent(new cr(t)),t=>this.triggerEvent(new lr(t))),this.routerState=ri(this.currentUrlTree,this.rootComponentType),this.transitions=new Qe({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(In(t=>0!==t.id),Object(jt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),gn(t=>{let n=!1,r=!1;return Object(Ze.a)(t).pipe(Object(Jn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ze.a)(t).pipe(gn(t=>{const n=this.transitions.getValue();return e.next(new tr(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?fn.a:[t]}),gn(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(gn(t=>function(t,e,n,r,i){return new Xi(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(jt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Jn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Dn.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new ho(t,e,n,r,i,o).recognize();return null===s?lo(new co):Object(Ze.a)(s)}catch(Tw){return lo(Tw)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(jt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Jn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Jn.a)(t=>{const n=new ir(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new tr(n,this.serializeUrl(r),i,o);e.next(a);const u=ri(r,this.rootComponentType).snapshot;return Object(Ze.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),fn.a}),yo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Jn.a)(t=>{const e=new or(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(jt.a)(t=>Object.assign(Object.assign({},t),{guards:eo(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Dn.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Ze.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Pt.a)(t).pipe(Object(Dn.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ze.a)(!0);const s=o.map(o=>{const s=no(o,e,i);let a;if(function(t){return t&&Ii(t.canDeactivate)}(s))a=Tr(s.canDeactivate(t,e,n,r));else{if(!Ii(s))throw new Error("Invalid CanDeactivate guard");a=Tr(s(t,e,n,r))}return a.pipe(Wn())});return Object(Ze.a)(s).pipe(Pi())}(t.component,t.route,n,e,r)),Wn(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Dn.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Pt.a)(e).pipe(Ln(e=>Object(Pt.a)([so(e.route.parent,r),oo(e.route,r),uo(t,e.path,n),ao(t,e.route,n)]).pipe(xn(),Wn(t=>!0!==t,!0))),Wn(t=>!0!==t,!0))}(r,o,t,e):Object(Ze.a)(n)),Object(jt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Jn.a)(t=>{if(ji(t.guardsResult)){const e=vr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Jn.a)(t=>{const e=new sr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),In(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new nr(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),yo(t=>{if(t.guards.canActivateChecks.length)return Object(Ze.a)(t).pipe(Object(Jn.a)(t=>{const e=new ar(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),gn(t=>{let n=!1;return Object(Ze.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Dn.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ze.a)(t);let o=0;return Object(Pt.a)(n).pipe(Ln(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ze.a)({});const o={};return Object(Pt.a)(i).pipe(Object(Dn.a)(i=>function(t,e,n,r){const i=no(t,e,r);return Tr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Jn.a)(t=>{o[i]=t}))),Un(1),Object(Dn.a)(()=>Object.keys(o).length===i.length?Object(Ze.a)(o):fn.a))}(t._resolve,t,e,r).pipe(Object(jt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),oi(t,n).resolve),null)))}(t.route,e,r,i)),Object(Jn.a)(()=>o++),Un(1),Object(Dn.a)(e=>o===n.length?Object(Ze.a)(t):fn.a))}))}),Object(Jn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new nr(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Jn.a)(t=>{const e=new ur(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),yo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(jt.a)(t=>{const e=function(t,e,n){const r=fi(t,e._root,n?n._root:void 0);return new ni(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Jn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(jt.a)(t=>(new Ti(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Jn.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new nr(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Xn(i))),Pn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ji(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new nr(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new rr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Gh){t.reject(Gh)}}var i;return fn.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ni(t),this.config=t.map(Ui),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return bi(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new yi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Sr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new yi(n,e,r)}(n);if(o.toRoot())return bi(e.root,new Pr([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new vi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new vi(t,t===e.root,0)}const r=pi(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new vi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?_i(s.segmentGroup,s.index,o.commands):wi(s.segmentGroup,s.index,o.commands);return bi(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ji(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Tw){e=this.malformedUriErrorHandler(Tw,this.urlSerializer,t)}return e}isActive(t,e){if(ji(t))return Cr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Cr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new er(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(Dr),r.Pb(xo),r.Pb(O),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Io=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Xe.a,this.subscription=t.events.subscribe(t=>{t instanceof er&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:jo(this.skipLocationChange),replaceUrl:jo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:jo(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ko),r.Ib(ii),r.Ib(m))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Sb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ob("href",e.href,r.gc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function jo(t){return""===t||!!t}let Ao=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||br,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Po(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(xo),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Po{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ii?this.route:t===xo?this.childContexts:this.parent.get(t,e)}}class Ro{}class No{preload(t,e){return Object(Ze.a)(null)}}let Do=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new _o(e,n,e=>t.triggerEvent(new cr(e)),e=>t.triggerEvent(new lr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(In(t=>t instanceof er),Ln(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Pt.a)(n).pipe(Object(On.a)(),Object(jt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Dn.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ko),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(Ro))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Lo=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof er&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new gr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ko),r.Pb($),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Uo=new r.q("ROUTER_CONFIGURATION"),Vo=new r.q("ROUTER_FORROOT_GUARD"),Mo=[O,{provide:Dr,useClass:Lr},{provide:ko,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new ko(null,t,e,n,r,i,o,xr(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Dr,xo,O,r.r,r.w,r.i,wo,Uo,[class{},new r.A],[class{},new r.A]]},xo,{provide:ii,useFactory:function(t){return t.routerState.root},deps:[ko]},{provide:r.w,useClass:r.J},Do,No,class{preload(t,e){return e().pipe(Pn(()=>Object(Ze.a)(null)))}},{provide:Uo,useValue:{enableTracing:!1}}];function Fo(){return new r.y("Router",ko)}let qo=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Mo,Ko(e),{provide:Vo,useFactory:Bo,deps:[[ko,new r.A,new r.I]]},{provide:Uo,useValue:n||{}},{provide:m,useFactory:Ho,deps:[u,[new r.p(v),new r.A],Uo]},{provide:Lo,useFactory:zo,deps:[ko,$,Uo]},{provide:Ro,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:No},{provide:r.y,multi:!0,useFactory:Fo},[$o,{provide:r.d,multi:!0,useFactory:Go,deps:[$o]},{provide:Jo,useFactory:Wo,deps:[$o]},{provide:r.b,multi:!0,useExisting:Jo}]]}}static forChild(e){return{ngModule:t,providers:[Ko(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(Vo,8),r.Pb(ko,8))}}),t})();function zo(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Lo(t,e,n)}function Ho(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function Bo(t){return"guarded"}function Ko(t){return[{provide:r.a,multi:!0,useValue:t},{provide:wo,multi:!0,useValue:t}]}let $o=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Xe.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ko),r=this.injector.get(Uo);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ze.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Uo),n=this.injector.get(Do),i=this.injector.get(Lo),o=this.injector.get(ko),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function Go(t){return t.appInitializer.bind(t)}function Wo(t){return t.bootstrapListener.bind(t)}const Jo=new r.q("Router Initializer");let Zo=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-about"]],decls:5,vars:0,consts:[[1,"pageContent"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"h1"),r.jc(2,"about works!"),r.Kb(),r.Lb(3,"p"),r.jc(4,"This is an archive of a bunch of docos with summaries about them"),r.Kb(),r.Kb())},styles:[""]}),t})();function Xo(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(Tw){o(Tw)}}function a(t){try{u(r.throw(t))}catch(Tw){o(Tw)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}var Yo=n("D0XW");function Qo(){return t=>t.lift(new ts)}class ts{call(t,e){return e.subscribe(new es(t))}}class es extends en.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function ns(t,e){return n=>n.lift(new rs(t,e))}class rs{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new is(t,this.compare,this.keySelector))}}class is extends en.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var os=n("pxpQ"),ss=n("spgP"),as=n("Jgta"),us=n("zIRd"),cs=n("q/0M"),ls=n("qOnz"),hs=function(t,e){return(hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function fs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ds,ps="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gs=gs||{},bs=ps||self;function ms(){}function ys(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function vs(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ws="closure_uid_"+(1e9*Math.random()>>>0),_s=0;function Os(t,e,n){return t.call.apply(t.bind,arguments)}function xs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Es(t,e,n){return(Es=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Os:xs).apply(null,arguments)}function Ss(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ts(){return Date.now()}function Cs(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ks(){this.j=this.j,this.i=this.i}ks.prototype.j=!1,ks.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ws)&&t[ws]||(t[ws]=++_s)}(this)},ks.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Is=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},js=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function As(t){return Array.prototype.concat.apply([],arguments)}function Ps(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Rs(t){return/^[\s\xa0]*$/.test(t)}var Ns,Ds=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ls(t,e){return-1!=t.indexOf(e)}function Us(t,e){return t<e?-1:t>e?1:0}t:{var Vs=bs.navigator;if(Vs){var Ms=Vs.userAgent;if(Ms){Ns=Ms;break t}}Ns=""}function Fs(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function qs(t){var e={};for(var n in t)e[n]=t[n];return e}var zs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hs(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<zs.length;o++)n=zs[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bs(t){return Bs[" "](t),t}Bs[" "]=ms;var Ks,$s,Gs=Ls(Ns,"Opera"),Ws=Ls(Ns,"Trident")||Ls(Ns,"MSIE"),Js=Ls(Ns,"Edge"),Zs=Js||Ws,Xs=Ls(Ns,"Gecko")&&!(Ls(Ns.toLowerCase(),"webkit")&&!Ls(Ns,"Edge"))&&!(Ls(Ns,"Trident")||Ls(Ns,"MSIE"))&&!Ls(Ns,"Edge"),Ys=Ls(Ns.toLowerCase(),"webkit")&&!Ls(Ns,"Edge");function Qs(){var t=bs.document;return t?t.documentMode:void 0}t:{var ta="",ea=($s=Ns,Xs?/rv:([^\);]+)(\)|;)/.exec($s):Js?/Edge\/([\d\.]+)/.exec($s):Ws?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($s):Ys?/WebKit\/(\S+)/.exec($s):Gs?/(?:Version)[ \/]?(\S+)/.exec($s):void 0);if(ea&&(ta=ea?ea[1]:""),Ws){var na=Qs();if(null!=na&&na>parseFloat(ta)){Ks=String(na);break t}}Ks=ta}var ra={};function ia(t){return function(t,e){var n=ra;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ds(String(Ks)).split("."),r=Ds(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Us(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Us(0==s[2].length,0==a[2].length)||Us(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var oa=bs.document&&Ws&&(Qs()||parseInt(Ks,10))||void 0,sa=!Ws||9<=Number(oa),aa=Ws&&!ia("9"),ua=function(){if(!bs.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{bs.addEventListener("test",ms,e),bs.removeEventListener("test",ms,e)}catch(n){}return t}();function ca(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function la(t,e){if(ca.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Xs){t:{try{Bs(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ha[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ca.prototype.b=function(){this.defaultPrevented=!0},Cs(la,ca);var ha={2:"touch",3:"pen",4:"mouse"};la.prototype.b=function(){la.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,aa)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var fa="closure_listenable_"+(1e6*Math.random()|0),da=0;function pa(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++da,this.Y=this.Z=!1}function ga(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ba(t){this.src=t,this.a={},this.b=0}function ma(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Is(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ga(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ya(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ba.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ya(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new pa(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var va="closure_lm_"+(1e6*Math.random()|0),wa={};function _a(t,e,n,r,i){if(r&&r.once)return xa(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)_a(t,e[o],n,r,i);return null}return n=Aa(n),t&&t[fa]?t.va(e,n,vs(r)?!!r.capture:!!r,i):Oa(t,e,n,!1,r,i)}function Oa(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=vs(i)?!!i.capture:!!i;if(s&&!sa)return null;var a=Ia(t);if(a||(t[va]=a=new ba(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ka,e=sa?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ua||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ta(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function xa(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)xa(t,e[o],n,r,i);return null}return n=Aa(n),t&&t[fa]?t.wa(e,n,vs(r)?!!r.capture:!!r,i):Oa(t,e,n,!0,r,i)}function Ea(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ea(t,e[o],n,r,i);else r=vs(r)?!!r.capture:!!r,n=Aa(n),t&&t[fa]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ya(o=t.a[e],n,r,i))&&(ga(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ia(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ya(e,n,r,i)),(n=-1<t?e[t]:null)&&Sa(n))}function Sa(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[fa])ma(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ta(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ia(e))?(ma(n,t),0==n.b&&(n.src=null,e[va]=null)):ga(t)}}}function Ta(t){return t in wa?wa[t]:wa[t]="on"+t}function Ca(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Sa(t),n.call(r,e)}function ka(t,e){if(t.Y)return!0;if(!sa){if(!e)t:{e=["window","event"];for(var n=bs,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ca(t,e=new la(e,this))}return Ca(t,new la(e,this))}function Ia(t){return(t=t[va])instanceof ba?t:null}var ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function Aa(t){return"function"==typeof t?t:(t[ja]||(t[ja]=function(e){return t.handleEvent(e)}),t[ja])}function Pa(){ks.call(this),this.c=new ba(this),this.J=this,this.C=null}function Ra(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ca(e,t);else if(e instanceof ca)e.target=e.target||t;else{var i=e;Hs(e=new ca(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Na(s,r,!0,e)&&i}if(i=Na(s=e.a=t,r,!0,e)&&i,i=Na(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Na(s=e.a=n[o],r,!1,e)&&i}function Na(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&ma(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Cs(Pa,ks),Pa.prototype[fa]=!0,(ds=Pa.prototype).addEventListener=function(t,e,n,r){_a(this,t,e,n,r)},ds.removeEventListener=function(t,e,n,r){Ea(this,t,e,n,r)},ds.G=function(){if(Pa.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ga(n[r]);delete e.a[t],e.b--}}this.C=null},ds.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ds.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Da=bs.JSON.stringify;function La(){this.b=this.a=null}var Ua,Va=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Fa},function(t){t.reset()});function Ma(){var t=Ba,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Fa(){this.next=this.b=this.a=null}function qa(t){bs.setTimeout(function(){throw t},0)}function za(t,e){Ua||function(){var t=bs.Promise.resolve(void 0);Ua=function(){t.then(Ka)}}(),Ha||(Ua(),Ha=!0),Ba.add(t,e)}La.prototype.add=function(t,e){var n=Va.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Fa.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Fa.prototype.reset=function(){this.next=this.b=this.a=null};var Ha=!1,Ba=new La;function Ka(){for(var t;t=Ma();){try{t.a.call(t.b)}catch(n){qa(n)}var e=Va;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ha=!1}function $a(t,e){Pa.call(this),this.b=t||1,this.a=e||bs,this.f=Es(this.Za,this),this.g=Ts()}function Ga(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Wa(t,e,n){if("function"==typeof t)n&&(t=Es(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Es(t.handleEvent,t)}return 2147483647<Number(e)?-1:bs.setTimeout(t,e||0)}function Ja(t){t.a=Wa(function(){t.a=null,t.c&&(t.c=!1,Ja(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Cs($a,Pa),(ds=$a.prototype).aa=!1,ds.M=null,ds.Za=function(){if(this.aa){var t=Ts()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ra(this,"tick"),this.aa&&(Ga(this),this.start()))}},ds.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ts())},ds.G=function(){$a.X.G.call(this),Ga(this),delete this.a};var Za=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}hs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ja(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(bs.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ks);function Xa(t){ks.call(this),this.b=t,this.a={}}Cs(Xa,ks);var Ya=[];function Qa(t,e,n,r){Array.isArray(n)||(n&&(Ya[0]=n.toString()),n=Ya);for(var i=0;i<n.length;i++){var o=_a(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function tu(t){Fs(t.a,function(t,e){this.a.hasOwnProperty(e)&&Sa(t)},t),t.a={}}function eu(){this.a=!0}function nu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Da(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Xa.prototype.G=function(){Xa.X.G.call(this),tu(this)},Xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eu.prototype.info=function(){};var ru={},iu=null;function ou(){return iu=iu||new Pa}function su(t){ca.call(this,ru.Fa,t)}function au(t){var e=ou();Ra(e,new su(e,t))}function uu(t,e){ca.call(this,ru.STAT_EVENT,t),this.stat=e}function cu(t){var e=ou();Ra(e,new uu(e,t))}function lu(t){ca.call(this,ru.Ga,t)}function hu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return bs.setTimeout(function(){t()},e)}ru.Fa="serverreachability",Cs(su,ca),ru.STAT_EVENT="statevent",Cs(uu,ca),ru.Ga="timingevent",Cs(lu,ca);var fu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},du={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function pu(){}function gu(){}pu.prototype.a=null;var bu,mu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function yu(){ca.call(this,"d")}function vu(){ca.call(this,"c")}function wu(){}function _u(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Xa(this),this.P=Ou,this.R=new $a(t=Zs?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Cs(yu,ca),Cs(vu,ca),Cs(wu,pu),bu=new wu;var Ou=45e3,xu={},Eu={};function Su(t,e,n){t.H=1,t.i=Gu(qu(e)),t.j=n,t.I=!0,Tu(t,null)}function Tu(t,e){t.u=Ts(),Iu(t),t.l=qu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),sc(n.b,"t",r),t.D=0,t.a=tl(t.g,t.g.C?e:null),0<t.O&&(t.F=new Za(Es(t.Ca,t,t.a),t.O)),Qa(t.J,t.a,"readystatechange",t.Xa),e=t.B?qs(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),au(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Cu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ku(t,n);if(i==Eu){4==e&&(t.h=4,cu(14),r=!1),nu(t.c,t.f,null,"[Incomplete Response]");break}if(i==xu){t.h=4,cu(15),nu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}nu(t.c,t.f,i,null),Nu(t,i)}4==e&&0==n.length&&(t.h=1,cu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),$c(e),e.F=!0,cu(11))):(nu(t.c,t.f,n,"[Invalid Chunked Response]"),Ru(t),Pu(t))}function ku(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Eu:(n=Number(e.substring(n,r)),isNaN(n)?xu:(r+=1)+n>e.length?Eu:(e=e.substr(r,n),t.D=r+n,e))}function Iu(t){t.T=Ts()+t.P,ju(t,t.P)}function ju(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=hu(Es(t.Va,t),e)}function Au(t){t.o&&(bs.clearTimeout(t.o),t.o=null)}function Pu(t){0==t.g.v||t.A||Jc(t.g,t)}function Ru(t){Au(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ga(t.R),tu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Nu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||dc(n.b,t)))if(n.I=t.N,!t.C&&dc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Mv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Wc(n),Uc(n)}Kc(n),cu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=hu(Es(n.Sa,n),6e3));if(1>=fc(n.b)&&n.ea){try{n.ea()}catch(Mv){}n.ea=void 0}}else Xc(n,11)}else if((t.C||n.a==t)&&Wc(n),!Rs(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ls(l,"spdy")||Ls(l,"quic")||Ls(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(pc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,$u(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ts()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Qc(u,u.C?u.ga:null,u.fa),d.C){gc(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Au(p),Iu(p)),u.a=d}else Bc(u);0<n.g.length&&Fc(n)}else"stop"!=i[0]&&"close"!=i[0]||Xc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Xc(n,7):Lc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);au(4)}catch(Mv){}}function Du(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ys(t)||"string"==typeof t)js(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ys(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ys(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Lu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Lu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Uu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Vu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Vu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Vu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ds=_u.prototype).setTimeout=function(t){this.P=t},ds.Xa=function(t){t=t.target;var e=this.F;e&&3==Pc(t)?e.f():this.Ca(t)},ds.Ca=function(t){try{if(t==this.a)t:{var e=Pc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Zs&&!this.a.$())){this.A||4!=e||7==n||au(8==n||0>=r?3:2),Au(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rs(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,cu(12),Ru(this),Pu(this);break t}nu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Nu(this,u)}this.I?(Cu(this,e,o),Zs&&this.b&&3==e&&(Qa(this.J,this.R,"tick",this.Wa),this.R.start())):(nu(this.c,this.f,o,null),Nu(this,o)),4==e&&Ru(this),this.b&&!this.A&&(4==e?Jc(this.g,this):(this.b=!1,Iu(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,cu(12)):(this.h=0,cu(13)),Ru(this),Pu(this)}}}catch(c){}},ds.Wa=function(){if(this.a){var t=Pc(this.a),e=this.a.$();this.D<e.length&&(Au(this),Cu(this,t,e),this.b&&4!=t&&Iu(this))}},ds.cancel=function(){this.A=!0,Ru(this)},ds.Va=function(){this.o=null;var t=Ts();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(au(3),cu(17)),Ru(this),this.h=2,Pu(this)):ju(this,this.T-t)},(ds=Lu.prototype).K=function(){Uu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ds.L=function(){return Uu(this),this.a.concat()},ds.get=function(t,e){return Vu(this.b,t)?this.b[t]:e},ds.set=function(t,e){Vu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ds.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Mu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Fu){this.a=void 0!==e?e:t.a,zu(this,t.f),this.j=t.j,Hu(this,t.c),Bu(this,t.h),this.g=t.g,e=t.b;var n=new nc;n.c=e.c,e.a&&(n.a=new Lu(e.a),n.b=e.b),Ku(this,n),this.i=t.i}else t&&(n=String(t).match(Mu))?(this.a=!!e,zu(this,n[1]||"",!0),this.j=Wu(n[2]||""),Hu(this,n[3]||"",!0),Bu(this,n[4]),this.g=Wu(n[5]||"",!0),Ku(this,n[6]||"",!0),this.i=Wu(n[7]||"")):(this.a=!!e,this.b=new nc(null,this.a))}function qu(t){return new Fu(t)}function zu(t,e,n){t.f=n?Wu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Hu(t,e,n){t.c=n?Wu(e,!0):e}function Bu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ku(t,e,n){e instanceof nc?(t.b=e,function(t,e){e&&!t.f&&(rc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ic(this,e),sc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ju(e,tc)),t.b=new nc(e,t.a))}function $u(t,e,n){t.b.set(e,n)}function Gu(t){return $u(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ts()).toString(36)),t}function Wu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ju(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Zu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Fu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ju(e,Xu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ju(e,Xu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ju(n,"/"==n.charAt(0)?Qu:Yu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ju(n,ec)),t.join("")};var Xu=/[#\/\?@]/g,Yu=/[#\?:]/g,Qu=/[#\?]/g,tc=/[#\?@]/g,ec=/#/g;function nc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function rc(t){t.a||(t.a=new Lu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ic(t,e){rc(t),e=ac(t,e),Vu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Vu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Uu(t)))}function oc(t,e){return rc(t),e=ac(t,e),Vu(t.a.b,e)}function sc(t,e,n){ic(t,e),0<n.length&&(t.c=null,t.a.set(ac(t,e),Ps(n)),t.b+=n.length)}function ac(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ds=nc.prototype).add=function(t,e){rc(this),this.c=null,t=ac(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ds.forEach=function(t,e){rc(this),this.a.forEach(function(n,r){js(n,function(n){t.call(e,n,r,this)},this)},this)},ds.L=function(){rc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ds.K=function(t){rc(this);var e=[];if("string"==typeof t)oc(this,t)&&(e=As(e,this.a.get(ac(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=As(e,t[n])}return e},ds.set=function(t,e){return rc(this),this.c=null,oc(this,t=ac(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ds.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ds.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var uc=function(){return function(t,e){this.b=t,this.a=e}}();function cc(t){this.g=t||lc,t=bs.PerformanceNavigationTiming?0<(t=bs.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(bs.ia&&bs.ia.ya&&bs.ia.ya()&&bs.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var lc=10;function hc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function fc(t){return t.b?1:t.a?t.a.size:0}function dc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function pc(t,e){t.a?t.a.add(e):t.b=e}function gc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function bc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=fs(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ps(t.c)}function mc(){}function yc(){this.a=new mc}function vc(t,e,n){var r=n||"";try{Du(t,function(t,n){var i=t;vs(t)&&(i=Da(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Tw){throw e.push(r+"type="+encodeURIComponent("_badmap")),Tw}}function wc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}cc.prototype.cancel=function(){var t,e;if(this.c=bc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=fs(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},mc.prototype.stringify=function(t){return bs.JSON.stringify(t,void 0)},mc.prototype.parse=function(t){return bs.JSON.parse(t,void 0)};var _c=bs.JSON.parse;function Oc(t){Pa.call(this),this.headers=new Lu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=xc,this.D=this.F=!1}Cs(Oc,Pa);var xc="",Ec=/^https?$/i,Sc=["POST","PUT"];function Tc(t){return"content-type"==t.toLowerCase()}function Cc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,kc(t),jc(t)}function kc(t){t.u||(t.u=!0,Ra(t,"complete"),Ra(t,"error"))}function Ic(t){if(t.b&&void 0!==gs&&(!t.s[1]||4!=Pc(t)||2!=t.W()))if(t.l&&4==Pc(t))Wa(t.za,0,t);else if(Ra(t,"readystatechange"),4==Pc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Mu)[1]||null;if(!o&&bs.self&&bs.self.location){var s=bs.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ec.test(o?o.toLowerCase():"")}e=i}if(e)Ra(t,"complete"),Ra(t,"success");else{t.h=6;try{var a=2<Pc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",kc(t)}}finally{jc(t)}}}function jc(t,e){if(t.a){Ac(t);var n=t.a,r=t.s[0]?ms:null;t.a=null,t.s=null,e||Ra(t,"ready");try{n.onreadystatechange=r}catch(Tw){}}}function Ac(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(bs.clearTimeout(t.m),t.m=null)}function Pc(t){return t.a?t.a.readyState:0}function Rc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Fs(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$u(t,e,n))}function Nc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Dc(t){this.pa=0,this.g=[],this.c=new eu,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Nc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Nc("baseRetryDelayMs",5e3,t),this.Ra=Nc("retryDelaySeedMs",1e4,t),this.Ma=Nc("forwardChannelMaxRetries",2,t),this.ma=Nc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new cc(t&&t.concurrentRequestLimit),this.ka=new yc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Lc(t){if(Vc(t),3==t.v){var e=t.R++,n=qu(t.B);$u(n,"SID",t.J),$u(n,"RID",e),$u(n,"TYPE","terminate"),zc(t,n),(e=new _u(t,t.c,e,void 0)).H=2,e.i=Gu(qu(n)),n=!1,bs.navigator&&bs.navigator.sendBeacon&&(n=bs.navigator.sendBeacon(e.i.toString(),"")),!n&&bs.Image&&((new Image).src=e.i,n=!0),n||(e.a=tl(e.g,null),e.a.ba(e.i)),e.u=Ts(),Iu(e)}Yc(t)}function Uc(t){t.a&&($c(t),t.a.cancel(),t.a=null)}function Vc(t){Uc(t),t.j&&(bs.clearTimeout(t.j),t.j=null),Wc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&bs.clearTimeout(t.h),t.h=null)}function Mc(t,e){t.g.push(new uc(t.Oa++,e)),3==t.v&&Fc(t)}function Fc(t){hc(t.b)||t.h||(t.h=!0,za(t.Ba,t),t.u=0)}function qc(t,e){var n;n=e?e.f:t.R++;var r=qu(t.B);$u(r,"SID",t.J),$u(r,"RID",n),$u(r,"AID",t.P),zc(t,r),t.i&&t.l&&Rc(r,t.i,t.l),n=new _u(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Hc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),pc(t.b,n),Su(n,r,e)}function zc(t,e){t.f&&Du({},function(t,n){$u(e,n,t)})}function Hc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Es(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{vc(l,s,"req"+c+"_")}catch(Ll){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Bc(t){t.a||t.j||(t.T=1,za(t.Aa,t),t.o=0)}function Kc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=hu(Es(t.Aa,t),Zc(t,t.o)),t.o++,0))}function $c(t){null!=t.s&&(bs.clearTimeout(t.s),t.s=null)}function Gc(t){t.a=new _u(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=qu(t.la);$u(e,"RID","rpc"),$u(e,"SID",t.J),$u(e,"CI",t.H?"0":"1"),$u(e,"AID",t.P),zc(t,e),$u(e,"TYPE","xmlhttp"),t.i&&t.l&&Rc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Gu(qu(e)),n.j=null,n.I=!0,Tu(n,t)}function Wc(t){null!=t.m&&(bs.clearTimeout(t.m),t.m=null)}function Jc(t,e){var n=null;if(t.a==e){Wc(t),$c(t),t.a=null;var r=2}else{if(!dc(t.b,e))return;n=e.s,gc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ts()-e.u;var i=t.u;Ra(r=ou(),new lu(r,n,e,i)),Fc(t)}else Bc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(fc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=hu(Es(t.Ba,t,e),Zc(t,t.u)),t.u++,0)))}(t,e)||2==r&&Kc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Xc(t,5);break;case 4:Xc(t,10);break;case 3:Xc(t,6);break;default:Xc(t,2)}}function Zc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Xc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Es(t.Ya,t);n||(n=new Fu("//www.google.com/images/cleardot.gif"),bs.location&&"http"==bs.location.protocol||zu(n,"https"),Gu(n)),function(t,e){var n=new eu;if(bs.Image){var r=new Image;r.onload=Ss(wc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ss(wc,n,r,"TestLoadImage: error",!1,e),r.onabort=Ss(wc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ss(wc,n,r,"TestLoadImage: timeout",!1,e),bs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else cu(2);t.v=0,t.f&&t.f.ra(e),Yc(t),Vc(t)}function Yc(t){t.v=0,t.I=-1,t.f&&(0==bc(t.b).length&&0==t.g.length||(t.b.c.length=0,Ps(t.g),t.g.length=0),t.f.qa())}function Qc(t,e,n){var r=function(t){return t instanceof Fu?qu(t):new Fu(t,void 0)}(n);if(""!=r.c)e&&Hu(r,e+"."+r.c),Bu(r,r.h);else{var i=bs.location;r=function(t,e,n,r){var i=new Fu(null,void 0);return t&&zu(i,t),e&&Hu(i,e),n&&Bu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Fs(t.V,function(t,e){$u(r,e,t)}),n=t.na,(e=t.A)&&n&&$u(r,e,n),$u(r,"VER",t.ha),zc(t,r),r}function tl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Oc(t.Na)).F=t.C,e}function el(){}function nl(){if(Ws&&!(10<=Number(oa)))throw Error("Environmental error: no available transport.")}function rl(t,e){Pa.call(this),this.a=new Dc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Rs(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rs(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new sl(this)}function il(t){yu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ol(){vu.call(this),this.status=1}function sl(t){this.a=t}(ds=Oc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:bu),this.a.onreadystatechange=Es(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Cc(this,o)}t=n||"";var i=new Lu(this.headers);r&&Du(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Tc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=bs.FormData&&t instanceof bs.FormData,!(0<=Is(Sc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ac(this),0<this.o&&((this.D=function(t){return Ws&&ia(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Es(this.xa,this)):this.m=Wa(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Cc(this,o)}},ds.xa=function(){void 0!==gs&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ra(this,"timeout"),this.abort(8))},ds.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ra(this,"complete"),Ra(this,"abort"),jc(this))},ds.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),jc(this,!0)),Oc.X.G.call(this)},ds.za=function(){this.j||(this.A||this.l||this.g?Ic(this):this.Ua())},ds.Ua=function(){Ic(this)},ds.W=function(){try{return 2<Pc(this)?this.a.status:-1}catch($s){return-1}},ds.$=function(){try{return this.a?this.a.responseText:""}catch($s){return""}},ds.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),_c(e)}},ds.ua=function(){return this.h},ds.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ds=Dc.prototype).ha=8,ds.v=1,ds.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new _u(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Hs(r=qs(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Hc(this,n,e),$u(i=qu(this.B),"RID",t),$u(i,"CVER",22),this.A&&$u(i,"X-HTTP-Session-Id",this.A),zc(this,i),this.i&&r&&Rc(i,this.i,r),pc(this.b,n),this.Ia&&$u(i,"TYPE","init"),this.da?($u(i,"$req",e),$u(i,"SID","null"),n.U=!0,Su(n,i,null)):Su(n,i,e),this.v=2}}else 3==this.v&&(t?qc(this,t):0==this.g.length||hc(this.b)||qc(this))},ds.Aa=function(){if(this.j=null,Gc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=hu(Es(this.Ta,this),t)}},ds.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,cu(10),Uc(this),Gc(this))},ds.Sa=function(){null!=this.m&&(this.m=null,Uc(this),Kc(this),cu(19))},ds.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),cu(2)):(this.c.info("Failed to ping google.com"),cu(1))},(ds=el.prototype).ta=function(){},ds.sa=function(){},ds.ra=function(){},ds.qa=function(){},ds.Ja=function(){},nl.prototype.a=function(t,e){return new rl(t,e)},Cs(rl,Pa),rl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;cu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Qc(t,null,t.fa),Fc(t)},rl.prototype.close=function(){Lc(this.a)},rl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Mc(this.a,e)}else this.l?((e={}).__data__=Da(t),Mc(this.a,e)):Mc(this.a,t)},rl.prototype.G=function(){this.a.f=null,delete this.f,Lc(this.a),delete this.a,rl.X.G.call(this)},Cs(il,yu),Cs(ol,vu),Cs(sl,el),sl.prototype.ta=function(){Ra(this.a,"a")},sl.prototype.sa=function(t){Ra(this.a,new il(t))},sl.prototype.ra=function(t){Ra(this.a,new ol(t))},sl.prototype.qa=function(){Ra(this.a,"b")},nl.prototype.createWebChannel=nl.prototype.a,rl.prototype.send=rl.prototype.h,rl.prototype.open=rl.prototype.g,rl.prototype.close=rl.prototype.close,fu.NO_ERROR=0,fu.TIMEOUT=8,fu.HTTP_ERROR=6,du.COMPLETE="complete",gu.EventType=mu,mu.OPEN="a",mu.CLOSE="b",mu.ERROR="c",mu.MESSAGE="d",Pa.prototype.listen=Pa.prototype.va,Oc.prototype.listenOnce=Oc.prototype.wa,Oc.prototype.getLastError=Oc.prototype.Qa,Oc.prototype.getLastErrorCode=Oc.prototype.ua,Oc.prototype.getStatus=Oc.prototype.W,Oc.prototype.getResponseJson=Oc.prototype.Pa,Oc.prototype.getResponseText=Oc.prototype.$,Oc.prototype.send=Oc.prototype.ba;var al=fu,ul=du,cl=ru,ll=gu,hl=Oc,fl=n("uXP2"),dl=new cs.b("@firebase/firestore");function pl(){return dl.logLevel}function gl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(dl.logLevel<=cs.a.DEBUG){var r=e.map(yl);dl.debug.apply(dl,Object(fl.g)(["Firestore (8.2.2): "+t],r))}}function bl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(dl.logLevel<=cs.a.ERROR){var r=e.map(yl);dl.error.apply(dl,Object(fl.g)(["Firestore (8.2.2): "+t],r))}}function ml(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(dl.logLevel<=cs.a.WARN){var r=e.map(yl);dl.warn.apply(dl,Object(fl.g)(["Firestore (8.2.2): "+t],r))}}function yl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Tw){return t}}function vl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw bl(e),new Error(e)}function wl(t,e){t||vl()}function _l(t,e){return t}function Ol(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var xl=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ol(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function El(t,e){return t<e?-1:t>e?1:0}function Sl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Tl(t){return t+"\0"}var Cl=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return El(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Cl.h=new Cl("");var kl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Il=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(fl.c)(e,t),e}(Error),jl=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Cl.fromBase64String(e))}catch(e){throw new Il(kl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Cl.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Al=function(t){this._=t};function Pl(){if("undefined"==typeof Uint8Array)throw new Il(kl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Rl(){if("undefined"==typeof atob)throw new Il(kl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.fromBase64String=function(t){return Rl(),new e(jl.fromBase64String(t))},e.fromUint8Array=function(t){return Pl(),new e(jl.fromUint8Array(t))},e.prototype.toBase64=function(){return Rl(),this._.toBase64()},e.prototype.toUint8Array=function(){return Pl(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Al),Dl=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Ll=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ul=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ul.UNAUTHENTICATED=new Ul(null),Ul.P=new Ul("google-credentials-uid"),Ul.g=new Ul("first-party-uid");var Vl=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Ml=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Ul.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Fl=function(){function t(t){var e=this;this.C=null,this.currentUser=Ul.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.O!==e?(gl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(wl("string"==typeof n.accessToken),new Vl(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return wl(null===t||"string"==typeof t),new Ul(t)},t}(),ql=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Ul.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),zl=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new ql(this.k,this.M))},t.prototype.S=function(t){t(Ul.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Hl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Hl.U=-1;var Bl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Il(kl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Il(kl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Il(kl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Il(kl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?El(this.nanoseconds,t.nanoseconds):El(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Kl=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new Bl(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),$l=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&vl(),void 0===n?n=t.length-e:n>t.length-e&&vl(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Gl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Il(kl.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}($l),Wl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Wl.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Il(kl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Il(kl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Il(kl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Il(kl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}($l),Zl=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Gl.ct(e))},t.dt=function(e){return new t(Gl.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Gl.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Gl.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Gl(e.slice()))},t}();function Xl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ql(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var th=function(){function t(t){this.fields=t,t.sort(Jl.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Sl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),eh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nh(t){if(wl(!!t),"string"==typeof t){var e=0,n=eh.exec(t);if(wl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rh(t.seconds),nanos:rh(t.nanos)}}function rh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ih(t){return"string"==typeof t?Cl.fromBase64String(t):Cl.fromUint8Array(t)}function oh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sh(t){var e=t.mapValue.fields.__previous_value__;return oh(e)?sh(e):e}function ah(t){var e=nh(t.mapValue.fields.__local_write_time__.timestampValue);return new Bl(e.seconds,e.nanos)}function uh(t){return null==t}function ch(t){return 0===t&&1/t==-1/0}function lh(t){return"number"==typeof t&&Number.isInteger(t)&&!ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function hh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oh(t)?4:10:vl()}function fh(t,e){var n=hh(t);if(n!==hh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ah(t).isEqual(ah(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=nh(t.timestampValue),r=nh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ih(t.bytesValue).isEqual(ih(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return rh(t.geoPointValue.latitude)===rh(e.geoPointValue.latitude)&&rh(t.geoPointValue.longitude)===rh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return rh(t.integerValue)===rh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=rh(t.doubleValue),r=rh(e.doubleValue);return n===r?ch(n)===ch(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Sl(t.arrayValue.values||[],e.arrayValue.values||[],fh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Xl(n)!==Xl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fh(n[i],r[i])))return!1;return!0}(t,e);default:return vl()}}function dh(t,e){return void 0!==(t.values||[]).find(function(t){return fh(t,e)})}function ph(t,e){var n=hh(t),r=hh(e);if(n!==r)return El(n,r);switch(n){case 0:return 0;case 1:return El(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=rh(t.integerValue||t.doubleValue),r=rh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return gh(t.timestampValue,e.timestampValue);case 4:return gh(ah(t),ah(e));case 5:return El(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ih(t),r=ih(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=El(n[i],r[i]);if(0!==o)return o}return El(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=El(rh(t.latitude),rh(e.latitude));return 0!==n?n:El(rh(t.longitude),rh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ph(n[i],r[i]);if(o)return o}return El(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=El(r[s],o[s]);if(0!==a)return a;var u=ph(n[r[s]],i[o[s]]);if(0!==u)return u}return El(r.length,o.length)}(t.mapValue,e.mapValue);default:throw vl()}}function gh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return El(t,e);var n=nh(t),r=nh(e),i=El(n.seconds,r.seconds);return 0!==i?i:El(n.nanos,r.nanos)}function bh(t){return mh(t)}function mh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=nh(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ih(t.bytesValue).toBase64():"referenceValue"in t?Zl.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=mh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+mh(t.fields[o])}return e+"}"}(t.mapValue):vl();var e}function yh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function vh(t){return!!t&&"integerValue"in t}function wh(t){return!!t&&"arrayValue"in t}function _h(t){return!!t&&"nullValue"in t}function Oh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xh(t){return!!t&&"mapValue"in t}var Eh=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!xh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return fh(this.proto,t.proto)},t}(),Sh=function(){function t(t){void 0===t&&(t=Eh.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===hh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Jl.at(),this.Rt);return null!=t?new Eh(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=xh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Th(t){var e=[];return Yl(t.fields||{},function(t,n){var r=new Jl([t]);if(xh(n)){var i=Th(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new th(e)}var Ch=function(t,e){this.key=t,this.version=e},kh=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(fl.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ch),Ih=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(fl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ch),jh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ch),Ah=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function Ph(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ah(t,e,n,r,i,o,s)}function Rh(t){var e=_l(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+bh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=$h(e.startAt)),e.endAt&&(n+="|ub:",n+=$h(e.endAt)),e.St=n}return e.St}function Nh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Wh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!fh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zh(t.startAt,e.startAt)&&Zh(t.endAt,e.endAt)}function Dh(t){return Zl.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Lh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(fl.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Uh(t,n,r):"array-contains"===n?new qh(t,r):"in"===n?new zh(t,r):"not-in"===n?new Hh(t,r):"array-contains-any"===n?new Bh(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Vh(t,n):new Mh(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(ph(e,this.value)):null!==e&&hh(this.value)===hh(e)&&this.Ct(ph(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return vl()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Uh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Zl.dt(r.referenceValue),i}return Object(fl.c)(e,t),e.prototype.matches=function(t){var e=Zl.J(t.key,this.key);return this.Ct(e)},e}(Lh),Vh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Fh(0,n),r}return Object(fl.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Lh),Mh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Fh(0,n),r}return Object(fl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Lh);function Fh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Zl.dt(t.referenceValue)})}var qh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(fl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return wh(e)&&dh(e.arrayValue,this.value)},e}(Lh),zh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(fl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&dh(this.value.arrayValue,e)},e}(Lh),Hh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(fl.c)(e,t),e.prototype.matches=function(t){if(dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!dh(this.value.arrayValue,e)},e}(Lh),Bh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(fl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!wh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return dh(e.value.arrayValue,t)})},e}(Lh),Kh=function(t,e){this.position=t,this.before=e};function $h(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return bh(t)}).join(",")}var Gh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Wh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Jh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Zl.J(Zl.dt(s.referenceValue),n.key):ph(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Zh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!fh(t.position[n],e.position[n]))return!1;return!0}var Xh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ot=null,this.Ft=null};function Yh(t,e,n,r,i,o,s,a){return new Xh(t,e,n,r,i,o,s,a)}function Qh(t){return new Xh(t)}function tf(t){return!uh(t.limit)&&"F"===t.limitType}function ef(t){return!uh(t.limit)&&"L"===t.limitType}function nf(t){return t.Nt.length>0?t.Nt[0].field:null}function rf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function of(t){return null!==t.collectionGroup}function sf(t){var e=_l(t);if(null===e.Ot){e.Ot=[];var n=rf(e),r=nf(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new Gh(n)),e.Ot.push(new Gh(Jl.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ot.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new Gh(Jl.lt(),u))}}}return e.Ot}function af(t){var e=_l(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Ph(e.path,e.collectionGroup,sf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=sf(e);r<i.length;r++){var o=i[r];n.push(new Gh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Kh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Kh(e.startAt.position,!e.startAt.before):null;e.Ft=Ph(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ft}function uf(t,e,n){return new Xh(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cf(t,e){return Nh(af(t),af(e))&&t.limitType===e.limitType}function lf(t){return Rh(af(t))+"|lt:"+t.limitType}function hf(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+bh(e.value);var e}).join(", ")+"]"),uh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+$h(t.startAt)),t.endAt&&(e+=", endAt: "+$h(t.endAt)),"Target("+e+")"}(af(t))+"; limitType="+t.limitType+")"}function ff(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Zl.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Jh(t.startAt,sf(t),e)||t.endAt&&Jh(t.endAt,sf(t),e))}(t,e)}function df(t){return function(e,n){for(var r=!1,i=0,o=sf(t);i<o.length;i++){var s=o[i],a=pf(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function pf(t,e,n){var r=t.field.ht()?Zl.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ph(r,i):vl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return vl()}}var gf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Kl.min()),void 0===o&&(o=Kl.min()),void 0===s&&(s=Cl.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function bf(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function mf(t){return{integerValue:""+t}}function yf(t,e){return lh(e)?mf(e):bf(t,e)}var vf=function(){this.Ut=void 0};function wf(t,e,n){return t instanceof xf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ef?Sf(t,e):t instanceof Tf?Cf(t,e):function(t,e){var n=Of(t,e),r=If(n)+If(t.Qt);return vh(n)&&vh(t.Qt)?mf(r):bf(t.Kt,r)}(t,e)}function _f(t,e,n){return t instanceof Ef?Sf(t,e):t instanceof Tf?Cf(t,e):n}function Of(t,e){return t instanceof kf?vh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e}(vf),Ef=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(fl.c)(e,t),e}(vf);function Sf(t,e){for(var n=jf(e),r=function(t){n.some(function(e){return fh(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Tf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(fl.c)(e,t),e}(vf);function Cf(t,e){for(var n=jf(e),r=function(t){n=n.filter(function(e){return!fh(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var kf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(fl.c)(e,t),e}(vf);function If(t){return rh(t.integerValue||t.doubleValue)}function jf(t){return wh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Af=function(t,e){this.field=t,this.transform=e},Pf=function(t,e){this.version=t,this.transformResults=e},Rf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Nf(t,e){return void 0!==t.updateTime?e instanceof kh&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof kh}var Df=function(){};function Lf(t,e,n){return t instanceof qf?function(t,e,n){var r=t.value;if(n.transformResults){var i=Bf(t.fieldTransforms,e,n.transformResults);r=$f(t.fieldTransforms,r,i)}return new kh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof zf?function(t,e,n){if(!Nf(t.Gt,e))return new jh(t.key,n.version);var r=Hf(t,e,n.transformResults?Bf(t.fieldTransforms,e,n.transformResults):[]);return new kh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Ih(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Uf(t,e,n,r){return t instanceof qf?function(t,e,n,r){if(!Nf(t.Gt,e))return e;var i=t.value,o=Kf(t.fieldTransforms,n,e);i=$f(t.fieldTransforms,i,o);var s=Ff(e);return new kh(t.key,s,i,{bt:!0})}(t,e,r):t instanceof zf?function(t,e,n,r){if(!Nf(t.Gt,e))return e;var i=Ff(e),o=Hf(t,e,Kf(t.fieldTransforms,n,e));return new kh(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return Nf(t.Gt,e)?new Ih(t.key,Kl.min()):e}(t,e)}function Vf(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof kh?e.field(o.field):void 0,a=Of(o.transform,s||null);null!=a&&(n=null==n?(new Sh).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function Mf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Sl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ef&&e instanceof Ef||t instanceof Tf&&e instanceof Tf?Sl(t.elements,e.elements,fh):t instanceof kf&&e instanceof kf?fh(t.Qt,e.Qt):t instanceof xf&&e instanceof xf}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Ff(t){return t instanceof kh?t.version:Kl.min()}var qf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(fl.c)(e,t),e}(Df),zf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(fl.c)(e,t),e}(Df);function Hf(t,e,n){var r;return r=function(t,e){var n=new Sh(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof kh?e.data():Eh.empty()),$f(t.fieldTransforms,r,n)}function Bf(t,e,n){var r=[];wl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof kh&&(a=e.field(o.field)),r.push(_f(s,a,n[i]))}return r}function Kf(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof kh&&(c=n.field(a.field)),i.push(wf(u,c,e))}return i}function $f(t,e,n){for(var r=new Sh(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Gf,Wf,Jf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(fl.c)(e,t),e}(Df),Zf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(fl.c)(e,t),e}(Df),Xf=function(t){this.count=t};function Yf(t){switch(t){case kl.OK:return vl();case kl.CANCELLED:case kl.UNKNOWN:case kl.DEADLINE_EXCEEDED:case kl.RESOURCE_EXHAUSTED:case kl.INTERNAL:case kl.UNAVAILABLE:case kl.UNAUTHENTICATED:return!1;case kl.INVALID_ARGUMENT:case kl.NOT_FOUND:case kl.ALREADY_EXISTS:case kl.PERMISSION_DENIED:case kl.FAILED_PRECONDITION:case kl.ABORTED:case kl.OUT_OF_RANGE:case kl.UNIMPLEMENTED:case kl.DATA_LOSS:return!0;default:return vl()}}function Qf(t){if(void 0===t)return bl("GRPC error has no .code"),kl.UNKNOWN;switch(t){case Gf.OK:return kl.OK;case Gf.CANCELLED:return kl.CANCELLED;case Gf.UNKNOWN:return kl.UNKNOWN;case Gf.DEADLINE_EXCEEDED:return kl.DEADLINE_EXCEEDED;case Gf.RESOURCE_EXHAUSTED:return kl.RESOURCE_EXHAUSTED;case Gf.INTERNAL:return kl.INTERNAL;case Gf.UNAVAILABLE:return kl.UNAVAILABLE;case Gf.UNAUTHENTICATED:return kl.UNAUTHENTICATED;case Gf.INVALID_ARGUMENT:return kl.INVALID_ARGUMENT;case Gf.NOT_FOUND:return kl.NOT_FOUND;case Gf.ALREADY_EXISTS:return kl.ALREADY_EXISTS;case Gf.PERMISSION_DENIED:return kl.PERMISSION_DENIED;case Gf.FAILED_PRECONDITION:return kl.FAILED_PRECONDITION;case Gf.ABORTED:return kl.ABORTED;case Gf.OUT_OF_RANGE:return kl.OUT_OF_RANGE;case Gf.UNIMPLEMENTED:return kl.UNIMPLEMENTED;case Gf.DATA_LOSS:return kl.DATA_LOSS;default:return vl()}}(Wf=Gf||(Gf={}))[Wf.OK=0]="OK",Wf[Wf.CANCELLED=1]="CANCELLED",Wf[Wf.UNKNOWN=2]="UNKNOWN",Wf[Wf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wf[Wf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wf[Wf.NOT_FOUND=5]="NOT_FOUND",Wf[Wf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wf[Wf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wf[Wf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wf[Wf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wf[Wf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wf[Wf.ABORTED=10]="ABORTED",Wf[Wf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wf[Wf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wf[Wf.INTERNAL=13]="INTERNAL",Wf[Wf.UNAVAILABLE=14]="UNAVAILABLE",Wf[Wf.DATA_LOSS=15]="DATA_LOSS";var td=function(){function t(t,e){this.J=t,this.root=e||nd.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,nd.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,nd.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new ed(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new ed(this.root,t,this.J,!1)},t.prototype.se=function(){return new ed(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new ed(this.root,t,this.J,!0)},t}(),ed=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),nd=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw vl();if(this.right._e())throw vl();var t=this.left.me();if(t!==this.right.me())throw vl();return t+(this._e()?0:1)},t}();nd.EMPTY=null,nd.RED=!0,nd.Jt=!1,nd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw vl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw vl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw vl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw vl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw vl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new nd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var rd=function(){function t(t){this.J=t,this.data=new td(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new id(this.data.ee())},t.prototype.ne=function(t){return new id(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),id=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),od=new td(Zl.J);function sd(){return od}function ad(){return sd()}var ud=new td(Zl.J);function cd(){return ud}var ld=new td(Zl.J);function hd(){return ld}var fd=new rd(Zl.J);function dd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=fd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var pd=new rd(El);function gd(){return pd}var bd=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Zl.J(e.key,n.key)}:function(t,e){return Zl.J(t.key,e.key)},this.Ve=cd(),this.pe=new td(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),md=function(){function t(){this.ve=new td(Zl.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):vl():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),yd=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Oe=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,bd.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&cf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),vd=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,wd.Be(e,n)),new t(Kl.min(),r,gd(),sd(),dd())},t}(),wd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Cl.h,n,dd(),dd(),dd())},t}(),_d=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},Od=function(t,e){this.targetId=t,this.Ge=e},xd=function(t,e,n,r){void 0===n&&(n=Cl.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ed=function(){function t(){this.ze=0,this.He=Cd(),this.Je=Cl.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=dd(),e=dd(),n=dd();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:vl()}}),new wd(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Cd()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Sd=function(){function t(t){this.hn=t,this.ln=new Map,this._n=sd(),this.fn=Td(),this.dn=new rd(El)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof kh?this.En(r,t.We):t.We instanceof Ih&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:vl()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Dh(i))if(0===n){var o=new Zl(i.path);this.Tn(e,o,new Ih(o,Kl.min()))}else wl(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var o=e.gn(i);if(o){if(r.qe&&Dh(o.target)){var s=new Zl(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new Ih(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=dd();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new vd(t,n,this.dn,this._n,r);return this._n=sd(),this.fn=Td(),this.dn=new rd(El),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Ed,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new rd(El),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||gl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Ed),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Td(){return new td(Zl.J)}function Cd(){return new td(Zl.J)}var kd={asc:"ASCENDING",desc:"DESCENDING"},Id={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jd=function(t,e){this.T=t,this.qt=e};function Ad(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pd(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Rd(t,e){return Ad(t,e.G())}function Nd(t){return wl(!!t),Kl.j(function(t){var e=nh(t);return new Bl(e.seconds,e.nanos)}(t))}function Dd(t,e){return function(t){return new Gl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Ld(t){var e=Gl.ct(t);return wl(sp(e)),e}function Ud(t,e){return Dd(t.T,e.path)}function Vd(t,e){var n=Ld(e);if(n.get(1)!==t.T.projectId)throw new Il(kl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Il(kl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Zl(zd(n))}function Md(t,e){return Dd(t.T,e)}function Fd(t){var e=Ld(t);return 4===e.length?Gl.at():zd(e)}function qd(t){return new Gl(["projects",t.T.projectId,"databases",t.T.database]).ot()}function zd(t){return wl(t.length>4&&"documents"===t.get(4)),t.X(5)}function Hd(t,e,n){return{name:Ud(t,e),fields:n.proto.mapValue.fields}}function Bd(t,e,n){var r=Vd(t,e.name),i=Nd(e.updateTime),o=new Eh({mapValue:{fields:e.fields}});return new kh(r,i,o,{hasCommittedMutations:!!n})}function Kd(t,e){var n;if(e instanceof qf)n={update:Hd(t,e.key,e.value)};else if(e instanceof Jf)n={delete:Ud(t,e.key)};else if(e instanceof zf)n={update:Hd(t,e.key,e.data),updateMask:op(e.zt)};else{if(!(e instanceof Zf))return vl();n={verify:Ud(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof xf)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ef)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Tf)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof kf)return{fieldPath:e.field.ot(),increment:n.Qt};throw vl()}(0,t)})),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Rd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:vl()}(t,e.Gt)),n}function $d(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Rf.updateTime(Nd(t.updateTime)):void 0!==t.exists?Rf.exists(t.exists):Rf.jt()}(e.currentDocument):Rf.jt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(wl("REQUEST_TIME"===e.setToServerValue),n=new xf):"appendMissingElements"in e?n=new Ef(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Tf(e.removeAllFromArray.values||[]):"increment"in e?n=new kf(t,e.increment):vl();var r=Jl._t(e.fieldPath);return new Af(r,n)}(t,e)}):[];if(e.update){var i=Vd(t,e.update.name),o=new Eh({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new th((t.fieldPaths||[]).map(function(t){return Jl._t(t)}))}(e.updateMask);return new zf(i,o,s,n,r)}return new qf(i,o,n,r)}if(e.delete){var a=Vd(t,e.delete);return new Jf(a,n)}if(e.verify){var u=Vd(t,e.verify);return new Zf(u,n)}return vl()}function Gd(t,e){return{documents:[Md(t,e.path)]}}function Wd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Md(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Md(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Oh(t.value))return{unaryFilter:{field:ep(t.field),op:"IS_NAN"}};if(_h(t.value))return{unaryFilter:{field:ep(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Oh(t.value))return{unaryFilter:{field:ep(t.field),op:"IS_NOT_NAN"}};if(_h(t.value))return{unaryFilter:{field:ep(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ep(t.field),op:tp(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:ep(t.field),direction:Qd(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||uh(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Xd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Xd(e.endAt)),n}function Jd(t){var e=Fd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Zd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Gh(np(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return uh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Yd(n.startAt));var l=null;return n.endAt&&(l=Yd(n.endAt)),Yh(e,i,a,s,u,"F",c,l)}function Zd(t){return t?void 0!==t.unaryFilter?[ip(t)]:void 0!==t.fieldFilter?[rp(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Zd(t)}).reduce(function(t,e){return t.concat(e)}):vl():[]}function Xd(t){return{before:t.before,values:t.position}}function Yd(t){return new Kh(t.values||[],!!t.before)}function Qd(t){return kd[t]}function tp(t){return Id[t]}function ep(t){return{fieldPath:t.ot()}}function np(t){return Jl._t(t.fieldPath)}function rp(t){return Lh.create(np(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return vl()}}(t.fieldFilter.op),t.fieldFilter.value)}function ip(t){switch(t.unaryFilter.op){case"IS_NAN":var e=np(t.unaryFilter.field);return Lh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=np(t.unaryFilter.field);return Lh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=np(t.unaryFilter.field);return Lh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=np(t.unaryFilter.field);return Lh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return vl()}}function op(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function sp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var ap=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},up=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&vl(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),cp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new ap,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new fp(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=mp(e.target.error);n.qn.reject(new fp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new fp(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(gl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new pp(e)},t}(),lp=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(ls.j)())&&bl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return gl("SimpleDb","Removing database:",t),gp(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(ls.j)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n=this;return Object(fl.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(gl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new fp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Il(kl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new fp(t,n))},i.onupgradeneeded=function(t){gl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){gl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(fl.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(fl.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(fl.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=cp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),up.reject(t)}).Mn(),u={},s.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return gl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),hp=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return gp(this.ts.delete())},t}(),fp=function(t){function e(e,n){var r=this;return(r=t.call(this,kl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(fl.c)(e,t),e}(Il);function dp(t){return"IndexedDbTransactionError"===t.name}var pp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(gl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(gl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),gp(n)},t.prototype.add=function(t){return gl("SimpleDb","ADD",this.store.name,t,t),gp(this.store.add(t))},t.prototype.get=function(t){var e=this;return gp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),gl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return gl("SimpleDb","DELETE",this.store.name,t),gp(this.store.delete(t))},t.prototype.count=function(){return gl("SimpleDb","COUNT",this.store.name),gp(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){gl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new up(function(n,r){e.onerror=function(t){var e=mp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new up(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new hp(i),s=e(i.primaryKey,i.value,o);if(s instanceof up){var a=s.catch(function(t){return o.done(),up.reject(t)});n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}}).next(function(){return up.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function gp(t){return new up(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=mp(t.target.error);n(e)}})}var bp=!1;function mp(t){var e=lp.Kn(Object(ls.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Il("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return bp||(bp=!0,setTimeout(function(){throw r},0)),r}}return t}var yp=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new ap,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Il(kl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function vp(t,e){if(bl("AsyncQueue",e+": "+t),dp(t))return new Il(kl.UNAVAILABLE,e+": "+t);throw t}var wp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_p=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function Op(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ep(e)),e=xp(t.get(n),e);return Ep(e)}function xp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ep(t){return t+"\x01\x01"}function Sp(t){var e=t.length;if(wl(e>=2),2===e)return wl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Gl.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&vl(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:vl()}o=s+2}return new Gl(r)}var Tp=function(t,e){this.seconds=t,this.nanoseconds=e},Cp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Cp.store="owner",Cp.key="owner";var kp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};kp.store="mutationQueues",kp.keyPath="userId";var Ip=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ip.store="mutations",Ip.keyPath="batchId",Ip.userMutationsIndex="userMutationsIndex",Ip.userMutationsKeyPath=["userId","batchId"];var jp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Op(e)]},t.key=function(t,e,n){return[t,Op(e),n]},t}();jp.store="documentMutations",jp.PLACEHOLDER=new jp;var Ap=function(t,e){this.path=t,this.readTime=e},Pp=function(t,e){this.path=t,this.version=e},Rp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Rp.store="remoteDocuments",Rp.readTimeIndex="readTimeIndex",Rp.readTimeIndexPath="readTime",Rp.collectionReadTimeIndex="collectionReadTimeIndex",Rp.collectionReadTimeIndexPath=["parentPath","readTime"];var Np=function(t){this.byteSize=t};Np.store="remoteDocumentGlobal",Np.key="remoteDocumentGlobalKey";var Dp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Dp.store="targets",Dp.keyPath="targetId",Dp.queryTargetsIndexName="queryTargetsIndex",Dp.queryTargetsKeyPath=["canonicalId","targetId"];var Lp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Lp.store="targetDocuments",Lp.keyPath=["targetId","path"],Lp.documentTargetsIndex="documentTargetsIndex",Lp.documentTargetsKeyPath=["path","targetId"];var Up=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Up.key="targetGlobalKey",Up.store="targetGlobal";var Vp=function(t,e){this.collectionId=t,this.parent=e};Vp.store="collectionParents",Vp.keyPath=["collectionId","parent"];var Mp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Mp.store="clientMetadata",Mp.keyPath="clientId";var Fp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Fp.store="bundles",Fp.keyPath="bundleId";var qp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};qp.store="namedQueries",qp.keyPath="name";var zp=Object(fl.g)(Object(fl.g)(Object(fl.g)(Object(fl.g)([kp.store,Ip.store,jp.store,Rp.store,Dp.store,Cp.store,Up.store,Lp.store],[Mp.store]),[Np.store]),[Vp.store]),[Fp.store,qp.store]),Hp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(fl.c)(e,t),e}(_p);function Bp(t,e){var n=_l(t);return lp.Hn(n.bs,e)}var Kp=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Lf(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Uf(s,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Uf(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},dd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Sl(this.mutations,t.mutations,function(t,e){return Mf(t,e)})&&Sl(this.baseMutations,t.baseMutations,function(t,e){return Mf(t,e)})},t}(),$p=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){wl(e.mutations.length===r.length);for(var i=hd(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Gp=function(t){this.ks=t};function Wp(t,e){if(e.document)return Bd(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Zl.Tt(e.noDocument.path),r=Qp(e.noDocument.readTime);return new Ih(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Zl.Tt(e.unknownDocument.path);return r=Qp(e.unknownDocument.version),new jh(i,r)}return vl()}function Jp(t,e,n){var r=Zp(n),i=e.key.path.Z().rt();if(e instanceof kh){var o=function(t,e){return{name:Ud(t,e.key),fields:e.vt().mapValue.fields,updateTime:Ad(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new Rp(null,null,o,s,r,i)}if(e instanceof Ih){var a=e.key.path.rt(),u=Yp(e.version);return s=e.hasCommittedMutations,new Rp(null,new Ap(a,u),null,s,r,i)}if(e instanceof jh){var c=e.key.path.rt(),l=Yp(e.version);return new Rp(new Pp(c,l),null,null,!0,r,i)}return vl()}function Zp(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Xp(t){var e=new Bl(t[0],t[1]);return Kl.j(e)}function Yp(t){var e=t.G();return new Tp(e.seconds,e.nanoseconds)}function Qp(t){var e=new Bl(t.seconds,t.nanoseconds);return Kl.j(e)}function tg(t,e){for(var n=(e.baseMutations||[]).map(function(e){return $d(t.ks,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return $d(t.ks,e)}),s=Bl.fromMillis(e.localWriteTimeMs);return new Kp(e.batchId,s,n,o)}function eg(t){var e,n,r=Qp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Qp(t.lastLimboFreeSnapshotVersion):Kl.min();return void 0!==t.query.documents?(wl(1===(n=t.query).documents.length),e=af(Qh(Fd(n.documents[0])))):e=function(t){return af(Jd(t))}(t.query),new gf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Cl.fromBase64String(t.resumeToken))}function ng(t,e){var n,r=Yp(e.Mt),i=Yp(e.lastLimboFreeSnapshotVersion);n=Dh(e.target)?Gd(t.ks,e.target):Wd(t.ks,e.target);var o=e.resumeToken.toBase64();return new Dp(e.targetId,Rh(e.target),r,o,e.sequenceNumber,i,n)}function rg(t){var e=Jd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?uf(e,e.limit,"L"):e}var ig=function(){function t(){}return t.prototype.Ms=function(t,e){return og(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Qp(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return og(t).put({bundleId:(n=e).id,createTime:Yp(Nd(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return sg(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:rg(e.bundledQuery),readTime:Qp(e.readTime)};var e})},t.prototype.Bs=function(t,e){return sg(t).put(function(t){return{name:t.name,readTime:Yp(Nd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function og(t){return Bp(t,Fp.store)}function sg(t){return Bp(t,qp.store)}var ag=function(){function t(){this.qs=new ug}return t.prototype.Us=function(t,e){return this.qs.add(e),up.resolve()},t.prototype.Qs=function(t,e){return up.resolve(this.qs.getEntries(e))},t}(),ug=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new rd(Gl.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rd(Gl.J)).rt()},t}(),cg=function(){function t(){this.Ks=new ug}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs(function(){n.Ks.add(e)});var o={collectionId:r,parent:Op(i)};return lg(t).put(o)}return up.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Tl(e),""],!1,!0);return lg(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Sp(o.parent))}return n})},t}();function lg(t){return Bp(t,Vp.store)}var hg={js:!1,Ws:0,Gs:0,zs:0},fg=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function dg(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){if(t.code!==kl.FAILED_PRECONDITION||t.message!==wp)throw t;return gl("LocalStore","Unexpectedly lost primary lease"),[2]})})}fg.Zs=10,fg.ti=1e3,fg.ei=new fg(41943040,fg.Zs,fg.ti),fg.ni=new fg(-1,0,0);var pg=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ii(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Yl(this.ri,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.nt=function(){return Ql(this.ri)},t}(),gg=function(){function t(){this.oi=new pg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:Kl.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?up.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function bg(t,e,n){var r=t.store(Ip.store),i=t.store(jp.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){wl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=jp.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return up.$n(o).next(function(){return c})}function mg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw vl();e=t.noDocument}return JSON.stringify(e).length}var yg=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return wl(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wg(t).ls({index:Ip.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,r){var i=this,o=_g(t),s=wg(t);return s.add({}).next(function(a){wl("number"==typeof a);for(var u=new Kp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Kd(t.ks,e)}),i=n.mutations.map(function(e){return Kd(t.ks,e)});return new Ip(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new rd(function(t,e){return El(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],g=jp.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,jp.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ti.Us(t,e))}),t.Vs(function(){i.mi[a]=u.keys()}),up.$n(l).next(function(){return u})})},t.prototype.yi=function(t,e){var n=this;return wg(t).get(e).next(function(t){return t?(wl(t.userId===n.userId),tg(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?up.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null})},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return wg(t).ls({index:Ip.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(wl(e.batchId>=r),o=tg(n.Kt,e)),i.done()}).next(function(){return o})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wg(t).ls({index:Ip.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wg(t).os(Ip.userMutationsIndex,n).next(function(t){return t.map(function(t){return tg(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,r=jp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return _g(t).ls({range:i},function(r,i,s){var a=r[0],u=r[2],c=Sp(r[1]);if(a===n.userId&&e.path.isEqual(c))return wg(t).get(u).next(function(t){if(!t)throw vl();wl(t.userId===n.userId),o.push(tg(n.Kt,t))});s.done()}).next(function(){return o})},t.prototype.Si=function(t,e){var n=this,r=new rd(El),i=[];return e.forEach(function(e){var o=jp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=_g(t).ls({range:s},function(t,i,o){var s=t[0],a=t[2],u=Sp(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),up.$n(i).next(function(){return n.Di(t,r)})},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=jp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new rd(El);return _g(t).ls({range:s},function(t,e,o){var s=t[0],u=t[2],c=Sp(t[1]);s===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Di(t,a)})},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(wg(t).get(e).next(function(t){if(null===t)throw vl();wl(t.userId===n.userId),r.push(tg(n.Kt,t))}))}),up.$n(i).next(function(){return r})},t.prototype.xi=function(t,e){var n=this;return bg(t.bs,this.userId,e).next(function(r){return t.Vs(function(){n.Ni(e.batchId)}),up.forEach(r,function(e){return n.Ii.Oi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return up.resolve();var r=IDBKeyRange.lowerBound(jp.prefixForUser(e.userId)),i=[];return _g(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var o=Sp(t[1]);i.push(o)}else r.done()}).next(function(){wl(0===i.length)})})},t.prototype.ki=function(t,e){return vg(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return Og(t).get(this.userId).next(function(t){return t||new kp(e.userId,-1,"")})},t}();function vg(t,e,n){var r=jp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return _g(t).ls({range:o,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function wg(t){return Bp(t,Ip.store)}function _g(t){return Bp(t,jp.store)}function Og(t){return Bp(t,kp.store)}var xg=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),Eg=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var r=new xg(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return Kl.j(new Bl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return Sg(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return wl(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return Sg(t).ls(function(s,a){var u=eg(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Yi(t,u)))}).next(function(){return up.$n(o)}).next(function(){return i})},t.prototype.mn=function(t,e){return Sg(t).ls(function(t,n){var r=eg(n);e(r)})},t.prototype.Ui=function(t){return Tg(t).get(Up.key).next(function(t){return wl(null!==t),t})},t.prototype.Qi=function(t,e){return Tg(t).put(Up.key,e)},t.prototype.zi=function(t,e){return Sg(t).put(ng(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=Rh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Sg(t).ls({range:r,index:Dp.queryTargetsIndexName},function(t,n,r){var o=eg(n);Nh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.nr=function(t,e,n){var r=this,i=[],o=Cg(t);return e.forEach(function(e){var s=Op(e.path);i.push(o.put(new Lp(n,s))),i.push(r.Ii.sr(t,n,e))}),up.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=Cg(t);return up.forEach(e,function(e){var o=Op(e.path);return up.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=Cg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Cg(t),i=dd();return r.ls({range:n,hs:!0},function(t,e,n){var r=Sp(t[1]),o=new Zl(r);i=i.add(o)}).next(function(){return i})},t.prototype.ki=function(t,e){var n=Op(e.path),r=IDBKeyRange.bound([n],[Tl(n)],!1,!0),i=0;return Cg(t).ls({index:Lp.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return Sg(t).get(e).next(function(t){return t?eg(t):null})},t}();function Sg(t){return Bp(t,Dp.store)}function Tg(t){return Bp(t,Up.store)}function Cg(t){return Bp(t,Lp.store)}function kg(t,e){var n=t[1],r=e[1],i=El(t[0],e[0]);return 0===i?El(n,r):i}var Ig=function(){function t(t){this.ar=t,this.buffer=new rd(kg),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();kg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),jg=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;gl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(fl.b)(e,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return dp(e=n.sent())?(gl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,dg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),Ag=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return up.resolve(Hl.U);var r=new Ig(e);return this.Ar.mn(t,function(t){return r.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return r.lr(t)})}).next(function(){return r.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(gl("LruGarbageCollector","Garbage collection skipped; disabled"),up.resolve(hg)):this.br(t).next(function(r){return r<n.params.Hs?(gl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),hg):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>c.params.Ys?(gl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Zi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Vr(t,n)}).next(function(t){return u=Date.now(),pl()<=cs.a.DEBUG&&gl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),up.resolve({js:!0,Ws:r,Gs:i,zs:t})})},t}(),Pg=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Ag(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return Rg(t,n)},t.prototype.rr=function(t,e,n){return Rg(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return Rg(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return Og(t)._s(function(r){return vg(t,r,e).next(function(t){return t&&(n=!0),up.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,function(s,a){if(a<=e){var u=n.Nr(t,s).next(function(e){if(!e)return o++,r.fi(t,s).next(function(){return r._i(s),Cg(t).delete([0,Op(s.path)])})});i.push(u)}}).next(function(){return up.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Rg(t,e)},t.prototype.Cr=function(t,e){var n,r=Cg(t),i=Hl.U;return r.ls({index:Lp.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Hl.U&&e(new Zl(Sp(n)),i),i=s,n=o):i=Hl.U}).next(function(){i!==Hl.U&&e(new Zl(Sp(n)),i)})},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function Rg(t,e){return Cg(t).put(function(t,e){return new Lp(0,Op(t.path),e)}(e,t.vs))}var Ng=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return Ug(t).put(Vg(e),n)},t.prototype._i=function(t,e){var n=Ug(t),r=Vg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Lr(t,r)})},t.prototype.fi=function(t,e){var n=this;return Ug(t).get(Vg(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return Ug(t).get(Vg(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:mg(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=ad();return this.qr(t,e,function(t,e){var i=n.$r(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Ur=function(t,e){var n=this,r=ad(),i=new td(Zl.J);return this.qr(t,e,function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,mg(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Qr:r,Kr:i}})},t.prototype.qr=function(t,e,n){if(e.nt())return up.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Ug(t).ls({range:r},function(t,e,r){for(var s=Zl.Tt(t);o&&Zl.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=cd(),o=e.path.length+1,s={};if(n.isEqual(Kl.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=Zp(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Rp.collectionReadTimeIndex}return Ug(t).ls(s,function(t,n,s){if(t.length===o){var a=Wp(r.Kt,n);e.path.st(a.key.path)?a instanceof kh&&ff(e,a)&&(i=i.Ht(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new Dg(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Lg(t).get(Np.key).next(function(t){return wl(!!t),t})},t.prototype.Lr=function(t,e){return Lg(t).put(Np.key,e)},t.prototype.$r=function(t){if(t){var e=Wp(this.Kt,t);return e instanceof Ih&&e.version.isEqual(Kl.min())?null:e}return null},t}(),Dg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new pg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(fl.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new rd(function(t,e){return El(t.ot(),e.ot())});return this.oi.forEach(function(o,s){var a=e.zr.get(o);if(s.li){var u=Jp(e.Gr.Kt,s.li,e.ai(o));i=i.add(o.path.Z());var c=mg(u);r+=c-a,n.push(e.Gr.ui(t,o,u))}else if(r-=a,e.Wr){var l=Jp(e.Gr.Kt,new Ih(o,Kl.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))}),i.forEach(function(r){n.push(e.Gr.Ti.Us(t,r))}),n.push(this.Gr.updateMetadata(t,r)),up.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(gg);function Lg(t){return Bp(t,Np.store)}function Ug(t){return Bp(t,Rp.store)}function Vg(t){return t.path.rt()}var Mg=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;wl(n<r&&n>=0&&r<=11);var o=new cp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Cp.store)}(t),function(t){t.createObjectStore(kp.store,{keyPath:kp.keyPath}),t.createObjectStore(Ip.store,{keyPath:Ip.keyPath,autoIncrement:!0}).createIndex(Ip.userMutationsIndex,Ip.userMutationsKeyPath,{unique:!0}),t.createObjectStore(jp.store)}(t),Fg(t),function(t){t.createObjectStore(Rp.store)}(t));var s=up.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Lp.store),t.deleteObjectStore(Dp.store),t.deleteObjectStore(Up.store)}(t),Fg(t)),s=s.next(function(){return function(t){var e=t.store(Up.store),n=new Up(0,0,Kl.min().G(),0);return e.put(Up.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Ip.store).os().next(function(n){t.deleteObjectStore(Ip.store),t.createObjectStore(Ip.store,{keyPath:Ip.keyPath,autoIncrement:!0}).createIndex(Ip.userMutationsIndex,Ip.userMutationsKeyPath,{unique:!0});var r=e.store(Ip.store),i=n.map(function(t){return r.put(t)});return up.$n(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Mp.store,{keyPath:Mp.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Hr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Np.store)}(t),i.Jr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Yr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Xr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Rp.store);e.createIndex(Rp.readTimeIndex,Rp.readTimeIndexPath,{unique:!1}),e.createIndex(Rp.collectionReadTimeIndex,Rp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Zr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Fp.store,{keyPath:Fp.keyPath})}(t),function(t){t.createObjectStore(qp.store,{keyPath:qp.keyPath})}(t)})),s},t.prototype.Jr=function(t){var e=0;return t.store(Rp.store).ls(function(t,n){e+=mg(n)}).next(function(){var n=new Np(e);return t.store(Np.store).put(Np.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store(kp.store),r=t.store(Ip.store);return n.os().next(function(n){return up.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Ip.userMutationsIndex,i).next(function(r){return up.forEach(r,function(r){wl(r.userId===n.userId);var i=tg(e.Kt,r);return bg(t,n.userId,i).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(Lp.store),n=t.store(Rp.store);return t.store(Up.store).get(Up.key).next(function(t){var r=[];return n.ls(function(n,i){var o=new Gl(n),s=function(t){return[0,Op(t)]}(o);r.push(e.get(s).next(function(n){return n?up.resolve():function(n){return e.put(new Lp(0,Op(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return up.$n(r)})})},t.prototype.Xr=function(t,e){t.createObjectStore(Vp.store,{keyPath:Vp.keyPath});var n=e.store(Vp.store),r=new ug,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Op(i)})}};return e.store(Rp.store).ls({hs:!0},function(t,e){var n=new Gl(t);return i(n.Z())}).next(function(){return e.store(jp.store).ls({hs:!0},function(t,e){var n=Sp(t[1]);return i(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(Dp.store);return n.ls(function(t,r){var i=eg(r),o=ng(e.Kt,i);return n.put(o)})},t}();function Fg(t){t.createObjectStore(Lp.store,{keyPath:Lp.keyPath}).createIndex(Lp.documentTargetsIndex,Lp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Dp.store,{keyPath:Dp.keyPath}).createIndex(Dp.queryTargetsIndexName,Dp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Up.store)}var qg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",zg=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=s,this.document=a,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new Il(kl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Pg(this,i),this.lo=n+"main",this.Kt=new Gp(u),this._o=new lp(this.lo,11,new Mg(this.Kt)),this.fo=new Eg(this.Ii,this.Kt),this.Ti=new cg,this.wo=function(t,e){return new Ng(t,e)}(this.Kt,this.Ti),this.Eo=new ig,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&bl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Il(kl.FAILED_PRECONDITION,qg);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.ji(e)})}).then(function(e){t.io=new Hl(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Bg(e).put(new Mp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(dp(e))return gl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return gl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return Hg(t).get(Cp.key).next(function(t){return up.resolve(e.Co(t))})},t.prototype.xo=function(t){return Bg(t).delete(this.clientId)},t.prototype.No=function(){return Object(fl.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(fl.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Bp(t,Mp.store);return e.os().next(function(t){var n=r.Fo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return up.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?up.resolve(!0):Hg(t).get(Cp.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new Il(kl.FAILED_PRECONDITION,qg);return!1}}return!(!e.networkEnabled||!e.inForeground)||Bg(t).os().next(function(t){return void 0===e.Fo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&gl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(fl.b)(this,void 0,void 0,function(){var t=this;return Object(fl.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Cp.store,Mp.store],function(e){var n=new Hp(e,Hl.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Fo=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Bg(e).os().next(function(e){return t.Fo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return yg.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return gl("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",zp,function(o){return r=new Hp(o,i.io?i.io.next():Hl.U),"readwrite-primary"===e?i.po(r).next(function(t){return!!t||i.vo(r)}).next(function(e){if(!e)throw bl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo(function(){return i.ho(!1)}),new Il(kl.FAILED_PRECONDITION,wp);return n(r)}).next(function(t){return i.Do(r).next(function(){return t})}):i.Go(r).next(function(){return n(r)})}).then(function(t){return r.ps(),t})},t.prototype.Go=function(t){var e=this;return Hg(t).get(Cp.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Il(kl.FAILED_PRECONDITION,qg)})},t.prototype.Do=function(t){var e=new Cp(this.clientId,this.allowTabSynchronization,Date.now());return Hg(t).put(Cp.key,e)},t.jn=function(){return lp.jn()},t.prototype.So=function(t){var e=this,n=Hg(t);return n.get(Cp.key).next(function(t){return e.Co(t)?(gl("IndexedDbPersistence","Releasing primary lease."),n.delete(Cp.key)):up.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(bl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return gl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return bl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){bl("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Hg(t){return Bp(t,Cp.store)}function Bg(t){return Bp(t,Mp.store)}function Kg(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var $g=function(t,e){this.progress=t,this.zo=e},Gg=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=ad();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){var i=n.Xo(t,e,r),o=sd();return i.forEach(function(t,e){e||(e=new Ih(t,Kl.min())),o=o.Ht(t,e)}),o})},t.prototype.jr=function(t,e,n){return function(t){return Zl.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):of(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Zl(e)).next(function(t){var e=cd();return t instanceof kh&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=cd();return this.Ti.Qs(t,i).next(function(s){return up.forEach(s,function(s){var a=function(t,e){return new Xh(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next(function(n){return r=n,o.Ho.Ci(t,e)}).next(function(e){return o.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=Uf(u,r.get(c),0,o.Ss);r=l instanceof kh?r.Ht(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){ff(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=dd(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof zf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof kh&&(c=c.Ht(t,e))}),c})},t}(),Wg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=dd(),i=dd(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Jg=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Kl.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(o){var s=i.lc(e,o);return(tf(e)||ef(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(pl()<=cs.a.DEBUG&&gl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),hf(e)),i.uc.jr(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new rd(df(t));return e.forEach(function(e,r){r instanceof kh&&ff(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return pl()<=cs.a.DEBUG&&gl("QueryEngine","Using full collection scan to execute query:",hf(e)),this.uc.jr(t,e,Kl.min())},t}(),Zg=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new td(El),this.wc=new pg(function(t){return Rh(t)},Nh),this.Ec=Kl.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new Gg(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function Xg(t,e,n,r){return new Zg(t,e,n,r)}function Yg(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(fl.d)(this,function(s){switch(s.label){case 0:return n=_l(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.bi(t).next(function(s){return o=s,r=n.persistence.Ko(e),i=new Gg(n.Tc,r,n.persistence.jo()),r.bi(t)}).next(function(e){for(var n=[],r=[],s=dd(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,b=p.mutations;g<b.length;g++)s=s.add(b[g].key)}return i.Zo(t,s).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}})})}function Qg(t,e){var n=_l(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=up.resolve();return o.forEach(function(t){s=s.next(function(){return r.fi(e,t)}).next(function(e){var o=e,s=n.Fs.get(t);wl(null!==s),(!o||o.version.u(s)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)})}),s.next(function(){return t.Ho.xi(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}function tb(t){var e=_l(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function eb(t,e){var n=_l(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var s=[];e.Fe.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.fo.ir(t,e.Ke,o).next(function(){return n.fo.nr(t,e.Ue,o)}));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return wl(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.fo.Ji(t,c))}}});var a=sd();if(e.Me.forEach(function(r,i){e.Le.has(r)&&s.push(n.persistence.Ii.kr(t,r))}),s.push(nb(t,o,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(Kl.min())){var u=n.fo.Ki(t).next(function(e){return n.fo.Wi(t,t.vs,r)});s.push(u)}return up.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function nb(t,e,n,r,i){var o=dd();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=sd();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof Ih&&s.version.isEqual(Kl.min())?(e._i(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.ui(s,u),o=o.Ht(n,s)):gl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function rb(t,e){var n=_l(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function ib(t,e){var n=_l(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.fo.er(t,e).next(function(i){return i?up.resolve(r=i):n.fo.qi(t).next(function(i){return r=new gf(e,i,0,t.vs),n.fo.Gi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function ob(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(fl.d)(this,function(a){switch(a.label){case 0:r=_l(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ii.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!dp(s=a.sent()))throw s;return gl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function sb(t,e,n){var r=_l(t),i=Kl.min(),o=dd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=_l(t),i=r.wc.get(n);return void 0!==i?up.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,af(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next(function(t){o=t})}).next(function(){return r.fc.jr(t,e,n?i:Kl.min(),n?o:dd())}).next(function(t){return{documents:t,Pc:o}})})}function ab(t,e){var n=_l(t),r=_l(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function ub(t){var e=_l(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=_l(t),i=sd(),o=Zp(n),s=Ug(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Rp.readTimeIndex,range:a},function(t,e){var n=Wp(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{zo:i,readTime:Xp(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function cb(t){return Object(fl.b)(this,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){return[2,(e=_l(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Ug(t),n=Kl.min();return e.ls({index:Rp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Xp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function lb(t,e,n,r){return Object(fl.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(fl.d)(this,function(p){switch(p.label){case 0:for(i=_l(t),o=dd(),s=sd(),a=hd(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,ib(i,function(t){return af(Qh(Gl.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return nb(t,f,s,Kl.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.fo.Xi(t,d.targetId).next(function(){return i.fo.nr(t,o,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function hb(t,e,n){return void 0===n&&(n=dd()),Object(fl.b)(this,void 0,void 0,function(){var r,i;return Object(fl.d)(this,function(o){switch(o.label){case 0:return[4,ib(t,af(rg(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=_l(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Nd(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var s=r.$t(Cl.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.fo.Ji(t,s).next(function(){return i.fo.Xi(t,r.targetId)}).next(function(){return i.fo.nr(t,n,r.targetId)}).next(function(){return i.Eo.Bs(t,e)})})]}})})}var fb=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return up.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Nd(n.createTime)}),up.resolve()},t.prototype.$s=function(t,e){return up.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:rg(t.bundledQuery),readTime:Nd(t.readTime)}}(e)),up.resolve()},t}(),db=function(){function t(){this.Sc=new rd(pb.Dc),this.Cc=new rd(pb.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new pb(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Oc(new pb(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new Zl(new Gl([])),r=new pb(n,t),i=new pb(n,t+1),o=[];return this.Cc.Ae([r,i],function(t){e.Oc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Oc(e)})},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Zl(new Gl([])),n=new pb(e,t),r=new pb(e,t+1),i=dd();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ki=function(t){var e=new pb(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),pb=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Zl.J(t.key,e.key)||El(t.$c,e.$c)},t.xc=function(t,e){return El(t.$c,e.$c)||Zl.J(t.key,e.key)},t}(),gb=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new rd(pb.Dc)}return t.prototype.Ri=function(t){return up.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new Kp(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new pb(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return up.resolve(o)},t.prototype.yi=function(t,e){return up.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return up.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return up.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return up.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new pb(e,0),i=new pb(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);o.push(e)}),up.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new rd(El);return e.forEach(function(t){var e=new pb(t,0),i=new pb(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),up.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;Zl.Et(i)||(i=i.child(""));var o=new pb(new Zl(i),0),s=new rd(El);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)},o),up.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.xi=function(t,e){var n=this;wl(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return up.forEach(e.mutations,function(i){var o=new pb(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new pb(e,0),r=this.qc.Pe(n);return up.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return up.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),bb=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new td(Zl.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return up.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=ad();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)}),up.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=cd(),i=new Zl(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,u=a.li,c=a.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||u instanceof kh&&ff(e,u)&&(r=r.Ht(u.key,u))}return up.resolve(r)},t.prototype.Gc=function(t,e){return up.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new mb(this)},t.prototype.Mr=function(t){return up.resolve(this.size)},t}(),mb=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(fl.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)}),up.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(gg),yb=function(){function t(t){this.persistence=t,this.zc=new pg(function(t){return Rh(t)},Nh),this.lastRemoteSnapshotVersion=Kl.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new db,this.targetCount=0,this.Yc=xg.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),up.resolve()},t.prototype.Ki=function(t){return up.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return up.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),up.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),up.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new xg(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,up.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),up.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,up.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Xi(t,a.targetId)),i++)}),up.$n(o).next(function(){return i})},t.prototype.tr=function(t){return up.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return up.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),up.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),up.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),up.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return up.resolve(n)},t.prototype.ki=function(t,e){return up.resolve(this.Jc.ki(e))},t}(),vb=function(){function t(t,e){var n=this;this.Xc={},this.io=new Hl(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new yb(this),this.Ti=new ag,this.wo=function(t,e){return new bb(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new Gp(e),this.Eo=new fb(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new gb(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;gl("MemoryPersistence","Starting transaction:",t);var i=new wb(this.io.next());return this.Ii.ta(),n(i).next(function(t){return r.Ii.ea(i).next(function(){return t})}).Mn().then(function(t){return i.ps(),t})},t.prototype.na=function(t,e){return up.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),wb=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(fl.c)(e,t),e}(_p),_b=function(){function t(t){this.persistence=t,this.sa=new db,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw vl()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),up.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),up.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),up.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Dr();return r.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return up.forEach(this.oa,function(r){var i=Zl.ft(r);return e.ca(t,i).next(function(t){t||n._i(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return up.Bn([function(){return up.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Ob(t,e){return"firestore_clients_"+t+"_"+e}function xb(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Eb(t,e){return"firestore_targets_"+t+"_"+e}var Sb=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Il(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(bl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Tb=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Il(r.error.code,r.error.message)),i?new t(e,r.state,o):(bl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Cb=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=gd(),s=0;i&&s<r.activeTargetIds.length;++s)i=lh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(bl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),kb=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(bl("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ib=function(){function t(){this.activeTargetIds=gd()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),jb=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new td(El),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Ob(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Ib),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(fl.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(fl.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Ob(this.persistenceKey,r)))&&(o=Cb.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Eb(this.persistenceKey,t));if(n){var r=Tb.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Eb(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Fa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return gl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){gl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){gl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(gl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void bl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(fl.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(fl.d)(this,function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=Hl.U;if(null!=t)try{var n=JSON.parse(t);wl("number"==typeof n),e=n}catch(t){bl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Hl.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Sb(this.currentUser,t,e,n),i=xb(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=xb(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Eb(this.persistenceKey,t),i=new Tb(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Cb.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Sb.aa(new Ul(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Tb.aa(r,e)},t.prototype.ba=function(t){return kb.aa(t)},t.prototype.Xa=function(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(gl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.fa.iu(s,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=gd();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),Ab=function(){function t(){this.ru=new Ib,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Ib,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),Pb=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),Rb=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){gl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){gl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Nb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Db=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Lb=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(fl.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,o){var s=new hl;s.listenOnce(ul.COMPLETE,function(){try{switch(s.getLastErrorCode()){case al.NO_ERROR:var e=s.getResponseJson();gl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case al.TIMEOUT:gl("Connection",'RPC "'+t+'" timed out'),o(new Il(kl.DEADLINE_EXCEEDED,"Request time out"));break;case al.HTTP_ERROR:var n=s.getStatus();if(gl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(kl).indexOf(e)>=0?e:kl.UNKNOWN}(r.status);o(new Il(a,r.message))}else o(new Il(kl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Il(kl.UNAVAILABLE,"Connection failed."));break;default:vl()}}finally{gl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new nl,i=ou(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(ls.p)()||Object(ls.r)()||Object(ls.m)()||Object(ls.n)()||Object(ls.s)()||Object(ls.l)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");gl("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Db({du:function(t){c?gl("Connection","Not sending because WebChannel is closed:",t):(u||(gl("Connection","Opening WebChannel transport."),a.open(),u=!0),gl("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,ll.EventType.OPEN,function(){c||gl("Connection","WebChannel transport opened.")}),h(a,ll.EventType.CLOSE,function(){c||(c=!0,gl("Connection","WebChannel transport closed"),l.Pu())}),h(a,ll.EventType.ERROR,function(t){c||(c=!0,ml("Connection","WebChannel transport errored:",t),l.Pu(new Il(kl.UNAVAILABLE,"The operation could not be completed")))}),h(a,ll.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];wl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){gl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Gf[t];if(void 0!==e)return Qf(e)}(i),s=r.message;void 0===o&&(o=kl.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new Il(o,s)),a.close()}else gl("Connection","WebChannel received:",n),l.yu(n)}}),h(i,cl.STAT_EVENT,function(t){10===t.stat?gl("Connection","Detected buffering proxy"):11===t.stat&&gl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);gl("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then(function(t){return gl("RestConnection","Received: ",t),t},function(e){throw ml("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Nb[t]},t}());function Ub(){return"undefined"!=typeof window?window:null}function Vb(){return"undefined"!=typeof document?document:null}function Mb(t){return new jd(t,!0)}var Fb=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&gl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),qb=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new Fb(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===kl.RESOURCE_EXHAUSTED?(bl(e.toString()),bl("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===kl.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then(function(e){t.Wu===n&&t.rh(e)},function(n){e(function(){var e=new Il(kl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(fl.b)(t,void 0,void 0,function(){return Object(fl.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return gl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.Wu===t?n():(gl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),zb=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(fl.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:vl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(wl(void 0===e||"string"==typeof e),Cl.fromBase64String(e||"")):(wl(void 0===e||e instanceof Uint8Array),Cl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?kl.UNKNOWN:Qf(t.code);return new Il(e,t.message||"")}(a);n=new xd(r,i,o,s||null)}else if("documentChange"in e){i=Vd(t,(r=e.documentChange).document.name),o=Nd(r.document.updateTime);var a=new Eh({mapValue:{fields:r.document.fields}}),u=(s=new kh(i,o,a,{}),r.targetIds||[]);n=new _d(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Vd(t,(r=e.documentDelete).document),o=r.readTime?Nd(r.readTime):Kl.min(),a=new Ih(i,o),n=new _d([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Vd(t,(r=e.documentRemove).document),n=new _d([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return vl();var c=e.filter;i=new Xf(r=c.count||0),n=new Od(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Kl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Kl.min():e.readTime?Nd(e.readTime):Kl.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=qd(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Dh(r)?{documents:Gd(t,r)}:{query:Wd(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Pd(t,e.resumeToken):e.Mt.u(Kl.min())>0&&(n.readTime=Ad(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vl()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=qd(this.Kt),e.removeTarget=t,this.eh(e)},e}(qb),Hb=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(wl(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(wl(void 0!==e),t.map(function(t){return function(t,e){var n=Nd(t.updateTime?t.updateTime:e);n.isEqual(Kl.min())&&(n=Nd(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Pf(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Nd(t.commitTime);return this.listener.wh(n,e)}return wl(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=qd(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Kd(e.Kt,t)})};this.eh(n)},e}(qb),Bb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(fl.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Il(kl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===kl.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===kl.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),Kb=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(bl(e),this.Ph=!1):gl("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),$b=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(fl.b)(o,void 0,void 0,function(){return Object(fl.d)(this,function(t){switch(t.label){case 0:return em(this)?(gl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(fl.b)(this,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return(e=_l(t)).Oh.add(4),[4,Wb(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,Gb(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new Kb(n,r)};function Gb(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:if(!em(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Wb(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Jb(t,e){var n=_l(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),tm(n)?Qb(n):bm(n).Ju()&&Xb(n,e))}function Zb(t,e){var n=_l(t),r=bm(n);n.Nh.delete(e),r.Ju()&&Yb(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():em(n)&&n.Mh.set("Unknown"))}function Xb(t,e){t.Lh.cn(e.targetId),bm(t).hh(e)}function Yb(t,e){t.Lh.cn(e),bm(t).lh(e)}function Qb(t){t.Lh=new Sd({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),bm(t).start(),t.Mh.yh()}function tm(t){return em(t)&&!bm(t).Hu()&&t.Nh.size>0}function em(t){return 0===_l(t).Oh.size}function nm(t){t.Lh=void 0}function rm(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){return t.Nh.forEach(function(e,n){Xb(t,e)}),[2]})})}function im(t,e){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(n){return nm(t),tm(t)?(t.Mh.ph(e),Qb(t)):t.Mh.set("Unknown"),[2]})})}function om(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,o;return Object(fl.d)(this,function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof xd&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(fl.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),gl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,sm(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof _d?t.Lh.wn(e):e instanceof Od?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Kl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,tb(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Cl.h,n.Mt)),Yb(t,e);var r=new gf(n.target,e,1,n.sequenceNumber);Xb(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return gl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,sm(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function sm(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r=this;return Object(fl.d)(this,function(i){switch(i.label){case 0:if(!dp(e))throw e;return t.Oh.add(1),[4,Wb(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return tb(t.Sh)}),t.fs.bo(function(){return Object(fl.b)(r,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return gl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,Gb(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function am(t,e){return e().catch(function(n){return sm(t,n,e)})}function um(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(fl.d)(this,function(s){switch(s.label){case 0:e=_l(t),n=mm(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return em(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,rb(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=mm(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,sm(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return cm(e)&&lm(e),[2]}})})}function cm(t){return em(t)&&!mm(t).Hu()&&t.xh.length>0}function lm(t){mm(t).start()}function hm(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){return mm(t).Th(),[2]})})}function fm(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n,r;return Object(fl.d)(this,function(i){for(e=mm(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function dm(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i;return Object(fl.d)(this,function(o){switch(o.label){case 0:return r=t.xh.shift(),i=$p.from(r,e,n),[4,am(t,function(){return t.Ch.qh(i)})];case 1:return o.sent(),[4,um(t)];case 2:return o.sent(),[2]}})})}function pm(t,e){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(n){switch(n.label){case 0:return e&&mm(t).fh?[4,function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r;return Object(fl.d)(this,function(i){switch(i.label){case 0:return Yf(r=e.code)&&r!==kl.ABORTED?(n=t.xh.shift(),mm(t).Xu(),[4,am(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,um(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return cm(t)&&lm(t),[2]}})})}function gm(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n;return Object(fl.d)(this,function(r){switch(r.label){case 0:return n=_l(t),e?(n.Oh.delete(2),[4,Gb(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,Wb(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function bm(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=_l(t);return r.mh(),new zb(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:rm.bind(null,t),Iu:im.bind(null,t),uh:om.bind(null,t)}),t.Fh.push(function(n){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),tm(t)?Qb(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),nm(t),e.label=3;case 3:return[2]}})})})),t.Qh}function mm(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=_l(t);return r.mh(),new Hb(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:hm.bind(null,t),Iu:pm.bind(null,t),Eh:fm.bind(null,t),wh:dm.bind(null,t)}),t.Fh.push(function(n){return Object(fl.b)(e,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,um(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(gl("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var ym=function(){this.jh=void 0,this.listeners=[]},vm=function(){this.queries=new pg(function(t){return lf(t)},cf),this.onlineState="Unknown",this.Wh=new Set};function wm(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(fl.d)(this,function(c){switch(c.label){case 0:if(n=_l(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new ym),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.jh=c.sent(),[3,4];case 3:return a=c.sent(),u=vp(a,"Initialization of query '"+hf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&Em(n),[2]}})})}function _m(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(fl.d)(this,function(a){return n=_l(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function Om(t,e){for(var n=_l(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.jh=s}}r&&Em(n)}function xm(t,e,n){var r=_l(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Em(t){t.Wh.forEach(function(t){t.next()})}var Sm=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new yd(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=yd.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Tm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Cm=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Vd(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Bd(this.Kt,t.document,!1):new Ih(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Nd(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Cm(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||dd()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(fl.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(fl.d)(this,function(o){switch(o.label){case 0:return[4,lb(this.Sh,new Cm(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,hb(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new $g(Object.assign({},this.progress),t))]}})})}}();var km=function(t){this.key=t},Im=function(t){this.key=t},jm=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=dd(),this.Ce=dd(),this.ll=df(t),this._l=new bd(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new md,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=tf(this.query)&&i.size===this.query.limit?i.last():null,c=ef(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof kh?e:null;h&&(h=ff(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),tf(this.query)||ef(this.query))for(;s.size>this.query.limit;){var l=tf(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vl()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new yd(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new md,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=dd(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new Im(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new km(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=dd();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return yd.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),Am=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Pm=function(t){this.key=t,this.yl=!1},Rm=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new pg(function(t){return lf(t)},cf),this.Dl=new Map,this.Cl=[],this.xl=new td(Zl.J),this.Nl=new Map,this.Ol=new db,this.Fl={},this.kl=new Map,this.Ml=xg.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Nm(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(fl.d)(this,function(a){switch(a.label){case 0:return n=cy(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,ib(n.Sh,af(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,Dm(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&Jb(n.gl,o),a.label=4;case 4:return[2,r]}})})}function Dm(t,e,n,r){return Object(fl.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(fl.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(fl.b)(this,void 0,void 0,function(){var i,o,s;return Object(fl.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,sb(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(Wm(t,e.targetId,s.ml),s.snapshot)]}})})}(t,e,n,r)},[4,sb(t.Sh,e,!0)];case 1:return i=l.sent(),o=new jm(e,i.Pc),s=o.dl(i.documents),a=wd.Be(n,r&&"Offline"!==t.onlineState),u=o.Ei(s,t.$l,a),Wm(t,n,u.ml),c=new Am(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function Lm(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i;return Object(fl.d)(this,function(o){switch(o.label){case 0:return n=_l(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!cf(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,ob(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),Zb(n.gl,r.targetId),$m(n,r.targetId)}).catch(dg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return $m(n,r.targetId),[4,ob(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Um(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(fl.d)(this,function(a){switch(a.label){case 0:r=ly(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=_l(t),i=Bl.now(),o=e.reduce(function(t,e){return t.add(e.key)},dd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Vf(c,n.get(c.key));null!=l&&s.push(new zf(c.key,l,Th(l.proto.mapValue),Rf.exists(!0)))}return r.Ho.Pi(t,i,s,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new td(El)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,Xm(r,i.oi)];case 3:return a.sent(),[4,um(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=vp(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Vm(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r;return Object(fl.d)(this,function(i){switch(i.label){case 0:n=_l(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,eb(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach(function(t,e){var r=n.Nl.get(e);r&&(wl(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?wl(r.yl):t.Ke.size>0&&(wl(r.yl),r.yl=!1))}),[4,Xm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,dg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Mm(t,e,n){var r=_l(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=_l(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)}),r&&Em(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Fm(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(fl.d)(this,function(c){switch(c.label){case 0:return(r=_l(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new td(Zl.J)).Ht(o,new Ih(o,Kl.min())),a=dd().add(o),u=new vd(Kl.min(),new Map,new rd(El),s,a),[4,Vm(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Zm(r),[3,4];case 2:return[4,ob(r.Sh,e,!1).then(function(){return $m(r,e,n)}).catch(dg)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function qm(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i;return Object(fl.d)(this,function(o){switch(o.label){case 0:n=_l(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Qg(n.Sh,e)];case 2:return i=o.sent(),Km(n,r,null),Bm(n,r),n.pl.Oa(r,"acknowledged"),[4,Xm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,dg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function zm(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i;return Object(fl.d)(this,function(o){switch(o.label){case 0:r=_l(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=_l(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.yi(t,e).next(function(e){return wl(null!==e),r=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=o.sent(),Km(r,e,n),Bm(r,e),r.pl.Oa(e,"rejected",n),[4,Xm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,dg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Hm(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(fl.d)(this,function(a){switch(a.label){case 0:em((n=_l(t)).gl)||gl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=_l(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=vp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Bm(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function Km(t,e,n){var r=_l(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function $m(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach(function(e){t.Ol.ki(e)||Gm(t,e)})}function Gm(t,e){var n=t.xl.get(e);null!==n&&(Zb(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Zm(t))}function Wm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof km?(t.Ol.sr(o.key,e),Jm(t,o)):o instanceof Im?(gl("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||Gm(t,o.key)):vl()}}function Jm(t,e){var n=e.key;t.xl.get(n)||(gl("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Zm(t))}function Zm(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Pm(e)),t.xl=t.xl.Ht(e,n),Jb(t.gl,new gf(af(Qh(e.path)),n,2,Hl.U))}}function Xm(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(fl.d)(this,function(a){switch(a.label){case 0:return r=_l(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){s.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Wg.cc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(fl.d)(this,function(l){switch(l.label){case 0:n=_l(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return up.forEach(e,function(e){return up.forEach(e.rc,function(r){return n.persistence.Ii.sr(t,e.targetId,r)}).next(function(){return up.forEach(e.oc,function(r){return n.persistence.Ii.rr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!dp(r=l.sent()))throw r;return gl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}})})}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Ym(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r;return Object(fl.d)(this,function(i){switch(i.label){case 0:return(n=_l(t)).currentUser.isEqual(e)?[3,3]:(gl("SyncEngine","User change. New user:",e.R()),[4,Yg(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new Il(kl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Xm(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Qm(t,e){var n=_l(t),r=n.Nl.get(e);if(r&&r.yl)return dd().add(r.key);var i=dd(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Sl.get(a[s]);i=i.ye(u.view.fl)}return i}function ty(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i;return Object(fl.d)(this,function(o){switch(o.label){case 0:return[4,sb((n=_l(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Wm(n,e.targetId,i.ml),i)]}})})}function ey(t){return Object(fl.b)(this,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){return[2,ub((e=_l(t)).Sh).then(function(t){return Xm(e,t)})]})})}function ny(t,e,n,r){return Object(fl.b)(this,void 0,void 0,function(){var i,o;return Object(fl.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=_l(t),r=_l(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):up.resolve(null)})})}((i=_l(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,um(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Km(i,e,r||null),Bm(i,e),function(t,e){_l(_l(t).Ho).Ni(e)}(i.Sh,e)):vl(),s.label=4;case 4:return[4,Xm(i,o)];case 5:return s.sent(),[3,7];case 6:gl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function ry(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(fl.d)(this,function(c){switch(c.label){case 0:return cy(n=_l(t)),ly(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,iy(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,gm(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Jb(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return $m(n,e),ob(n.Sh,e,!0)}),Zb(n.gl,e)}),[4,u]);case 4:return c.sent(),[4,iy(n,a)];case 5:return c.sent(),function(t){var e=_l(t);e.Nl.forEach(function(t,n){Zb(e.gl,n)}),e.Ol.Mc(),e.Nl=new Map,e.xl=new td(Zl.J)}(n),n.Ll=!1,[4,gm(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function iy(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(fl.d)(this,function(g){switch(g.label){case 0:n=_l(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Dl.get(a=s[o]))&&0!==c.length?[4,ib(n.Sh,af(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,ty(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ab(n.Sh,a)];case 8:return p=g.sent(),[4,ib(n.Sh,p)];case 9:return u=g.sent(),[4,Dm(n,oy(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function oy(t){return Yh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sy(t){var e=_l(t);return _l(_l(e.Sh).persistence).Qo()}function ay(t,e,n,r){return Object(fl.b)(this,void 0,void 0,function(){var i,o,s;return Object(fl.d)(this,function(a){switch(a.label){case 0:return(i=_l(t)).Ll?(gl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ub(i.Sh)];case 3:return o=a.sent(),s=vd.$e(e,"current"===n),[4,Xm(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,ob(i.Sh,e,!0)];case 6:return a.sent(),$m(i,e,r),[3,8];case 7:vl(),a.label=8;case 8:return[2]}})})}function uy(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(fl.d)(this,function(f){switch(f.label){case 0:if(!(r=cy(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(gl("SyncEngine","Adding an already active target "+s),[3,5]):[4,ab(r.Sh,s)]:[3,6];case 2:return a=f.sent(),[4,ib(r.Sh,a)];case 3:return u=f.sent(),[4,Dm(r,oy(a),u.targetId,!1)];case 4:f.sent(),Jb(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(fl.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,ob(r.Sh,t,!1).then(function(){Zb(r.gl,t),$m(r,t)}).catch(dg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function cy(t){var e=_l(t);return e.gl.Ch.Bh=Vm.bind(null,e),e.gl.Ch.Sn=Qm.bind(null,e),e.gl.Ch.$h=Fm.bind(null,e),e.vl.uh=Om.bind(null,e.Vl),e.vl.ql=xm.bind(null,e.Vl),e}function ly(t){var e=_l(t);return e.gl.Ch.qh=qm.bind(null,e),e.gl.Ch.Uh=zm.bind(null,e),e}var hy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return this.Kt=Mb(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Xg(this.persistence,new Jg,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new vb(_b.ra,this.Kt)},t.prototype.Wl=function(t){return new Ab},t.prototype.terminate=function(){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),fy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(fl.c)(e,t),e.prototype.initialize=function(e){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,cb(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,ly(this.Xl.fa)];case 4:return n.sent(),[4,um(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Xg(this.persistence,new Jg,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new jg(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=Kg(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?fg.Xs(this.cacheSizeBytes):fg.ei;return new zg(this.synchronizeTabs,e,t.clientId,n,t.fs,Ub(),Vb(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Ab},e}(hy),dy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(fl.c)(e,t),e.prototype.initialize=function(e){return Object(fl.b)(this,void 0,void 0,function(){var n,r=this;return Object(fl.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof jb?(this.pl.fa={nu:ny.bind(null,n),su:ay.bind(null,n),iu:uy.bind(null,n),Qo:sy.bind(null,n),eu:ey.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(fl.b)(r,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return[4,ry(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=Ub();if(!jb.jn(e))throw new Il(kl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Kg(t.gu.T,t.gu.persistenceKey);return new jb(e,t.fs,n,t.clientId,t.Yl)},e}(fy),py=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n=this;return Object(fl.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Mm(n.fa,t,1)},this.gl.Ch.s_=Ym.bind(null,this.fa),[4,gm(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new vm},t.prototype.Zl=function(t){var e=Mb(t.gu.T),n=new Lb(t.gu);return function(t,e,n){return new Bb(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Mm(s.fa,t,0)},o=Rb.jn()?new Rb:new Pb,new $b(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Rm(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(fl.b)(this,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return e=_l(t),gl("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,Wb(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),gy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),by=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new ap,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(fl.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(fl.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Tm(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(fl.b)(this,void 0,void 0,function(){var t,e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(fl.b)(this,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(fl.b)(this,void 0,void 0,function(){var t,e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Il(kl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Jl(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),my=function(t){this._methodName=t};function yy(t,e,n){if(!n)throw new Il(kl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function vy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Il(kl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function wy(t,e,n,r){if(!0===e&&!0===r)throw new Il(kl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function _y(t){if(!Zl.Et(t))throw new Il(kl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Oy(t){if(Zl.Et(t))throw new Il(kl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function xy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":vl()}function Ey(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Il(kl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xy(t);throw new Il(kl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Sy(t,e){if(e<=0)throw new Il(kl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ty=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Il(kl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Il(kl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,wy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Cy=new Map,ky=function(){function t(t,e){this.w_="(lite)",this.E_=new Ty({}),this.T_=!1,t instanceof Ll?(this.I_=t,this.m_=new Ml):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Il(kl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(t.options.projectId)}(t),this.m_=new Fl(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Il(kl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Il(kl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Ty(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Ml;switch(t.type){case"gapi":var e=t.client;return wl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new zl(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Il(kl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Cy.get(this))&&(gl("ComponentProvider","Removing Datastore"),Cy.delete(this),t.terminate()),Promise.resolve();var t},t}(),Iy=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ay(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),jy=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Ay=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Qh(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Iy(this.firestore,null,new Zl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(jy);function Py(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Al&&(t=t._),yy("collection","path",e),t instanceof ky)return Oy(n=Gl.ct.apply(Gl,Object(fl.g)([e],r))),new Ay(t,null,n);if(!(t instanceof Iy||t instanceof Ay))throw new Il(kl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Oy(n=Gl.ct.apply(Gl,Object(fl.g)([t.path],r)).child(Gl.ct(e))),new Ay(t.firestore,null,n)}function Ry(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Al&&(t=t._),1===arguments.length&&(e=xl.t()),yy("doc","path",e),t instanceof ky)return _y(n=Gl.ct.apply(Gl,Object(fl.g)([e],r))),new Iy(t,null,new Zl(n));if(!(t instanceof Iy||t instanceof Ay))throw new Il(kl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _y(n=t.D_.child(Gl.ct.apply(Gl,Object(fl.g)([e],r)))),new Iy(t.firestore,t instanceof Ay?t.v_:null,new Zl(n))}function Ny(t,e){return t instanceof Al&&(t=t._),e instanceof Al&&(e=e._),(t instanceof Iy||t instanceof Ay)&&(e instanceof Iy||e instanceof Ay)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Dy(t,e){return t instanceof Al&&(t=t._),e instanceof Al&&(e=e._),t instanceof jy&&e instanceof jy&&t.firestore===e.firestore&&cf(t.C_,e.C_)&&t.v_===e.v_}var Ly=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Il(kl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Il(kl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return El(this.x_,t.x_)||El(this.N_,t.N_)},t}(),Uy=/^__.*__$/,Vy=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new zf(t,this.data,this.zt,e,this.fieldTransforms):new qf(t,this.data,e,this.fieldTransforms)},t}(),My=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new zf(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Fy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vl()}}var qy=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return av(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Fy(this.k_)&&Uy.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),zy=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Mb(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new qy({k_:t,methodName:e,W_:n,path:Jl.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Hy(t){var e=t.p_(),n=Mb(t.I_);return new zy(t.I_,!!e.ignoreUndefinedProperties,n)}function By(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);rv("Data must be an object, but it was:",s,r);var a,u,c=ev(r,s);if(o.merge)a=new th(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=iv(e,f[h],n);if(!s.contains(d))throw new Il(kl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");uv(l,d)||l.push(d)}a=new th(l),u=s.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=s.fieldTransforms;return new Vy(new Eh(c),a,u)}var Ky=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(my);function $y(t,e,n){return new qy({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Gy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.z_=function(t){return new Af(t.path,new xf)},e.prototype.isEqual=function(t){return t instanceof e},e}(my),Wy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(fl.c)(e,t),e.prototype.z_=function(t){var e=$y(this,t,!0),n=this.H_.map(function(t){return tv(t,e)}),r=new Ef(n);return new Af(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(my),Jy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(fl.c)(e,t),e.prototype.z_=function(t){var e=$y(this,t,!0),n=this.H_.map(function(t){return tv(t,e)}),r=new Tf(n);return new Af(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(my),Zy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(fl.c)(e,t),e.prototype.z_=function(t){var e=new kf(t.Kt,yf(t.Kt,this.J_));return new Af(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(my);function Xy(t,e,n,r){var i=t.G_(1,e,n);rv("Data must be an object, but it was:",i,r);var o=[],s=new Sh;Yl(r,function(t,r){var a=sv(e,t,n);r instanceof Al&&(r=r._);var u=i.U_(a);if(r instanceof Ky)o.push(a);else{var c=tv(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new th(o);return new My(s.yt(),a,i.fieldTransforms)}function Yy(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[iv(e,r,n)],u=[i];if(o.length%2!=0)throw new Il(kl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(iv(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Sh,f=a.length-1;f>=0;--f)if(!uv(l,a[f])){var d=a[f],p=u[f];p instanceof Al&&(p=p._);var g=s.U_(d);if(p instanceof Ky)l.push(d);else{var b=tv(p,g);null!=b&&(l.push(d),h.set(d,b))}}var m=new th(l);return new My(h.yt(),m,s.fieldTransforms)}function Qy(t,e,n,r){return void 0===r&&(r=!1),tv(n,t.G_(r?4:3,e))}function tv(t,e){if(t instanceof Al&&(t=t._),nv(t))return rv("Unsupported field value:",e,t),ev(t,e);if(t instanceof my)return function(t,e){if(!Fy(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=tv(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Al&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yf(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Bl.fromDate(t);return{timestampValue:Ad(e.Kt,n)}}if(t instanceof Bl)return n=new Bl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ad(e.Kt,n)};if(t instanceof Ly)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jl)return{bytesValue:Pd(e.Kt,t.l)};if(t instanceof Iy){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Dd(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+xy(t))}(t,e)}function ev(t,e){var n={};return Ql(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Yl(t,function(t,r){var i=tv(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function nv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Bl||t instanceof Ly||t instanceof jl||t instanceof Iy||t instanceof my)}function rv(t,e,n){if(!nv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=xy(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function iv(t,e,n){if(e instanceof Al&&(e=e._),e instanceof by)return e.d_;if("string"==typeof e)return sv(t,e);throw av("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ov=new RegExp("[~\\*/\\[\\]]");function sv(t,e,n){if(e.search(ov)>=0)throw av("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(by.bind.apply(by,Object(fl.g)([void 0],e.split("."))))).d_}catch(r){throw av("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function av(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Il(kl.INVALID_ARGUMENT,(a+=". ")+t+u)}function uv(t,e){return t.some(function(t){return t.isEqual(e)})}var cv=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n=this;return Object(fl.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Il(kl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(fl.d)(this,function(u){switch(u.label){case 0:return n=_l(t),r=qd(n.Kt)+"/documents",i={documents:e.map(function(t){return Ud(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){wl(!!e.found);var n=Vd(t,e.found.name),r=Nd(e.found.updateTime),i=new Eh({mapValue:{fields:e.found.fields}});return new kh(n,r,i,{})}(t,e):"missing"in e?function(t,e){wl(!!e.missing),wl(!!e.readTime);var n=Vd(t,e.missing),r=Nd(e.readTime);return new Ih(n,r)}(t,e):vl()}(n.Kt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());wl(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Ih||t instanceof kh?n.sf(t):vl()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Jf(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(fl.b)(this,void 0,void 0,function(){var t,e=this;return Object(fl.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Zl.ft(n);e.mutations.push(new Zf(r,e.Gt(r)))}),[4,function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i;return Object(fl.d)(this,function(o){switch(o.label){case 0:return n=_l(t),r=qd(n.Kt)+"/documents",i={writes:e.map(function(t){return Kd(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof kh)e=t.version;else{if(!(t instanceof Ih))throw vl();e=Kl.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Il(kl.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Rf.updateTime(e):Rf.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Kl.min()))throw new Il(kl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rf.updateTime(e)}return Rf.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),lv=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Fb(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(fl.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(fl.d)(this,function(r){return t=new cv(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!uh(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Yf(e)}return!1},t}(),hv=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Ul.UNAUTHENTICATED,this.clientId=xl.t(),this._f=function(){},this.N=new ap,this.credentials.S(function(t){gl("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new Il(kl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new ap;return this.fs.Tf(function(){return Object(fl.b)(t,void 0,void 0,function(){var t,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=vp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function fv(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(fl.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),gl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.bo(function(){return Object(fl.b)(i,void 0,void 0,function(){return Object(fl.d)(this,function(t){switch(t.label){case 0:return[4,Yg(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function dv(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r;return Object(fl.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,pv(t)];case 1:return n=i.sent(),gl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r;return Object(fl.d)(this,function(i){switch(i.label){case 0:return(n=_l(t)).fs.Af(),gl("RemoteStore","RemoteStore received new credentials"),r=em(n),n.Oh.add(3),[4,Wb(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,Gb(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function pv(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(gl("FirestoreClient","Using default OfflineComponentProvider"),[4,fv(t,new hy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function gv(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(gl("FirestoreClient","Using default OnlineComponentProvider"),[4,dv(t,new py)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function bv(t){return pv(t).then(function(t){return t.persistence})}function mv(t){return pv(t).then(function(t){return t.Sh})}function yv(t){return gv(t).then(function(t){return t.gl})}function vv(t){return gv(t).then(function(t){return t.fa})}function wv(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:return[4,gv(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Nm.bind(null,e.fa),n.Jh=Lm.bind(null,e.fa),n)]}})})}function _v(t,e,n){var r=this;void 0===n&&(n={});var i=new ap;return t.fs.ys(function(){return Object(fl.b)(r,void 0,void 0,function(){var r;return Object(fl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new gy({next:function(o){e.ys(function(){return _m(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Il(kl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Il(kl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Sm(Qh(n.path),o,{includeMetadataChanges:!0,sl:!0});return wm(t,s)},[4,wv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}function Ov(t,e,n){var r=this;void 0===n&&(n={});var i=new ap;return t.fs.ys(function(){return Object(fl.b)(r,void 0,void 0,function(){var r;return Object(fl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new gy({next:function(n){e.ys(function(){return _m(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Il(kl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Sm(n,o,{includeMetadataChanges:!0,sl:!0});return wm(t,s)},[4,wv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}var xv=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Fb(this,"async_queue_retry"),this.vf=function(){var e=Vb();e&&gl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Vb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Vb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(fl.b)(this,void 0,void 0,function(){var t,e=this;return Object(fl.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!dp(t=n.sent()))throw t;return gl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,bl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=yp.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&vl()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(fl.b)(this,void 0,void 0,function(){var t;return Object(fl.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Ev=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new xv,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(fl.c)(e,t),e.prototype.b_=function(){return this.Lf||Tv(this),this.Lf.terminate()},e}(ky);function Sv(t){return t.Lf||Tv(t),t.Lf.df(),t.Lf}function Tv(t){var e=t.p_(),n=function(t,e,n){return new Dl(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new hv(t.m_,t.Mf,n)}function Cv(t,e,n){var r=this,i=new ap;return t.fs.enqueue(function(){return Object(fl.b)(r,void 0,void 0,function(){var r;return Object(fl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fv(t,n)];case 1:return o.sent(),[4,dv(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===kl.FAILED_PRECONDITION||t.code===kl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function kv(t){if(t.R_||t.P_)throw new Il(kl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Iv=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),hh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rh(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(ih(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw vl()}},t.prototype.Wf=function(t,e){var n=this,r={};return Yl(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Ly(rh(t.latitude),rh(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=sh(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(ah(t));default:return null}},t.prototype.Bf=function(t){var e=nh(t);return new Bl(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Gl.ct(t);wl(sp(n));var r=new Ll(n.get(1),n.get(3)),i=new Zl(n.X(5));return r.isEqual(e)||bl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),jv=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Iy(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Av(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Pv("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Av=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(jv);function Pv(t,e){return"string"==typeof e?sv(t,e):e instanceof Al?e._.d_:e.d_}function Rv(t){if(ef(t)&&0===t.Nt.length)throw new Il(kl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nv=function(){};function Dv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Lv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(fl.c)(e,t),e.prototype.Yf=function(t){var e=Hy(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new Il(kl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Hv(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(zv(r,t,l[c]));a={arrayValue:{values:u}}}else a=zv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Hv(s,o),a=Qy(n,"where",s,"in"===o||"not-in"===o);var h=Lh.create(i,o,a);return function(t,e){if(e.xt()){var n=rf(t);if(null!==n&&!n.isEqual(e.field))throw new Il(kl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=nf(t);null!==r&&Bv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Il(kl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new jy(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Xh(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Nv),Uv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(fl.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Il(kl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Il(kl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Gh(e,n);return function(t,e){if(null===nf(t)){var n=rf(t);null!==n&&Bv(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new jy(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Xh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Nv),Vv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(fl.c)(e,t),e.prototype.Yf=function(t){return new jy(t.firestore,t.v_,uf(t.C_,this.nd,this.sd))},e}(Nv),Mv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(fl.c)(e,t),e.prototype.Yf=function(t){var e=qv(t,this.type,this.rd,this.od);return new jy(t.firestore,t.v_,function(t,e){return new Xh(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Nv),Fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(fl.c)(e,t),e.prototype.Yf=function(t){var e=qv(t,this.type,this.rd,this.od);return new jy(t.firestore,t.v_,function(t,e){return new Xh(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Nv);function qv(t,e,n,r){if(n[0]instanceof Al&&(n[0]=n[0]._),n[0]instanceof jv)return function(t,e,n,r,i){if(!r)throw new Il(kl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=sf(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(yh(e,r.key));else{var c=r.field(u.field);if(oh(c))throw new Il(kl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new Il(kl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Kh(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Hy(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new Il(kl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new Il(kl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!of(t)&&-1!==c.indexOf("/"))throw new Il(kl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Gl.ct(c));if(!Zl.Et(l))throw new Il(kl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Zl(l);a.push(yh(e,h))}else{var f=Qy(n,r,c);a.push(f)}}return new Kh(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function zv(t,e,n){if(n instanceof Al&&(n=n._),"string"==typeof n){if(""===n)throw new Il(kl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!of(e)&&-1!==n.indexOf("/"))throw new Il(kl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Gl.ct(n));if(!Zl.Et(r))throw new Il(kl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return yh(t,new Zl(r))}if(n instanceof Iy)return yh(t,n.S_);throw new Il(kl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xy(n)+".")}function Hv(t,e){if(!Array.isArray(t)||0===t.length)throw new Il(kl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Il(kl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Bv(t,e,n){if(!n.isEqual(e))throw new Il(kl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Kv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function $v(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Gv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fl.c)(e,t),e.prototype.Uf=function(t){return new jl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Iy(this.firestore,null,e)},e}(Iv),Wv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Jv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(fl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Zv(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Pv("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(jv),Zv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Jv),Xv=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Wv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new Zv(n.zf,n.Hf,r.key,r,new Wv(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Il(kl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new Zv(t.zf,t.Hf,e.doc.key,e.doc,new Wv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Zv(t.zf,t.Hf,e.doc.key,e.doc,new Wv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Yv(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function Yv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vl()}}function Qv(t,e){return t instanceof Jv&&e instanceof Jv?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Xv&&e instanceof Xv&&t.zf===e.zf&&Dy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var tw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fl.c)(e,t),e.prototype.Uf=function(t){return new jl(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Iy(this.firestore,null,e)},e}(Iv);function ew(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ey(t,Iy);var o=Ey(t.firestore,Ev),s=Hy(o);return e instanceof Al&&(e=e._),rw(o,[("string"==typeof e||e instanceof by?Yy(s,"updateDoc",t.S_,e,n,r):Xy(s,"updateDoc",t.S_,e)).O_(t.S_,Rf.exists(!0))])}function nw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Al&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Kv(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Kv(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Iy)c=Ey(t.firestore,Ev),l=Qh(t.S_.path),u={next:function(e){i[a]&&i[a](iw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Ey(t,jy);c=Ey(d.firestore,Ev),l=d.C_;var p=new tw(c);u={next:function(t){i[a]&&i[a](new Xv(c,p,d,t))},error:i[a+1],complete:i[a+2]},Rv(t.C_)}return function(t,e,n,r){var i=this,o=new gy(r),s=new Sm(e,o,n);return t.fs.ys(function(){return Object(fl.b)(i,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return e=wm,[4,wv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(fl.b)(i,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return e=_m,[4,wv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Sv(c),l,h,u)}function rw(t,e){return function(t,e){var n=this,r=new ap;return t.fs.ys(function(){return Object(fl.b)(n,void 0,void 0,function(){var n;return Object(fl.d)(this,function(i){switch(i.label){case 0:return n=Um,[4,vv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Sv(t),e)}function iw(t,e,n){var r=n.docs.get(e.S_),i=new tw(t);return new Jv(t,i,e.S_,r,new Wv(n.hasPendingWrites,n.fromCache),e.v_)}var ow=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Hy(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=sw(t,this.zf),i=$v(r.v_,e,n),o=By(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,Rf.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=sw(t,this.zf);return e instanceof Al&&(e=e._),o="string"==typeof e||e instanceof by?Yy(this.wd,"WriteBatch.update",s.S_,e,n,r):Xy(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.O_(s.S_,Rf.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=sw(t,this.zf);return this.fd=this.fd.concat(new Jf(e.S_,Rf.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Il(kl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function sw(t,e){if(t instanceof Al&&(t=t._),t.firestore!==e)throw new Il(kl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var aw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(fl.c)(e,t),e.prototype.get=function(e){var n=this,r=sw(e,this.zf),i=new tw(this.zf);return t.prototype.get.call(this,e).then(function(t){return new Jv(n.zf,i,r.S_,t.Jf,new Wv(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Hy(t)}return t.prototype.get=function(t){var e=this,n=sw(t,this.zf),r=new Gv(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return vl();var i=t[0];if(i instanceof Ih)return new jv(e.zf,r,n.S_,null,n.v_);if(i instanceof kh)return new jv(e.zf,r,i.key,i,n.v_);throw vl()})},t.prototype.set=function(t,e,n){var r=sw(t,this.zf),i=$v(r.v_,e,n),o=By(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=sw(t,this.zf);return e instanceof Al&&(e=e._),o="string"==typeof e||e instanceof by?Yy(this.wd,"Transaction.update",s.S_,e,n,r):Xy(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=sw(t,this.zf);return this.Td.delete(e.S_),this},t}()),uw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){kv(t=Ey(t,Ev));var n=Sv(t),r=t.p_(),i=new py;return Cv(n,i,new fy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){kv(t=Ey(t,Ev));var e=Sv(t),n=t.p_(),r=new py;return Cv(e,r,new dy(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Il(kl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ap;return t.Mf.Tf(function(){return Object(fl.b)(e,void 0,void 0,function(){var e;return Object(fl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(fl.b)(this,void 0,void 0,function(){return Object(fl.d)(this,function(e){switch(e.label){case 0:return lp.jn()?[4,lp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Kg(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),cw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Ll||(i.md=e),i}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Ey(t,ky)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&ml("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(fl.b)(e,void 0,void 0,function(){var e,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:return[4,bv(t)];case 1:return e=r.sent(),[4,yv(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=_l(t);return e.Oh.delete(0),Gb(e)}(n))]}})})})}(Sv(Ey(this._,Ev)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(fl.b)(e,void 0,void 0,function(){var e,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:return[4,bv(t)];case 1:return e=r.sent(),[4,yv(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(fl.b)(this,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return(e=_l(t)).Oh.add(0),[4,Wb(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(Sv(Ey(this._,Ev)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&wy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ap;return t.fs.ys(function(){return Object(fl.b)(e,void 0,void 0,function(){var e;return Object(fl.d)(this,function(r){switch(r.label){case 0:return e=Hm,[4,vv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Sv(Ey(this._,Ev)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new gy(e);return t.fs.ys(function(){return Object(fl.b)(n,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){_l(t).Wh.add(e),e.next()},[4,wv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(fl.b)(n,void 0,void 0,function(){var e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){_l(t).Wh.delete(e)},[4,wv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Sv(t=Ey(t,Ev)),Kv(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Il(kl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ow(this,Py(this._,t))}catch(t){throw pw(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new dw(this,Ry(this._,t))}catch(t){throw pw(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new vw(this,function(t,e){if(t=Ey(t,ky),yy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Il(kl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new jy(t,null,function(t){return new Xh(Gl.at(),t)}(e))}(this._,t))}catch(t){throw pw(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new ap;return t.fs.ys(function(){return Object(fl.b)(n,void 0,void 0,function(){var n;return Object(fl.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return gv(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new lv(t.fs,n,e,r).run(),[2]}})})}),r.promise}(Sv(t),function(n){return e(new aw(t,n))})}(this._,function(n){return t(new hw(e,n))})},e.prototype.batch=function(){var t=this;return Sv(this._),new fw(new ow(this._,function(e){return rw(t._,e)}))},e.prototype.loadBundle=function(t){throw new Il(kl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Il(kl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Al),lw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fl.c)(e,t),e.prototype.Uf=function(t){return new Nl(new jl(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return dw.Ad(e,this.firestore,null)},e}(Iv),hw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new lw(e),r}return Object(fl.c)(e,t),e.prototype.get=function(t){var e=this,n=xw(t);return this._.get(n).then(function(t){return new mw(e.zf,new Jv(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=xw(t);return n?(vy("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=xw(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(fl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=xw(t);return this._.delete(e),this},e}(Al),fw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.set=function(t,e,n){var r=xw(t);return n?(vy("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=xw(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(fl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=xw(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Al),dw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new lw(e),r}return Object(fl.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Il(kl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Iy(n._,r,new Zl(t)))},e.Ad=function(t,n,r){return new e(n,new Iy(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ow(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ow(this.firestore,Py(this._,t))}catch(t){throw pw(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Al&&(t=t._),t instanceof Iy&&Ny(this._,t)},e.prototype.set=function(t,e){e=vy("DocumentReference.set",e);try{return function(t,e,n){t=Ey(t,Iy);var r=Ey(t.firestore,Ev),i=$v(t.v_,e,n);return rw(r,[By(Hy(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,Rf.jt())])}(this._,t,e)}catch(t){throw pw(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ew(this._,t):ew.apply(void 0,Object(fl.g)([this._,t,e],n))}catch(t){throw pw(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return rw(Ey((t=this._).firestore,Ev),[new Jf(t.S_,Rf.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=gw(e),i=bw(e,function(e){return new mw(t.firestore,new Jv(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return nw(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ey(t,Iy);var e=Ey(t.firestore,Ev),n=Sv(e),r=new tw(e);return function(t,e){var n=this,r=new ap;return t.fs.ys(function(){return Object(fl.b)(n,void 0,void 0,function(){var n;return Object(fl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i;return Object(fl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=_l(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof kh?n.resolve(i):i instanceof Ih?n.resolve(null):n.reject(new Il(kl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=vp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,mv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Jv(e,r,t.S_,n,new Wv(n instanceof kh&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Ey(t,Iy);var e=Ey(t.firestore,Ev);return _v(Sv(e),t.S_,{source:"server"}).then(function(n){return iw(e,t,n)})}(this._):function(t){t=Ey(t,Iy);var e=Ey(t.firestore,Ev);return _v(Sv(e),t.S_).then(function(n){return iw(e,t,n)})}(this._)).then(function(t){return new mw(e.firestore,new Jv(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Al);function pw(t,e,n){return t.message=t.message.replace(e,n),t}function gw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Kv(r))return r}return{}}function bw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Kv(t[0])?t[0]:Kv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var mw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new dw(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Qv(this._,t._)},e}(Al),yw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(mw),vw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new lw(e),r}return Object(fl.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Dv(this._,function(t,e,n){var r=e,i=Pv("where",t);return new Lv(i,r,n)}(t,n,r)))}catch(t){throw pw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Dv(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Pv("orderBy",t);return new Uv(r,n)}(t,n)))}catch(t){throw pw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Dv(this._,function(t){return Sy("limit",t),new Vv("limit",t,"F")}(t)))}catch(t){throw pw(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Dv(this._,function(t){return Sy("limitToLast",t),new Vv("limitToLast",t,"L")}(t)))}catch(t){throw pw(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mv("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw pw(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mv("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw pw(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fv("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw pw(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Dv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fv("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw pw(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Dy(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ey(t,jy);var e=Ey(t.firestore,Ev),n=Sv(e),r=new tw(e);return function(t,e){var n=this,r=new ap;return t.fs.ys(function(){return Object(fl.b)(n,void 0,void 0,function(){var n;return Object(fl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(fl.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,sb(t,e,!0)];case 1:return a=u.sent(),r=new jm(e,a.Pc),i=r.dl(a.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=vp(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,mv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Xv(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Ey(t,jy);var e=Ey(t.firestore,Ev),n=Sv(e),r=new tw(e);return Ov(n,t.C_,{source:"server"}).then(function(n){return new Xv(e,r,t,n)})}(this._):function(t){t=Ey(t,jy);var e=Ey(t.firestore,Ev),n=Sv(e),r=new tw(e);return Rv(t.C_),Ov(n,t.C_).then(function(n){return new Xv(e,r,t,n)})}(this._)).then(function(t){return new _w(e.firestore,new Xv(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=gw(e),i=bw(e,function(e){return new _w(t.firestore,new Xv(t.firestore._,t.Hf,t._,e.ud))});return nw(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Al),ww=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new yw(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Al),_w=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new vw(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new yw(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new ww(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new yw(n.zf,r))})},e.prototype.isEqual=function(t){return Qv(this._,t._)},e}(Al),Ow=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(fl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new dw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new dw(this.firestore,void 0===t?Ry(this._):Ry(this._,t))}catch(t){throw pw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ey(t.firestore,Ev),r=Ry(t),i=$v(t.v_,e);return rw(n,[By(Hy(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,Rf.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new dw(e.firestore,t)})},e.prototype.isEqual=function(t){return Ny(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(vw);function xw(t){return t instanceof Al&&(t=t._),Ey(t,Iy)}var Ew=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(by.bind.apply(by,Object(fl.g)([void 0],e))))||this}return Object(fl.c)(e,t),e.documentId=function(){return new e(Jl.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Al&&(t=t._),t instanceof by&&this._.d_.isEqual(t.d_)},e}(Al),Sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fl.c)(e,t),e.serverTimestamp=function(){var t=new Gy("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ky("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wy("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jy("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Zy("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Al);!function(){function t(){this.Pd={},this.yd=new ap,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Tw,Cw=n("/6Yf"),kw={Firestore:cw,GeoPoint:Ly,Timestamp:Bl,Blob:Nl,Transaction:hw,WriteBatch:fw,DocumentReference:dw,DocumentSnapshot:mw,Query:vw,QueryDocumentSnapshot:yw,QuerySnapshot:_w,CollectionReference:Ow,FieldPath:Ew,FieldValue:Sw,setLogLevel:function(t){dl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Cw.a("firestore",function(t){return function(t,e){return new cw(t,new Ev(t,e),new uw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},kw)))})(Tw=us.a),Tw.registerVersion("@firebase/firestore","2.1.2");var Iw=n("VRyK"),jw=n("qgXg"),Aw=n("Ylt2");class Pw extends Xe.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Rw(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Ye.a;if(this.isStopped||this.hasError?o=Zn.a.EMPTY:(this.observers.push(t),o=new Aw.a(this,t)),r&&t.add(t=new os.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||jw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Rw{constructor(t,e){this.time=t,this.value=e}}function Nw(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Pw(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Dw(t,e){return e?gn(()=>t,e):gn(()=>t)}var Lw=n("tf+s");const Uw=new r.q("angularfire2.auth.use-emulator"),Vw=new r.q("angularfire2.auth.settings"),Mw=new r.q("angularfire2.auth.tenant-id"),Fw=new r.q("angularfire2.auth.langugage-code"),qw=new r.q("angularfire2.auth.use-device-language"),zw=new r.q("angularfire.auth.persistence");let Hw=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new ss.e(i),f=Object(ss.i)(h),d=new Xe.a,p=Object(Ze.a)(void 0).pipe(Object(os.b)(h.outsideAngular),gn(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(jt.a)(()=>Object(ss.h)(t,i,e)),Object(jt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(ss.g)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Nw({bufferSize:1,refCount:!1}));if(K(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ze.a)(null);else{p.pipe(Wn()).subscribe();const t=p.pipe(gn(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Nw({bufferSize:1,refCount:!1})),e=t=>new kt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(gn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(gn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Dw(n),Object(Lw.a)(h.outsideAngular),Object(os.b)(h.insideAngular)),this.user=t.pipe(Dw(r),Object(Lw.a)(h.outsideAngular),Object(os.b)(h.insideAngular)),this.idToken=this.user.pipe(gn(t=>t?Object(Pt.a)(t.getIdToken()):Object(Ze.a)(null))),this.idTokenResult=this.user.pipe(gn(t=>t?Object(Pt.a)(t.getIdTokenResult()):Object(Ze.a)(null))),this.credential=Object(Iw.a)(t,d,this.authState.pipe(In(t=>!t))).pipe(Object(jt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Lw.a)(h.outsideAngular),Object(os.b)(h.insideAngular))}return Object(ss.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ss.c),r.Pb(ss.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Uw,8),r.Pb(Vw,8),r.Pb(Mw,8),r.Pb(Fw,8),r.Pb(qw,8),r.Pb(zw,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(ss.c),Object(r.Pb)(ss.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Uw,8),Object(r.Pb)(Vw,8),Object(r.Pb)(Mw,8),Object(r.Pb)(Fw,8),Object(r.Pb)(qw,8),Object(r.Pb)(zw,8))},token:t,providedIn:"any"}),t})();function Bw(t,e){return function(t,e=Yo.b){return new kt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Kw(t,e){return Bw(t,e).pipe(Object(jt.a)(t=>({payload:t,type:"query"})))}function $w(t,e){return Kw(t,e).pipe(Sn(void 0),Qo(),Object(jt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Gw(t,e,n){return $w(t,n).pipe(Tn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ww(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Ww(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ww(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),ns(),Object(jt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Ww(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Jw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(ss.f)(Hw,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Zw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=$w(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(jt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Sn(void 0),Qo(),In(([t,e])=>e.length>0||!t),Object(jt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Tn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Jw(t);return Gw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Kw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(jt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Pt.a)(this.query.get(t)).pipe(Object(os.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Xw(this.ref.doc(t),this.afs)}}class Xw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=r_(n,e);return new Zw(r,i,this.afs)}snapshotChanges(){return Bw(this.ref,this.afs.schedulers.outsideAngular).pipe(Sn(void 0),Qo(),Object(jt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(jt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Pt.a)(this.ref.get(t)).pipe(Object(os.b)(this.afs.schedulers.insideAngular))}}class Yw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?$w(this.query,this.afs.schedulers.outsideAngular).pipe(Object(jt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),In(t=>t.length>0),this.afs.keepUnstableUntilFirst):$w(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Tn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Jw(t);return Gw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Kw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(jt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Pt.a)(this.query.get(t)).pipe(Object(os.b)(this.afs.schedulers.insideAngular))}}const Qw=new r.q("angularfire2.enableFirestorePersistence"),t_=new r.q("angularfire2.firestore.persistenceSettings"),e_=new r.q("angularfire2.firestore.settings"),n_=new r.q("angularfire2.firestore.use-emulator");function r_(t,e=(t=>t)){return{query:e(t),ref:t}}let i_=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new ss.e(o),this.keepUnstableUntilFirst=Object(ss.i)(this.schedulers);const c=Object(ss.h)(t,o,e);!as.a.auth&&u&&Object(ss.k)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(ss.g)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!K(i)){const e=()=>{try{return Object(Pt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Tw){return"undefined"!=typeof console&&console.warn(Tw),Object(Ze.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Ze.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=r_(n,e),o=this.schedulers.ngZone.run(()=>r);return new Zw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Yw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Xw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ss.c),r.Pb(ss.b,8),r.Pb(Qw,8),r.Pb(e_,8),r.Pb(r.B),r.Pb(r.z),r.Pb(t_,8),r.Pb(n_,8),r.Pb(Uw,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(ss.c),Object(r.Pb)(ss.b,8),Object(r.Pb)(Qw,8),Object(r.Pb)(e_,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(t_,8),Object(r.Pb)(n_,8),Object(r.Pb)(Uw,8))},token:t,providedIn:"any"}),t})(),o_=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Qw,useValue:!0},{provide:t_,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[i_]}),t})(),s_=(()=>{class t{constructor(t){this.db=t}readFromDB(){return new Promise(t=>{this.db.collection("tag").valueChanges({idField:"id"}).subscribe(e=>t(e))})}getTagEntry(t){return new Promise(e=>{this.db.collection("tag").doc(t).valueChanges().subscribe(t=>e(t))})}getTagsForCategory(t,e){let n=[];return t.forEach(t=>{t.category==e&&(n.some(e=>e.id===t.id)||n.push(t))}),n}getUrlDirectory(t){return t.substring(t.lastIndexOf("/")+1,t.length)}readTagsByCategory(t){return Xo(this,void 0,void 0,function*(){return this.tagsByCategory=new Array,this.tagsList=yield this.readFromDB(),this.tagsList.forEach(e=>{e.category==t&&this.tagsByCategory.push(e)}),this.tagsByCategory})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(i_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),a_=(()=>{class t{constructor(t){this.db=t}readFromDB(){return new Promise(t=>{this.db.collection("documentary").valueChanges({idField:"id"}).subscribe(e=>t(e))})}getAllDocosForCategory(t,e){let n=[];return t.forEach(t=>{t.category==e&&(n.some(e=>e.link===t.link)||n.push(t))}),n}getAllDocosForTag(t,e){let n=[];return t.forEach(t=>{t.tags.forEach(r=>{r.includes(e)&&(n.some(e=>e.link===t.link)||n.push(t))})}),n}addToDB(t,e,n,r,i,o,s){console.log("Adding doco"),this.db.collection("test").add({category:o,description:e,link:"test link",linkToDoco:n,name:t,producer:r,studio:i,tags:s,topic:"blah"})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(i_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),u_=(()=>{class t{constructor(t){this.db=t}readFromDB(){return new Promise(t=>{this.db.collection("category").valueChanges({idField:"id"}).subscribe(e=>t(e))})}getCategoryEntry(t){return new Promise(e=>{this.db.collection("category").doc(t).valueChanges().subscribe(t=>e(t))})}getUrlDirectory(t,e){return e?t.substring(this.nthLastIndexOf(2,"/",t)+1,t.lastIndexOf("/")):t.substring(t.lastIndexOf("/")+1,t.length)}nthLastIndexOf(t,e,n){return t<=0?n.length:this.nthLastIndexOf(--t,e,n.substring(0,n.lastIndexOf(e)))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(i_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function c_(t,e){if(1&t&&(r.Lb(0,"option",19),r.jc(1),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.lc(" ",t.id," ")}}function l_(t,e){if(1&t&&(r.Lb(0,"option",19),r.jc(1),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.lc(" ",t.id," ")}}let h_=(()=>{class t{constructor(t,e,n){this.tagService=t,this.docoService=e,this.categoryService=n,this.hideTags=!0}ngOnInit(){this.tagsByCategory=new Array,this.categoryList=this.categoryService.readFromDB()}onAdd(){console.log("Added successfully --\x3e Name: "+this.docoName+", Description: "+this.description+", linkToDoco: "+this.linkToDoco+", producer: "+this.producer+", studio: "+this.studio+", category: "+this.category),console.log(this.tags),this.docoService.addToDB(this.docoName,this.description,this.linkToDoco,this.producer,this.studio,this.category,this.tags)}onCategoryChange(){return Xo(this,void 0,void 0,function*(){this.tagsByCategory=yield this.tagService.readTagsByCategory(this.category),this.hideTags=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(s_),r.Ib(a_),r.Ib(u_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-admin"]],decls:42,vars:12,consts:[[1,"pageContent"],[1,"form-group"],["for","docoName"],["type","text","name","docoName","id","docoName","placeholder","Seconds From Disaster: Aircrash",1,"form-control",3,"ngModel","ngModelChange"],["for","description"],["name","description","id","description","rows","3","placeholder","A short description here",1,"form-control",3,"ngModel","ngModelChange"],["for","linkToDoco"],["type","text","name","linkToDoco","id","linkToDoco","placeholder","https://www.youtube.com/watch?v=It1y9bu9VUA",1,"form-control",3,"ngModel","ngModelChange"],["for","producer"],["type","text","name","producer","id","producer","placeholder","Malcolm",1,"form-control",3,"ngModel","ngModelChange"],["for","studio"],["type","text","name","studio","id","studio","placeholder","Falcon",1,"form-control",3,"ngModel","ngModelChange"],["for","category"],["name","category","id","category",1,"form-control",3,"ngModel","change","ngModelChange"],["role","listitem",4,"ngFor","ngForOf"],[1,"form-group",3,"hidden"],["for","tags"],["multiple","","size","10","name","tags","id","tags",1,"form-control",2,"height","100%",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],["role","listitem"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Jb(1,"hr"),r.Lb(2,"h1"),r.jc(3,"Admin - Add and Edit Docos"),r.Kb(),r.Jb(4,"br"),r.Lb(5,"form"),r.Lb(6,"div",1),r.Lb(7,"label",2),r.jc(8,"Doco Name"),r.Kb(),r.Lb(9,"input",3),r.Sb("ngModelChange",function(t){return e.docoName=t}),r.Kb(),r.Kb(),r.Lb(10,"div",1),r.Lb(11,"label",4),r.jc(12,"Description"),r.Kb(),r.Lb(13,"textarea",5),r.Sb("ngModelChange",function(t){return e.description=t}),r.jc(14,"      "),r.Kb(),r.Kb(),r.Lb(15,"div",1),r.Lb(16,"label",6),r.jc(17,"Link To Doco"),r.Kb(),r.Lb(18,"input",7),r.Sb("ngModelChange",function(t){return e.linkToDoco=t}),r.Kb(),r.Kb(),r.Lb(19,"div",1),r.Lb(20,"label",8),r.jc(21,"Producer"),r.Kb(),r.Lb(22,"input",9),r.Sb("ngModelChange",function(t){return e.producer=t}),r.Kb(),r.Kb(),r.Lb(23,"div",1),r.Lb(24,"label",10),r.jc(25,"Studio"),r.Kb(),r.Lb(26,"input",11),r.Sb("ngModelChange",function(t){return e.studio=t}),r.Kb(),r.Kb(),r.Lb(27,"div",1),r.Lb(28,"label",12),r.jc(29,"Category"),r.Kb(),r.Lb(30,"select",13),r.Sb("change",function(){return e.onCategoryChange()})("ngModelChange",function(t){return e.category=t}),r.Lb(31,"option"),r.jc(32,"Please Select"),r.Kb(),r.ic(33,c_,2,1,"option",14),r.Vb(34,"async"),r.Kb(),r.Kb(),r.Lb(35,"div",15),r.Lb(36,"label",16),r.jc(37,"Tags"),r.Kb(),r.Lb(38,"select",17),r.Sb("ngModelChange",function(t){return e.tags=t}),r.ic(39,l_,2,1,"option",14),r.Kb(),r.Kb(),r.Kb(),r.Lb(40,"button",18),r.Sb("click",function(){return e.onAdd()}),r.jc(41,"(+) Add"),r.Kb(),r.Kb()),2&t&&(r.yb(9),r.bc("ngModel",e.docoName),r.yb(4),r.bc("ngModel",e.description),r.yb(5),r.bc("ngModel",e.linkToDoco),r.yb(4),r.bc("ngModel",e.producer),r.yb(4),r.bc("ngModel",e.studio),r.yb(4),r.bc("ngModel",e.category),r.yb(3),r.bc("ngForOf",r.Wb(34,10,e.categoryList)),r.yb(2),r.bc("hidden",e.hideTags),r.yb(3),r.bc("ngModel",e.tags),r.yb(1),r.bc("ngForOf",e.tagsByCategory))},directives:[Ge,se,He,Mt,oe,$e,be,me,_e,A,we],pipes:[q],styles:[""]}),t})(),f_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-contact"]],decls:3,vars:0,consts:[[1,"pageContent"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"p"),r.jc(2,"contact works!"),r.Kb(),r.Kb())},styles:[""]}),t})(),d_=(()=>{class t{constructor(t,e){this.el=t,this.renderer=e,this.setTitle=!1}ngOnChanges(t){this.content&&(this.setTitle&&this.renderer.setProperty(this.el.nativeElement,"title",this.content),this.renderer.setProperty(this.el.nativeElement,"innerHTML",this.searchedWord&&this.searchedWord.length&&this.classToApply?this.getFormattedText():this.content))}getFormattedText(){const t=new RegExp(`(${this.searchedWord})`,"gi");return this.content.replace(t,`<span class="${this.classToApply}">$1</span>`)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D))},t.\u0275dir=r.Db({type:t,selectors:[["","appHighlight",""]],inputs:{searchedWord:"searchedWord",content:"content",classToApply:"classToApply",setTitle:"setTitle"},features:[r.wb]}),t})(),p_=(()=>{class t{transform(t,e){return t?e?(e=e.toLocaleLowerCase(),t.filter(t=>t.toLocaleLowerCase().includes(e))):t:[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Hb({name:"appFilter",type:t,pure:!0}),t})();function g_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",6),r.Lb(1,"a",7),r.Sb("click",function(){return r.fc(t),r.Ub().onSelect()}),r.jc(2),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit,n=r.Ub();r.bc("searchedWord",n.searchText)("classToApply","font-weight-bold")("setTitle","true")("hidden",""==n.searchText),r.yb(1),r.cc("routerLink",t.substring(t.indexOf("@")+1,t.length)),r.yb(1),r.kc(t.substring(0,t.indexOf(" -@")))}}let b_=(()=>{class t{constructor(t,e,n){this.categoryService=t,this.docoService=e,this.tagService=n,this.searchText="",this.searchString=new Array}ngOnInit(){this.addCatagories(),this.addTags(),this.addDocos(),console.log("Search string created."+this.searchString)}onSelect(){console.log("Something selected"),this.searchText=""}addCatagories(){return Xo(this,void 0,void 0,function*(){this.categoriesList=yield this.categoryService.readFromDB(),this.categoriesList.forEach(t=>{this.searchString.push(t.name+" (Category) -@"+t.link)})})}addTags(){return Xo(this,void 0,void 0,function*(){this.tagsList=yield this.tagService.readFromDB(),this.tagsList.forEach(t=>{this.searchString.push("#"+t.name+" -@"+t.link)})})}addDocos(){return Xo(this,void 0,void 0,function*(){this.documentariesList=yield this.docoService.readFromDB(),this.documentariesList.forEach(t=>{this.searchString.push(t.name+" - "+t.studio+" - "+t.tags+" - "+t.topic+" -@"+t.link)})})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(u_),r.Ib(a_),r.Ib(s_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-search"]],decls:8,vars:10,consts:[[1,"search"],["role","main",1,"content"],[1,"form-group"],["type","email","id","search-text","aria-describedby","search-text","placeholder","What are you looking for?","autofocus","",1,"form-control","searchbox",3,"ngModel","ngModelChange"],[1,"list-group","list-group-flush","searchLinks",3,"hidden"],["class","list-group-item","appHighlight","",3,"searchedWord","classToApply","setTitle","hidden",4,"ngFor","ngForOf"],["appHighlight","",1,"list-group-item",3,"searchedWord","classToApply","setTitle","hidden"],[1,"link",3,"routerLink","click"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"input",3),r.Sb("ngModelChange",function(t){return e.searchText=t}),r.Kb(),r.Kb(),r.Lb(4,"div",4),r.ic(5,g_,3,6,"div",5),r.Vb(6,"slice"),r.Vb(7,"appFilter"),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(3),r.bc("ngModel",e.searchText),r.yb(1),r.bc("hidden",""==e.searchText),r.yb(1),r.bc("ngForOf",r.Yb(6,3,r.Xb(7,7,e.searchString,e.searchText),0,5)))},directives:[Mt,oe,$e,A,d_,Io],pipes:[z,p_],styles:[".list-group-item[_ngcontent-%COMP%]{padding:5px}.search[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px;position:relative;z-index:1}.searchLinks[_ngcontent-%COMP%]{border-radius:10px;background-color:#fff;position:absolute;padding:10px;width:900px;box-shadow:5px 10px 28px #888}@media screen and (max-width:1200px){.searchLinks[_ngcontent-%COMP%]{width:900px}}@media screen and (max-width:1000px){.searchLinks[_ngcontent-%COMP%]{width:700px}}@media screen and (max-width:800px){.searchLinks[_ngcontent-%COMP%]{width:500px}}@media screen and (max-width:600px){.searchLinks[_ngcontent-%COMP%]{width:300px}}@media screen and (max-width:400px){.searchLinks[_ngcontent-%COMP%]{width:200px}}"]}),t})();function m_(t,e){if(1&t&&(r.Lb(0,"span",6),r.Lb(1,"a",7),r.Lb(2,"span",8),r.jc(3),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.cc("routerLink","/"+t.link),r.yb(2),r.kc("#"+t.name)}}function y_(t,e){if(1&t&&(r.Lb(0,"a",7),r.Lb(1,"span",14),r.jc(2),r.Kb(),r.Kb()),2&t){const t=r.Ub().$implicit;r.cc("routerLink",t.link),r.yb(2),r.lc("#",t.name,"")}}function v_(t,e){if(1&t&&(r.Lb(0,"div",6),r.ic(1,y_,3,2,"a",13),r.Kb()),2&t){const t=e.$implicit,n=r.Ub().$implicit;r.yb(1),r.bc("ngIf",t.category===n.id)}}function w_(t,e){if(1&t&&(r.Lb(0,"div",9),r.Lb(1,"div",10),r.Lb(2,"h3"),r.Lb(3,"a",11),r.jc(4),r.Kb(),r.Kb(),r.Lb(5,"p",12),r.jc(6,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),r.Kb(),r.ic(7,v_,2,1,"div",3),r.Kb(),r.Kb()),2&t){const t=e.$implicit,n=r.Ub();r.yb(3),r.cc("routerLink",t.link),r.yb(1),r.kc(t.name),r.yb(3),r.bc("ngForOf",n.tagsList)}}let __=(()=>{class t{constructor(t,e){this.tagService=t,this.categoryService=e}ngOnInit(){this.getCategoryList(),this.getTagsList()}getCategoryList(){return Xo(this,void 0,void 0,function*(){this.categoryList=yield this.categoryService.readFromDB()})}getTagsList(){return Xo(this,void 0,void 0,function*(){this.tagsList=yield this.tagService.readFromDB()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(s_),r.Ib(u_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:12,vars:6,consts:[[1,"jumbotron"],[1,"jumbo"],[1,"tagslist"],["role","listitem","class","d-inline",4,"ngFor","ngForOf"],[1,"pageContent"],["role","listitem",4,"ngFor","ngForOf"],["role","listitem",1,"d-inline"],[3,"routerLink"],[1,"badge","badge-secondary","mb-3","mt-3","tag"],["role","listitem"],[1,"whiteBox"],[1,"categoryHeading",3,"routerLink"],[1,"desc"],[3,"routerLink",4,"ngIf"],[1,"badge","badge-secondary","mb-3","mt-3","tag",2,"font-size","16px"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"h1"),r.jc(3,"Doco Summaries"),r.Kb(),r.Lb(4,"p"),r.jc(5,"Search blah blah Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor!"),r.Kb(),r.Jb(6,"app-search"),r.Lb(7,"div",2),r.ic(8,m_,4,2,"span",3),r.Vb(9,"slice"),r.Kb(),r.Kb(),r.Kb(),r.Lb(10,"div",4),r.ic(11,w_,8,3,"div",5),r.Kb()),2&t&&(r.yb(8),r.bc("ngForOf",r.Yb(9,2,e.tagsList,0,6)),r.yb(3),r.bc("ngForOf",e.categoryList))},directives:[b_,A,Io,R],pipes:[z],styles:[".jumbotron{background-color:#0f0e17;color:#ebe9e9;border-radius:0}  .jumbotron .tag{background-color:#ff9c2a;padding:20px}  .jumbotron .tag:hover{background-color:#ffc079}.jumbo[_ngcontent-%COMP%]{padding:150px 300px}@media screen and (max-width:1200px){.jumbo[_ngcontent-%COMP%]{padding:50px 10px}}.categoryHeading[_ngcontent-%COMP%]{border-bottom:5px solid #6186ac;text-decoration:none;color:#9c9c9c;transition:.3s;line-height:1.6}.categoryHeading[_ngcontent-%COMP%]:hover{border-bottom:5px solid #a0bcd8;color:#ccc}.desc[_ngcontent-%COMP%]{padding-top:10px}.taglink[_ngcontent-%COMP%]{padding-right:20px}.tag[_ngcontent-%COMP%]{margin-right:10px;font-size:16px}.tag[_ngcontent-%COMP%]:hover{background-color:#ffb055;transition:.3s}"]}),t})();function O_(t,e){if(1&t&&(r.Lb(0,"div",7),r.Lb(1,"a",8),r.Lb(2,"span",9),r.jc(3),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.cc("routerLink","/"+t.link),r.yb(2),r.kc("#"+t.name)}}function x_(t,e){if(1&t&&(r.Lb(0,"div",10),r.Lb(1,"div",11),r.Lb(2,"h4"),r.Lb(3,"strong"),r.jc(4),r.Kb(),r.Kb(),r.Lb(5,"p"),r.jc(6),r.Kb(),r.Lb(7,"p"),r.jc(8),r.Kb(),r.Lb(9,"p"),r.jc(10),r.Kb(),r.Lb(11,"p"),r.jc(12),r.Kb(),r.Lb(13,"a",8),r.jc(14," READ MORE >>"),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(4),r.lc(" ",t.name," "),r.yb(2),r.kc(t.description),r.yb(2),r.kc(t.studio),r.yb(2),r.kc(t.tags),r.yb(2),r.kc(t.category),r.yb(1),r.cc("routerLink",t.link)}}let E_=(()=>{class t{constructor(t,e,n,r){this.route=t,this.categoryService=e,this.tagService=n,this.docoService=r,this.currentCategory={name:"",link:"",id:""},this.tagsInCategory=[],this.documentariesList=[],this.route.params.subscribe(t=>{this.listDocos()})}ngOnInit(){this.listDocos()}listDocos(){this.currentCategory={name:"",link:"",id:""};let t=window.location.href;this.categorylinkRoute=this.categoryService.getUrlDirectory(t,!1),this.getAllTags().then(()=>{this.getCurrentCategory().then(()=>{this.getAllDocos()})})}getAllTags(){return Xo(this,void 0,void 0,function*(){let t=yield this.tagService.readFromDB();this.tagsInCategory=this.tagService.getTagsForCategory(t,"id-"+this.categorylinkRoute)})}getCurrentCategory(){return Xo(this,void 0,void 0,function*(){this.categoryService.getCategoryEntry("id-"+this.categorylinkRoute).then(t=>{this.currentCategory=t,this.currentCategory.id="id-"+this.categorylinkRoute,console.log("Entered: "+this.currentCategory.name)})})}getAllDocos(){return Xo(this,void 0,void 0,function*(){let t=yield this.docoService.readFromDB();this.documentariesList=this.docoService.getAllDocosForCategory(t,this.currentCategory.id)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ii),r.Ib(u_),r.Ib(s_),r.Ib(a_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-category"]],decls:12,vars:4,consts:[[1,"pageContent"],[1,"breadcrumbs"],["routerLink","/"],[1,"desc"],[1,"tagslist"],["role","listitem","class","d-inline",4,"ngFor","ngForOf"],["role","listitem",4,"ngFor","ngForOf"],["role","listitem",1,"d-inline"],[3,"routerLink"],[1,"badge","badge-secondary","mb-3","mt-3","tag"],["role","listitem"],[1,"whiteBox"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"span",1),r.Lb(2,"a",2),r.jc(3,"All Categories"),r.Kb(),r.jc(4),r.Kb(),r.Lb(5,"h2"),r.jc(6),r.Kb(),r.Lb(7,"p",3),r.jc(8,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),r.Kb(),r.Lb(9,"div",4),r.ic(10,O_,4,2,"div",5),r.Kb(),r.ic(11,x_,15,6,"div",6),r.Kb()),2&t&&(r.yb(4),r.lc(" >> ",e.currentCategory.name," "),r.yb(2),r.kc(e.currentCategory.name),r.yb(4),r.bc("ngForOf",e.tagsInCategory),r.yb(1),r.bc("ngForOf",e.documentariesList))},directives:[Io,A],styles:[".categoryHeading[_ngcontent-%COMP%]{border-bottom:5px solid #6186ac;text-decoration:none;color:#9c9c9c;transition:.3s;line-height:1.6}.categoryHeading[_ngcontent-%COMP%]:hover{border-bottom:5px solid #a0bcd8;text-decoration:none;color:#ccc;transition:.3s}.desc[_ngcontent-%COMP%]{padding-top:10px}.taglink[_ngcontent-%COMP%]{padding-right:20px}.tag[_ngcontent-%COMP%]{margin-right:10px;font-size:16px}.tag[_ngcontent-%COMP%]:hover{background-color:#9c9c9c;transition:.3s}.tagslist[_ngcontent-%COMP%]{margin-bottom:50px}h2[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:10px}h4[_ngcontent-%COMP%]{color:#7e7e7e}"]}),t})();function S_(t,e){if(1&t&&(r.Lb(0,"div",7),r.Lb(1,"div",8),r.Lb(2,"h4"),r.Lb(3,"strong"),r.jc(4),r.Kb(),r.Kb(),r.Lb(5,"p"),r.jc(6),r.Kb(),r.Lb(7,"p"),r.jc(8),r.Kb(),r.Lb(9,"p"),r.jc(10),r.Kb(),r.Lb(11,"a",3),r.jc(12," READ MORE >>"),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(4),r.kc(t.name),r.yb(2),r.kc(t.description),r.yb(2),r.kc(t.studio),r.yb(2),r.kc(t.tags),r.yb(1),r.cc("routerLink",t.link)}}let T_=(()=>{class t{constructor(t,e,n,r){this.route=t,this.categoryService=e,this.tagService=n,this.docoService=r,this.currentCategory={name:"",link:"",id:""},this.currentTag={name:"",link:"",id:"",category:""},this.documentariesList=[],this.route.params.subscribe(t=>{this.listDocos(),console.log(t)})}ngOnInit(){this.listDocos()}listDocos(){this.currentCategory={name:"",link:"",id:""};let t=window.location.href;this.tagLinkRoute=this.tagService.getUrlDirectory(t),this.categoryLinkRoute=this.categoryService.getUrlDirectory(t,!0),this.getCurrentTag().then(()=>{this.getAllDocos()})}getCurrentTag(){return Xo(this,void 0,void 0,function*(){this.tagService.getTagEntry("id-"+this.tagLinkRoute).then(t=>{this.currentTag=t,this.currentTag.id="id-"+this.tagLinkRoute,this.getCurrentCategory()})})}getCurrentCategory(){return Xo(this,void 0,void 0,function*(){this.categoryService.getCategoryEntry("id-"+this.categoryLinkRoute).then(t=>{this.currentCategory=t,this.currentCategory.id="id-"+this.tagLinkRoute})})}getAllDocos(){return Xo(this,void 0,void 0,function*(){let t=yield this.docoService.readFromDB();this.documentariesList=this.docoService.getAllDocosForTag(t,this.currentTag.id)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ii),r.Ib(u_),r.Ib(s_),r.Ib(a_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-tag"]],decls:14,vars:5,consts:[[1,"pageContent"],[1,"breadcrumbs"],["routerLink","/"],[3,"routerLink"],[1,"desc"],[1,"tagslist"],["role","listitem",4,"ngFor","ngForOf"],["role","listitem"],[1,"whiteBox"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"span",1),r.Lb(2,"a",2),r.jc(3,"All Categories"),r.Kb(),r.jc(4," >> "),r.Lb(5,"a",3),r.jc(6),r.Kb(),r.jc(7),r.Kb(),r.Lb(8,"h2"),r.jc(9),r.Kb(),r.Lb(10,"p",4),r.jc(11,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),r.Kb(),r.Jb(12,"div",5),r.ic(13,S_,13,5,"div",6),r.Kb()),2&t&&(r.yb(5),r.dc("routerLink","/",e.currentCategory.link,""),r.yb(1),r.kc(e.currentCategory.name),r.yb(1),r.lc(" >> ",e.currentTag.name," "),r.yb(2),r.lc(" ",e.currentTag.name," "),r.yb(4),r.bc("ngForOf",e.documentariesList))},directives:[Io,A],styles:[".tag[_ngcontent-%COMP%]{margin-right:10px;background-color:#adadad;font-size:16px}h2[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:10px}h4[_ngcontent-%COMP%]{color:#7e7e7e}.tagslist[_ngcontent-%COMP%]{background-color:#f8f8f8;margin-bottom:50px;padding:0 20px}"]}),t})();class C_{constructor(){this.name="Loading...",this.description="Fetching...",this.linkToDoco="",this.link="",this.producer="Fetching...",this.studio="Fetching...",this.category="Fetching...",this.tags=["Fetching..."],this.topic="Fetching..."}}var k_=n("DlQD");class I_{}class j_{}class A_{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof A_?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new A_;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof A_?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class P_{encodeKey(t){return R_(t)}encodeValue(t){return R_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function R_(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class N_{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new P_,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new N_({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function D_(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function L_(t){return"undefined"!=typeof Blob&&t instanceof Blob}function U_(t){return"undefined"!=typeof FormData&&t instanceof FormData}class V_{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new A_),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new N_,this.urlWithParams=e}serializeBody(){return null===this.body?null:D_(this.body)||L_(this.body)||U_(this.body)||"string"==typeof this.body?this.body:this.body instanceof N_?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||U_(this.body)?null:L_(this.body)?this.body.type||null:D_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof N_?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new V_(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var M_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class F_{constructor(t,e=200,n="OK"){this.headers=t.headers||new A_,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class q_ extends F_{constructor(t={}){super(t),this.type=M_.ResponseHeader}clone(t={}){return new q_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class z_ extends F_{constructor(t={}){super(t),this.type=M_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new z_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class H_ extends F_{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function B_(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let K_=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof V_)r=t;else{let i=void 0;i=n.headers instanceof A_?n.headers:new A_(n.headers);let o=void 0;n.params&&(o=n.params instanceof N_?n.params:new N_({fromObject:n.params})),r=new V_(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Ze.a)(r).pipe(Ln(t=>this.handler.handle(t)));if(t instanceof V_||"events"===n.observe)return i;const o=i.pipe(In(t=>t instanceof z_));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(jt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(jt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(jt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(jt.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new N_).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,B_(n,e))}post(t,e,n={}){return this.request("POST",t,B_(n,e))}put(t,e,n={}){return this.request("PUT",t,B_(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(I_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class $_{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const G_=new r.q("HTTP_INTERCEPTORS");let W_=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const J_=/^\)\]\}',?\n/;class Z_{}let X_=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Y_=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new kt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new A_(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new q_({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(J_,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new z_({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new H_({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new H_({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:M_.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:M_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:M_.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Z_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Q_=new r.q("XSRF_COOKIE_NAME"),tO=new r.q("XSRF_HEADER_NAME");class eO{}let nO=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=I(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(r.B),r.Pb(Q_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),rO=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(eO),r.Pb(tO))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),iO=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(G_,[]);this.chain=t.reduceRight((t,e)=>new $_(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(j_),r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),oO=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:rO,useClass:W_}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Q_,useValue:e.cookieName}:[],e.headerName?{provide:tO,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[rO,{provide:G_,useExisting:rO,multi:!0},{provide:eO,useClass:nO},{provide:Q_,useValue:"XSRF-TOKEN"},{provide:tO,useValue:"X-XSRF-TOKEN"}]}),t})(),sO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[K_,{provide:I_,useClass:iO},Y_,{provide:j_,useExisting:Y_},X_,{provide:Z_,useExisting:X_}],imports:[[oO.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const aO=["*"];class uO{}const cO=new r.q("SECURITY_CONTEXT");let lO=(()=>{class t{constructor(t,e,n,r,i){this.platform=t,this.securityContext=e,this.http=n,this.sanitizer=i,this.initialMarkedOptions={renderer:new k_.Renderer},this.options=r}get options(){return this._options}set options(t){this._options=Object.assign(Object.assign({},this.initialMarkedOptions),t)}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}compile(t,e=!1,n=!1,r=this.options){const i=this.trimIndentation(t),o=e?this.decodeHtml(i):i,s=n?this.renderEmoji(o):o,a=Object(k_.parse)(s,r);return this.sanitizer.sanitize(this.securityContext,a)||""}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Object(jt.a)(e=>this.handleExtension(t,e)))}highlight(t){if(B(this.platform)&&"undefined"!=typeof Prism){t||(t=document);const e=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(e,t=>t.classList.add("language-none")),Prism.highlightAllUnder(t)}}renderKatex(t,e){if(!B(this.platform))return t;if("undefined"==typeof katex||void 0===katex.renderToString)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");return t.replace(/\$([^\s][^$]*?[^\s])\$/gm,(t,n)=>katex.renderToString(n,e))}decodeHtml(t){if(!B(this.platform))return t;const e=document.createElement("textarea");return e.innerHTML=t,e.value}handleExtension(t,e){const n=t?t.split("?")[0].split(".").splice(-1).join():null;return"md"!==n?"```"+n+"\n"+e+"\n```":e}renderEmoji(t){if(!B(this.platform))return t;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}trimIndentation(t){if(!t)return"";let e;return t.split("\n").map(t=>{let n=e;return t.length>0&&(n=isNaN(n)?t.search(/\S|$/):Math.min(t.search(/\S|$/),n)),isNaN(e)&&(e=n),n?t.substring(n):t}).join("\n")}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.B),r.Pb(cO),r.Pb(K_,8),r.Pb(uO,8),r.Pb(wt))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();var hO=function(t){return t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",t}({});let fO=(()=>{class t{constructor(t,e){this.element=t,this.markdownService=e,this.error=new r.n,this.load=new r.n,this.ready=new r.n,this._emoji=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}ngOnChanges(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){this.data||this.src||this.handleTransclusion()}render(t,e=!1){let n=this.markdownService.compile(t,e,this.emoji);n=this.katex?this.markdownService.renderKatex(n,this.katexOptions):n,this.element.nativeElement.innerHTML=n,this.handlePlugins(),this.markdownService.highlight(this.element.nativeElement),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&""+t!="false"}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe(t=>{this.render(t),this.load.emit(t)},t=>this.error.emit(t))}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.lineHighlight&&(this.setPluginClass(this.element.nativeElement,hO.LineHighlight),this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset})),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,hO.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,e){const n=t.querySelectorAll("pre");for(let r=0;r<n.length;r++){const t=e instanceof Array?e:[e];n.item(r).classList.add(...t)}}setPluginOptions(t,e){const n=t.querySelectorAll("pre");for(let r=0;r<n.length;r++)Object.keys(e).forEach(t=>{const i=e[t];if(i){const e=this.toLispCase(t);n.item(r).setAttribute(e,i.toString())}})}toLispCase(t){const e=t.match(/([A-Z])/g);if(!e)return t;let n=t.toString();for(let r=0,i=e.length;r<i;r++)n=n.replace(new RegExp(e[r]),"-"+e[r].toLowerCase());return"-"===n.slice(0,1)&&(n=n.slice(1)),n}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(lO))},t.\u0275cmp=r.Cb({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{emoji:"emoji",katex:"katex",lineHighlight:"lineHighlight",lineNumbers:"lineNumbers",data:"data",src:"src",katexOptions:"katexOptions",line:"line",lineOffset:"lineOffset",start:"start"},outputs:{error:"error",load:"load",ready:"ready"},features:[r.wb],ngContentSelectors:aO,decls:1,vars:0,template:function(t,e){1&t&&(r.ac(),r.Zb(0))},encapsulation:2}),t})(),dO=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[lO,e&&e.loader||[],e&&e.markedOptions||[],{provide:cO,useValue:e&&null!=e.sanitize?e.sanitize:r.H.HTML}]}}static forChild(){return{ngModule:t}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})();function pO(t,e){if(1&t&&(r.Lb(0,"div",9),r.Lb(1,"a",3),r.Lb(2,"span",10),r.jc(3),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.cc("routerLink","/"+t.link),r.yb(2),r.kc("#"+t.name)}}const gO=[{path:"admin",component:h_},{path:"about",component:Zo},{path:"contact",component:f_},{path:"",component:__},{path:":cat",component:E_},{path:":cat/:tag",component:T_},{path:":cat/article/:article",component:(()=>{class t{constructor(t,e,n,r){this.route=t,this.docoService=e,this.categoryService=n,this.tagService=r,this.currentCategory={name:"",link:"",id:""},this.relatedTags=[],this.currentDoco=new C_,this.route.params.subscribe(t=>{this.articleName=t.article,this.getCurrentDoco().then(()=>{this.getCurrentCategory()})})}ngOnInit(){this.articleName=this.route.snapshot.paramMap.get("article"),this.post="./assets/articles/"+this.articleName+".md",this.getCurrentDoco().then(()=>{this.getCurrentCategory(),this.getRelatedTags()})}getCurrentDoco(){return Xo(this,void 0,void 0,function*(){this.documentariesList=yield this.docoService.readFromDB(),this.documentariesList.forEach(t=>{t.link.toString().includes(this.articleName)&&(this.currentDoco=t)}),console.log("Current Doco: "+this.currentDoco.name+", "+this.currentDoco.category)})}getRelatedTags(){return Xo(this,void 0,void 0,function*(){(yield this.tagService.readFromDB()).forEach(t=>{this.currentDoco.tags.includes(t.id)&&this.relatedTags.push(t)})})}getCurrentCategory(){return Xo(this,void 0,void 0,function*(){this.currentCategory=yield this.categoryService.getCategoryEntry(this.currentDoco.category),console.log(this.currentCategory.name)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ii),r.Ib(a_),r.Ib(u_),r.Ib(s_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-documentary"]],decls:32,vars:11,consts:[[1,"pageContent"],[1,"breadcrumbs"],["routerLink","/"],[3,"routerLink"],[1,"whiteBox"],[3,"href"],[1,"tagslist"],["role","listitem","class","d-inline",4,"ngFor","ngForOf"],["markdown","",3,"src"],["role","listitem",1,"d-inline"],[1,"badge","badge-secondary","mb-3","mt-3","tag"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"span",1),r.Lb(2,"a",2),r.jc(3,"All Categories"),r.Kb(),r.jc(4," >> "),r.Lb(5,"a",3),r.jc(6),r.Kb(),r.jc(7),r.Kb(),r.Lb(8,"h2"),r.jc(9),r.Kb(),r.Jb(10,"br"),r.Lb(11,"div",4),r.Lb(12,"p"),r.Lb(13,"b"),r.jc(14,"Description:"),r.Kb(),r.jc(15),r.Kb(),r.Lb(16,"p"),r.Lb(17,"b"),r.jc(18,"Find on Youtube: "),r.Kb(),r.Lb(19,"a",5),r.jc(20),r.Kb(),r.Kb(),r.Lb(21,"p"),r.Lb(22,"b"),r.jc(23,"Producer:"),r.Kb(),r.jc(24),r.Kb(),r.Lb(25,"p"),r.Lb(26,"b"),r.jc(27,"Studio:"),r.Kb(),r.jc(28),r.Kb(),r.Lb(29,"div",6),r.ic(30,pO,4,2,"div",7),r.Kb(),r.Jb(31,"div",8),r.Kb(),r.Kb()),2&t&&(r.yb(5),r.dc("routerLink","/",e.currentCategory.link,""),r.yb(1),r.kc(e.currentCategory.name),r.yb(1),r.lc(" >> ",e.currentDoco.name," "),r.yb(2),r.kc(e.currentDoco.name),r.yb(6),r.lc(" ",e.currentDoco.description,""),r.yb(4),r.cc("href",e.currentDoco.linkToDoco,r.gc),r.yb(1),r.kc(e.currentDoco.linkToDoco),r.yb(4),r.lc(" ",e.currentDoco.producer,""),r.yb(4),r.lc(" ",e.currentDoco.studio,""),r.yb(2),r.bc("ngForOf",e.relatedTags),r.yb(1),r.bc("src",e.post))},directives:[Io,A,fO],styles:["h2[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:10px}.taglink[_ngcontent-%COMP%]{padding-right:20px}.tag[_ngcontent-%COMP%]{margin-right:10px;font-size:16px}.tag[_ngcontent-%COMP%]:hover{background-color:#9c9c9c;transition:.3s}"]}),t})()}];let bO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[qo.forRoot(gO)],qo]}),t})();function mO(t,e){if(1&t&&(r.Lb(0,"div",16),r.Lb(1,"a",17),r.jc(2),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.dc("routerLink","/",t.link,""),r.yb(1),r.kc(t.name)}}let yO=(()=>{class t{constructor(t){this.categoryService=t}ngOnInit(){this.categoryList=this.categoryService.readFromDB()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(u_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-navbar"]],decls:26,vars:3,consts:[[1,"box"],[1,"navbar","fixed-top","navbar-expand-lg","navbar-light","bg-light","box"],["type","button","data-toggle","collapse","data-target","#navbarTogglerDemo01","aria-controls","navbarTogglerDemo01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarTogglerDemo01",1,"collapse","navbar-collapse"],["routerLink","/",1,"navbar-brand"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"form-inline","my-2","my-lg-0"],[1,"nav-item","pr-4"],["routerLink","/",1,"nav-link"],[1,"nav-item","dropdown","pr-4"],["href","http://example.com","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","dropdown07",1,"dropdown-menu"],["role","listitem",4,"ngFor","ngForOf"],["routerLink","/about",1,"nav-link"],["routerLink","/contact",1,"nav-link"],["role","listitem"],[1,"dropdown-item",3,"routerLink"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"nav",1),r.Lb(2,"button",2),r.Jb(3,"span",3),r.Kb(),r.Lb(4,"div",4),r.Lb(5,"a",5),r.Lb(6,"strong"),r.jc(7,"DOCO SUMMARIES"),r.Kb(),r.Kb(),r.Jb(8,"ul",6),r.Lb(9,"form",7),r.Lb(10,"ul",6),r.Lb(11,"li",8),r.Lb(12,"a",9),r.jc(13,"HOME"),r.Kb(),r.Kb(),r.Lb(14,"li",10),r.Lb(15,"a",11),r.jc(16,"CATEGORIES"),r.Kb(),r.Lb(17,"div",12),r.ic(18,mO,3,2,"div",13),r.Vb(19,"async"),r.Kb(),r.Kb(),r.Lb(20,"li",8),r.Lb(21,"a",14),r.jc(22,"ABOUT"),r.Kb(),r.Kb(),r.Lb(23,"li",8),r.Lb(24,"a",15),r.jc(25,"CONTACT"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(18),r.bc("ngForOf",r.Wb(19,1,e.categoryList)))},directives:[Io,Ge,se,He,A],pipes:[q],styles:[".box[_ngcontent-%COMP%]{padding:10px 200px;border-bottom:1px solid #d3d3d3}@media screen and (max-width:1000px){.box[_ngcontent-%COMP%]{padding:15px 20px}}"]}),t})(),vO=(()=>{class t{constructor(){this.title="docosummaries"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Jb(1,"router-outlet"))},directives:[yO,Ao],styles:[".content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]{padding:1.5rem;border:solid #f8f9fa;position:relative;margin:1rem;min-width:500px}"]}),t})();class wO{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new _O(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class _O extends en.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Xe.a,n.set(e,i);const t=new xO(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new xO(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new OO(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class OO extends en.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class xO extends kt.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new Zn.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new EO(n)),e.add(r.subscribe(t)),e}}class EO extends Zn.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}const SO=new r.q("angularfire2.analytics.analyticsCollectionEnabled"),TO=new r.q("angularfire2.analytics.appVersion"),CO=new r.q("angularfire2.analytics.appName"),kO=new r.q("angularfire2.analytics.debugMode"),IO=new r.q("angularfire2.analytics.config");let jO=(()=>{class t{constructor(t,e,r,i,o,s,a,u){if(this.analyticsInitialized=new Promise(()=>{}),B(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),o&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),s&&this.updateConfig(s),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const c=Object(Ze.a)(void 0).pipe(Object(os.b)(new ss.e(u).outsideAngular),gn(()=>B(a)?u.runOutsideAngular(()=>n.e(4).then(n.bind(null,"AAub"))):fn.a),Object(jt.a)(()=>Object(ss.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,s,o])),Nw({bufferSize:1,refCount:!1}));return Object(ss.j)(this,c,u)}updateConfig(t){return Xo(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ss.d),r.Pb(SO,8),r.Pb(TO,8),r.Pb(CO,8),r.Pb(kO,8),r.Pb(IO,8),r.Pb(r.B),r.Pb(r.z))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(ss.d),Object(r.Pb)(SO,8),Object(r.Pb)(TO,8),Object(r.Pb)(CO,8),Object(r.Pb)(kO,8),Object(r.Pb)(IO,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z))},token:t,providedIn:"any"}),t})();Object(ss.f)(jO,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]);let AO=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],K(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(jO),r.Pb(r.B),r.Pb(Hw),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const PO="screen_class";let RO=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const NO={},DO=t=>{const e=[t.screen_class,t.outlet].join("#");if(NO.hasOwnProperty(e))return NO[e];{const t=RO++;return NO[e]=t,t}};let LO=(()=>{class t{constructor(t,e,n,r,i,o,s){if(!e||!B(i))return this;o.runOutsideAngular(()=>{const i=e.events.pipe(In(t=>t instanceof pr));var o;this.disposable=i.pipe(gn(t=>{var i;const o=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",s=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!s)return Object(Ze.a)(null);let a=s;for(;a.firstChild;)a=a.firstChild;const u=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",c={screen_name:u,page_path:"/"+o,firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};n&&(c.page_title=n.getTitle());let l=s.component;if(l){if(l===Ri){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return Object(Ze.a)(Object.assign(Object.assign({},c),{[PO]:l}));if(l){const t=r.resolveComponentFactory(l);return Object(Ze.a)(Object.assign(Object.assign({},c),{[PO]:t.selector}))}return Object(Ze.a)(null)}),In(t=>t),Object(jt.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:DO(t)},t)),(o=t=>t.outlet,t=>t.lift(new wO(o,void 0,void 0,void 0))),Object(Dn.a)(e=>e.pipe(ns((t,e)=>JSON.stringify(t)===JSON.stringify(e)),Sn(void 0),Qo(),Object(jt.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),gn(e=>Xo(this,void 0,void 0,function*(){return s&&(yield s.initialized),yield t.logEvent("screen_view",e)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(jO),r.Pb(ko,8),r.Pb(Ct,8),r.Pb(r.j),r.Pb(r.B),r.Pb(r.z),r.Pb(AO,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),UO=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(jO),r.Pb(LO,8),r.Pb(AO,8))},providers:[jO]}),t})();class VO{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new MO(t,this.dueTime,this.scheduler))}}class MO extends en.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(FO,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function FO(t){t.debouncedNext()}var qO="firebasestorage.googleapis.com",zO=function(t){function e(n,r){var i=t.call(this,$O(n),"Firebase Storage: "+r+" ("+$O(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(fl.c)(e,t),e.prototype.codeEquals=function(t){return $O(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(ls.c),HO="canceled",BO="invalid-argument",KO="unsupported-environment";function $O(t){return"storage/"+t}function GO(){return new zO("unknown","An unknown error occurred, please check the error payload for server response.")}function WO(){return new zO(HO,"User canceled the upload/download.")}function JO(){return new zO("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ZO(t){return new zO(BO,t)}function XO(){return new zO("app-deleted","The Firebase app was deleted.")}function YO(t){return new zO("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function QO(t,e){return new zO("invalid-format","String does not match format '"+t+"': "+e)}function tx(t){throw new zO("internal-error","Internal error: "+t)}var ex={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},nx=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function rx(t,e){switch(t){case ex.RAW:return new nx(ix(e));case ex.BASE64:case ex.BASE64URL:return new nx(ox(t,e));case ex.DATA_URL:return new nx((n=new sx(e)).base64?ox(ex.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(Tw){throw QO(ex.DATA_URL,"Malformed data URL.")}return ix(e)}(n.rest),new sx(e).contentType)}var n;throw GO()}function ix(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function ox(t,e){switch(t){case ex.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw QO(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ex.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw QO(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(Tw){throw QO(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var sx=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw QO(ex.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),ax="running",ux="pausing",cx="paused",lx="success",hx="canceling",fx="canceled",dx="error",px={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function gx(t){switch(t){case ax:case ux:case hx:return px.RUNNING;case cx:return px.PAUSED;case lx:return px.SUCCESS;case fx:return px.CANCELED;case dx:default:return px.ERROR}}var bx=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),mx=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=bx.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=bx.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=bx.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw tx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw tx("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw tx("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Tw){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw tx("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),yx=function(){function t(){}return t.prototype.createXhrIo=function(){return new mx},t}();function vx(t){return"string"==typeof t||t instanceof String}function wx(t){return _x()&&t instanceof Blob}function _x(){return"undefined"!=typeof Blob}function Ox(t,e,n,r){if(r<e)throw new zO(BO,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new zO(BO,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function xx(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ex(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=xx();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(_x())return new Blob(t);throw new zO(KO,"This browser doesn't seem to support creating Blobs")}var Sx=function(){function t(t,e){var n=0,r="";wx(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(wx(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(_x()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(Ex.apply(null,r))}var i=e.map(function(t){return vx(t)?rx(ex.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Tx=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(Tw){return new t(e,"")}if(""===n.path)return n;throw new zO("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=qO.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new zO("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function Cx(t){var e,n;try{e=JSON.parse(t)}catch(Tw){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function kx(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Ix(t){return"https://"+qO+"/v0"+t}function jx(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function Ax(t,e){return e}var Px=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Ax}}(),Rx=null;function Nx(){if(Rx)return Rx;var t=[];t.push(new Px("bucket")),t.push(new Px("generation")),t.push(new Px("metageneration")),t.push(new Px("name","fullPath",!0));var e=new Px("name");e.xform=function(t,e){return function(t){return!vx(t)||t.length<2?t:kx(t)}(e)},t.push(e);var n=new Px("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Px("timeCreated")),t.push(new Px("updated")),t.push(new Px("md5Hash",null,!0)),t.push(new Px("cacheControl",null,!0)),t.push(new Px("contentDisposition",null,!0)),t.push(new Px("contentEncoding",null,!0)),t.push(new Px("contentLanguage",null,!0)),t.push(new Px("contentType",null,!0)),t.push(new Px("metadata","customMetadata",!0)),Rx=t}function Dx(t,e,n){var r=Cx(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Tx(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Lx(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Ux=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Vx(t){if(!t)throw GO()}function Mx(t,e){return function(n,r){var i=Dx(t,r,e);return Vx(null!==i),i}}function Fx(t){return function(e,n){var r;return(r=401===e.getStatus()?new zO("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new zO("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new zO("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function qx(t){var e=Fx(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new zO("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function zx(t,e,n){var r=Ix(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Ux(r,"GET",Mx(t,n),i);return o.errorHandler=qx(e),o}function Hx(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Bx=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Kx(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(Tw){Vx(!1)}return Vx(!!n&&-1!==(e||["active"]).indexOf(n)),n}var $x=262144,Gx=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),Wx=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function Jx(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var Zx=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Nx(),this._resumable=this._shouldDoResumable(this._blob),this._state=ax,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(HO)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(dx))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(HO)?r.completeTransitions_():(r._error=t,r._transition(dx))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===ax&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case ax:t(n);break;case hx:e._transition(fx);break;case ux:e._transition(cx)}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Hx(e,r,i),a={name:s.fullPath},u=Ix(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Lx(s,n),h=new Ux(u,"POST",function(t){var e;Kx(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(Tw){Vx(!1)}return Vx(vx(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=Fx(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new Ux(n,"POST",function(t){var e=Kx(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Tw){Vx(!1)}n||Vx(!1);var i=Number(n);return Vx(!isNaN(i)),new Bx(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Fx(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=$x*this._chunkMultiplier,n=new Bx(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new Bx(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new zO("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw JO();var p=new Ux(n,"POST",function(t,n){var i,s=Kx(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?Mx(e,o)(t,n):null,new Bx(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=Fx(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(Tw){return t._error=Tw,void t._transition(dx)}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(lx)):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){$x*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=zx(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition(lx)},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=Hx(e,r,i),c=Lx(u,n),l=Sx.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw JO();var h={name:u.fullPath},f=Ix(o),d=t.maxUploadRetryTime,p=new Ux(f,"POST",Mx(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=Fx(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(lx)},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case hx:case ux:this._state=t,void 0!==this._request&&this._request.cancel();break;case ax:var e=this._state===cx;this._state=t,e&&(this._notifyObservers(),this._start());break;case cx:this._state=t,this._notifyObservers();break;case fx:this._error=WO(),this._state=t,this._notifyObservers();break;case dx:case lx:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case ux:this._transition(cx);break;case hx:this._transition(fx);break;case ax:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=gx(this._state);return new Wx(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Gx(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(gx(this._state)){case px.SUCCESS:Jx(this._resolve.bind(null,this.snapshot))();break;case px.CANCELED:case px.ERROR:Jx(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(gx(this._state)){case px.RUNNING:case px.PAUSED:t.next&&Jx(t.next.bind(t,this.snapshot))();break;case px.SUCCESS:t.complete&&Jx(t.complete.bind(t))();break;case px.CANCELED:case px.ERROR:t.error&&Jx(t.error.bind(t,this._error))();break;default:t.error&&Jx(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===cx||this._state===ux;return t&&this._transition(ax),t},t.prototype.pause=function(){var t=this._state===ax;return t&&this._transition(ux),t},t.prototype.cancel=function(){var t=this._state===ax||this._state===ux;return t&&this._transition(hx),t},t}(),Xx=function(){function t(t,e){this._service=t,this._location=e instanceof Tx?e:Tx.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Tx(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return kx(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Tx(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw YO(t)},t}();function Yx(t){var e={prefixes:[],items:[]};return Qx(t,e).then(function(){return e})}function Qx(t,e,n){return Object(fl.b)(this,void 0,void 0,function(){var r,i,o;return Object(fl.d)(this,function(s){switch(s.label){case 0:return[4,tE(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Qx(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function tE(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r,i;return Object(fl.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Ox("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Ix(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new Ux(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=Cx(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new Tx(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new Tx(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return Vx(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=Fx(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function eE(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Tx(t._location.bucket,n);return new Xx(t.storage,r)}var nE=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),rE=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new nE(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new nE(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new nE(t,i,i._ref))}:{next:e.next?function(t){return e.next(new nE(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),iE=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new oE(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new oE(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),oE=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(eE(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new rE(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new Zx(t,new Sx(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=ex.RAW),this._throwIfRoot("putString"),new rE(function(t,e,n,r){void 0===n&&(n=ex.RAW),t._throwIfRoot("putString");var i=rx(n,e),o=Object(fl.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new Zx(t,new Sx(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return Yx(this._delegate).then(function(e){return new iE(e,t.storage)})},t.prototype.list=function(t){var e=this;return tE(this._delegate,t).then(function(t){return new iE(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=zx(t.storage,t._location,Nx()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(fl.b)(this,void 0,void 0,function(){var n,r;return Object(fl.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=Ix(e.fullServerUrl()),o=Lx(n,r),s=t.maxOperationRetryTime,a=new Ux(i,"PATCH",Mx(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=qx(e),a}(t.storage,t._location,e,Nx()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=Ix(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Ux(r,"GET",function(t,e){return function(n,r){var i=Dx(t,r,e);return Vx(null!==i),function(t,e){var n=Cx(e);if(null===n)return null;if(!vx(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return Ix("/b/"+i(t.bucket)+"/o/"+i(n))+jx({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=qx(e),o}(t.storage,t._location,Nx()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new zO("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(fl.b)(this,void 0,void 0,function(){var e,n;return Object(fl.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=Ix(e.fullServerUrl()),r=new Ux(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=qx(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw YO(t)},t}(),sE=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),aE=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(Tw){o(Tw)}else null!==s?((r=GO()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?XO():WO():new zO("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new uE(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new uE(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===bx.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new uE(s,n))}else{var a=n.getErrorCode()===bx.ABORT;e(!1,new uE(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(fl.g)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(fl.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),uE=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function cE(t){return/^[A-Za-z]+:\/\//.test(t)}function lE(t,e){if(t instanceof pE){var n=t;if(null==n._bucket)throw new zO("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Xx(n,n._bucket);return null!=e?lE(r,e):r}if(void 0!==e){if(e.includes(".."))throw ZO('`path` param cannot contain ".."');return eE(t,e)}return t}function hE(t,e){if(e&&cE(e)){if(t instanceof pE)return new Xx(t,e);throw ZO("To use ref(service, url), the first argument must be a Storage instance.")}return lE(t,e)}var fE,dE,pE=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Tx.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:Tx.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Ox("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Ox("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(fl.b)(this,void 0,void 0,function(){var t,e;return Object(fl.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new Xx(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new sE(XO());var r=function(t,e,n,r){var i=jx(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==us.a?us.a.SDK_VERSION:"AppManager")}(s),new aE(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),gE=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(cE(t))throw ZO("ref() expected a child path but got a URL, use refFromURL instead.");return new oE(hE(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!cE(t))throw ZO("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Tx.makeFromUrl(t)}catch(Tw){throw ZO("refFromUrl() expected a valid full URL but got an invalid one.")}return new oE(hE(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function bE(t){const e=function(t){return new kt.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=Yo.a){return n=>n.lift(new VO(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(jt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function mE(t,e,n){return{getDownloadURL:()=>Object(Ze.a)(void 0).pipe(Object(os.b)(e.outsideAngular),gn(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Ze.a)(void 0).pipe(Object(os.b)(e.outsideAngular),gn(()=>t.getMetadata()),n),delete:()=>Object(Pt.a)(t.delete()),child:r=>mE(t.child(r),e,n),updateMetadata:e=>Object(Pt.a)(t.updateMetadata(e)),put:(e,n)=>bE(t.put(e,n)),putString:(e,n,r)=>bE(t.putString(e,n,r)),listAll:()=>Object(Pt.a)(t.listAll())}}dE={TaskState:px,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:ex,Storage:pE,Reference:oE},(fE=us.a).INTERNAL.registerComponent(new Cw.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new gE(n,new pE(n,r,new yx,e))},"PUBLIC").setServiceProps(dE).setMultipleInstances(!0)),fE.registerVersion("@firebase/storage","0.4.2");const yE=new r.q("angularfire2.storageBucket"),vE=new r.q("angularfire2.storage.maxUploadRetryTime"),wE=new r.q("angularfire2.storage.maxOperationRetryTime");let _E=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new ss.e(i),this.keepUnstableUntilFirst=Object(ss.i)(this.schedulers);const a=Object(ss.h)(t,i,e);this.storage=Object(ss.g)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return mE(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return mE(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return mE(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ss.c),r.Pb(ss.b,8),r.Pb(yE,8),r.Pb(r.B),r.Pb(r.z),r.Pb(vE,8),r.Pb(wE,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(ss.c),Object(r.Pb)(ss.b,8),Object(r.Pb)(yE,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(vE,8),Object(r.Pb)(wE,8))},token:t,providedIn:"any"}),t})(),OE=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),xE=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[_E],imports:[OE]}),t})(),EE=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[H,qo,Je]]}),t})(),SE=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[vO]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[EE,St,bO,Je,ss.a.initializeApp(i),UO,o_,xE,sO,dO.forRoot({loader:K_,sanitize:r.H.NONE})]]}),t})();Object(r.S)(),xt().bootstrapModule(SE).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);